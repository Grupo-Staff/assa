Exportfile for AOT version 1.0 or later
Formatversion: 1

***Element: REF

; Microsoft Dynamics AX REFERENCE : Ionic.Zip unloaded
; --------------------------------------------------------------------------------
  VERSION 1
  
  REFERENCE #Ionic.Zip
    PROPERTIES
      Name                #Ionic.Zip
      AssemblyName        #Ionic.Zip
      AssemblyDisplayName #Ionic.Zip, Version=1.9.1.8, Culture=neutral, PublicKeyToken=edbe51ad942a3f5c
      Culture             #
      PublicKeyToken      #edbe51ad942a3f5c
      Version             #1.9.1.8
      ServiceReference    #No
      WSDLURL             #
      .NETCodeNamespace   #
      ServiceDescription  #
      Origin              #{B84143BB-44FA-4870-9551-05846C1D7BFF}
    ENDPROPERTIES
    
  ENDREFERENCE
  

***Element: JOB

; Microsoft Dynamics AX Job: EspaciosBlanco descargados
; --------------------------------------------------------------------------------
  JOBVERSION 1
  
  SOURCE #EspaciosBlanco
    #static void EspaciosBlanco(Args _args)
    #{
    #      STF_SATSubLedgerTable STF_SATSubLedgerTable;
    #      str c = "";
    #      int cantidad=0;
    #      ;
    #
    #
    #      while select forupdate STF_SATSubLedgerTable
    #      {
    #
    #        c = SubStr(STF_SATSubLedgerTable.Description,0,1);
    #
    #        if(c == " ")
    #        {
    #            ttsBegin;
    #             STF_SATSubLedgerTable.Description = substr(STF_SATSubLedgerTable.Description,2,strlen(STF_SATSubLedgerTable.Description));
    #             STF_SATSubLedgerTable.update();
    #             cantidad++;
    #             ttscommit;
    #        }
    #
    #
    #      }
    #
    #      info(StrFmt( "Ya termine fueron %1",cantidad));
    #}
  ENDSOURCE
  PROPERTIES
    Origin              #{A56D76FA-D0A8-4F48-847B-934CDF5A101F}
  ENDPROPERTIES
  

***Element: JOB

; Microsoft Dynamics AX Job: Stf_UploadChartsOfAccount descargados
; --------------------------------------------------------------------------------
  JOBVERSION 1
  
  SOURCE #Stf_UploadChartsOfAccount
    #static void Stf_UploadChartsOfAccount()
    #{
    #    SysExcelApplication application;
    #    SysExcelWorkbooks workbooks;
    #    SysExcelWorkbook workbook;
    #    SysExcelWorksheets worksheets;
    #    SysExcelWorksheet worksheet;
    #    SysExcelWorksheet worksheetLine;
    #    SysExcelCells cells;
    #    SysExcelCells cellsLine;
    #    COMVariantType type;
    #    FilenameOpen filename;
    #
    #    //Dialog
    #    Dialog              dialog;
    #    DialogField         field;
    #
    #    //Tables
    #    STF_SATLedgerTable       STF_SATLedgerTable;
    #    STF_SATSubLedgerTable    STF_SATSubLedgerTable;
    #
    #
    #    int row = 1, rowline = 1; //si el excel tiene titulos en las columnas
    #    int limit = 2000, cuenta = 0, modificados = 0, iguales = 0, cuentaline = 0;
    #    str producto, descripcion;
    #    int cantidadRecibida, documentoBase, numeroArticulosTotales = 0, existenDiscrepancias = 0;
    #    real igi;
    #    str a;
    #    str b;
    #    ;
    #
    #    dialog = new Dialog("Select the excel file to import ");
    #    field = dialog.addField(extendedtypestr(FilenameOpen));
    #    dialog.run();
    #
    #    if (dialog.closedOk())
    #    {
    #        filename = field.value();
    #        info(field.value());
    #
    #    }
    #    else
    #    {
    #        return;
    #    }
    #
    #    application = SysExcelApplication::construct();
    #    workbooks = application.workbooks();
    #
    #    try
    #    {
    #        workbooks.open(filename);
    #    }
    #    catch (Exception::Error)
    #    {
    #        throw error("No se encontro el archivo" );
    #    }
    #    workbook = workbooks.item( 1);
    #    worksheets = workbook.worksheets();
    #    //nombre de la hoja dentro del excel
    #    worksheet = worksheets.itemFromName("Header");
    #    worksheetLine = worksheets.itemFromName("Line");
    #
    #    cells = worksheet.cells();
    #    cellsLine = worksheetLine.cells();
    #
    #    //Iterando las celdas y sacando valores
    #   do
    #    {
    #        //Incrementando a la siguiente fila en el excel
    #        row++;
    #
    #        STF_SATLedgerTable.AccountNum = cells.item(row,2).value().double();
    #        STF_SATLedgerTable.AccountNumLabel = num2str(cells.item(row, 2 ).value().double(),1,2,1,0);
    #        STF_SATLedgerTable.Description = cells.item(row,3).value().bStr();
    #        STF_SATLedgerTable.insert();
    #
    #        numeroArticulosTotales++;
    #        //Guardando el tipo de celda en una variable COMVariantType y validando si esta vacia o no
    #        type = cells.item(row+ 1, 2 ).value().variantType();
    #        cuenta++;
    #
    #    }
    #    while (type != COMVariantType::VT_EMPTY && cuenta < limit);
    #
    #    do
    #    {
    #        //Incrementando a la siguiente fila en el excel
    #        rowline++;
    #
    #        STF_SATSubLedgerTable.ParentAccountNum = cellsline.item(rowline,1).value().double();
    #        STF_SATSubLedgerTable.AccountNum = cellsline.item(rowline,3).value().double();
    #        STF_SATSubLedgerTable.AccountNumLabel = num2str(cellsline.item(rowline, 3 ).value().double(),1,2,1,0);
    #        STF_SATSubLedgerTable.Description = cellsline.item(rowline,4).value().bStr();
    #        STF_SATSubLedgerTable.insert();
    #
    #        numeroArticulosTotales++;
    #        //Guardando el tipo de celda en una variable COMVariantType y validando si esta vacia o no
    #        type = cellsline.item(rowline+ 1, 2 ).value().variantType();
    #        cuentaline++;
    #
    #    }
    #    while (type != COMVariantType::VT_EMPTY && cuentaline < limit);
    #
    #     //Cerrando la app de excel
    #    application.quit();
    #
    #    info( strFmt("numero de Cuentas: %1 Detalles: %2" , cuenta,cuentaline));
    #
    #
    #
    #
    #
    #}
  ENDSOURCE
  PROPERTIES
    Origin              #{4BB68863-2472-4B17-A90D-24E10A08938D}
  ENDPROPERTIES
  

***Element: MNU

; Microsoft Dynamics AX Menu : STF_ElectronicAccounting unloaded
; --------------------------------------------------------------------------------
  MNUVERSION 5
  
  MENU #STF_ElectronicAccounting
    PROPERTIES
      Name                #STF_ElectronicAccounting
      Label               #@INZ84
      SetCompany          #Yes
      NormalImage         #10732
      ImageLocation       #EmbeddedResource
      Origin              #{534ECC1E-3826-4518-80DF-CFA034E18F4B}
    ENDPROPERTIES
    
    MENU #@SYS26806
      PROPERTIES
        Name                #Comun
        Label               #@SYS26806
      ENDPROPERTIES
      
      MENUITEM
        PROPERTIES
          Name                #Códigos agrupadores SAT
          MenuItemName        #STF_SATLedgerTable
        ENDPROPERTIES
        
      ENDMENUITEM
      MENUITEM
        PROPERTIES
          Name                #Cuentas contables vinculadas a un código agrupador SAT
          MenuItemName        #STF_SATLedgerTableExtended
        ENDPROPERTIES
        
      ENDMENUITEM
    ENDMENU
    MENU #@SYS6845
      PROPERTIES
        Name                #CopyOfReports
        Label               #@SYS6845
        NormalImage         #3477
        ImageLocation       #EmbeddedResource
      ENDPROPERTIES
      
      MENUITEM
        PROPERTIES
          Name                #Catálogo contable con códigos agrupadores SAT
          MenuItemName        #STF_SATChartOfAccountsTable
        ENDPROPERTIES
        
      ENDMENUITEM
      MENUITEM
        PROPERTIES
          Name                #Balanza de comprobación reportada al SAT
          MenuItemName        #STF_SATLedgerTrialBalanceTable
        ENDPROPERTIES
        
      ENDMENUITEM
      MENUITEM
        PROPERTIES
          Name                #Informes de pólizas reportados al SAT
          MenuItemName        #STF_SATVouchersTable
        ENDPROPERTIES
        
      ENDMENUITEM
    ENDMENU
    MENU #@SYS2186
      PROPERTIES
        Name                #Setup
        Label               #@SYS2186
        NormalImage         #3478
        ImageLocation       #EmbeddedResource
      ENDPROPERTIES
      
      MENUITEM
        PROPERTIES
          Name                #Configuración de contabilidad electrónica
          MenuItemName        #STF_ElectronicAccountingParameters
        ENDPROPERTIES
        
      ENDMENUITEM
      MENUITEM
        PROPERTIES
          Name                #Configuración de tipos de documentos
          MenuItemName        #STF_SetupDocumentTypeEA
        ENDPROPERTIES
        
      ENDMENUITEM
    ENDMENU
  ENDMENU
  

***Element: MCR

; Microsoft Dynamics AX Macro: STF_ElectronicAccountingXmlTags descargados
; --------------------------------------------------------------------------------
  JOBVERSION 1
  
  SOURCE #STF_ElectronicAccountingXmlTags
    #//Project: STF_ElectronicAccounting   Developer: Arly Rubio C.  Date: July/22/2014
    ##define.ChartNode("Catalogo")
    ##define.VersionAttribute("Version")
    ##define.TaxIdentifierAttribute("RFC")
    ##define.TotalAccountsAttribute("TotalCtas")
    ##define.MonthAttribute("Mes")
    ##define.YearAttribute("Anio")
    #
    ##define.AccountsNode("Ctas")
    ##define.GroupingCodeAttribute("CodAgrup")
    ##define.AccountNumAttribute("NumCta")
    ##define.AccountDescAttribute("DesCta")
    ##define.DescAttribute("Desc")
    ##define.LevelAttribute("Nivel")
    ##define.DebitCreditTypeAttribute("Natur")
    #
    ##define.TrialBalanceNode("Balanza")
    ##define.OpeningBalanceAttribute("SaldoIni")
    ##define.DebitAttribute("Debe")
    ##define.CreditAttribute("Haber")
    ##define.EndingBalanceAttribute("SaldoFin")
    ##define.TipoEnvio("TipoEnvio")
    ##define.FechaModBal("FechaModBal")
    #
    ##define.schemaLocationAttribute("xsi:schemaLocation")
    ##define.xmlnsAttribute("xsi:xmlns")
    #
    ##define.VouchersNode("Polizas")
    ##define.VoucherNode("Poliza")
    ##define.VoucherTypeAttribute("Tipo")
    ##define.VoucherNumAttribute("NumUnIdenPol")
    ##define.VoucherDateAttribute("Fecha")
    ##define.VoucherConceptAttribute("Concepto")
    ##define.VoucherDocumentType("TipoSolicitud")
    ##define.VoucherNumOrden("NumOrden")
    ##define.VoucherNumTramite("NumTramite")
    #
    ##define.VoucherTransNode("Transaccion")
    ##define.VoucherTransNumCtaAttribute("NumCta")
    ##define.VoucherTransConcepAttribute("Concepto")
    ##define.VoucherTransDebitAttribute("Debe")
    ##define.VoucherTransCreditAttribute("Haber")
    ##define.VoucherTransCurrencyAttribute("Moneda")
    ##define.VoucherTransExchRateAttribute("TipCamb")
    #
    ##define.CheckNode("Cheque")
    ##define.CheckNumAttribute("Num")
    #//#define.BankAttribute("Banco")
    ##define.BankAttribute("BanEmisNal")
    ##define.BankAttributeExt("BanEmisExt")
    ##define.BankAccountNumAttribute("CtaOri")
    ##define.CheckDateAttribute("Fecha")
    ##define.CheckAmountAttribute("Monto")
    ##define.CheckBeneficiaryAttribute("Benef")
    ##define.CheckBeneficiaryVATNumAttribute("RFC")
    ##define.CheckMoneda("Moneda")
    ##define.CheckTipCamb("TipCamb")
    #
    ##define.BankTransferNode("Transferencia")
    ##define.TransferAccountNumFromAttribute("CtaOri")
    #//#define.TransferBankFromAttribute("BancoOri")
    ##define.TransferBankFromAttribute("BancoOriNal")
    ##define.TransferBankFromAttributeExt("BancoOriExt")
    ##define.TransferAmountAttribute("Monto")
    ##define.TransferAccountNumToAttribute("CtaDest")
    #//#define.TransferBankToAttribute("BancoDest")
    ##define.TransferBankToAttribute("BancoDestNal")
    ##define.TransferBankToAttributeExt("BancoDestExt")
    ##define.TransferDateAttribute("Fecha")
    ##define.TransferBeneficiaryAttribute("Benef")
    ##define.TransferBeneficiaryVATNumAttribute("RFC")
    ##define.TransferMoneda("Moneda")
    ##define.TransferTipCamb("TipCamb")
    #
    ##define.ReceiptsNode("Comprobantes")
    ##define.ReceiptUUIDAttribute("UUID_CFDI")
    ##define.ReceiptAmountAttribute("Monto")
    ##define.ReceiptVATNumAttribute("RFC")
    #
    ##define.CompNal("CompNal")
    ##define.CompNalUUID_CFDI("UUID_CFDI")
    ##define.CompNalRFC("RFC")
    ##define.CompNalMontoTotal("MontoTotal")
    ##define.CompNalMoneda("Moneda")
    ##define.CompNalTipCamb("TipCamb")
    #
    ##define.CompNalOtr("CompNalOtr")
    ##define.CompNalOtrCFD_CBB_Serie("CFD_CBB_Serie")
    ##define.CompNalOtrCFD_CBB_NumFol("CFD_CBB_NumFol")
    ##define.CompNalOtrRFC("RFC")
    ##define.CompNalOtrMontoTotal("MontoTotal")
    ##define.CompNalOtrMoneda("Moneda")
    ##define.CompNalOtrTipCamb("TipCamb")
    #
    ##define.CompExt("CompExt")
    ##define.CompExtNumFactExt("NumFactExt")
    ##define.CompExtTaxID("TaxID")
    ##define.CompExtMontoTotal("MontoTotal")
    ##define.CompExtMoneda("Moneda")
    ##define.CompExtTipCamb("TipCamb")
    #
    ##define.OtrMetodoPago("OtrMetodoPago")
    ##define.OtrMetodoPagoMetPagoPol("MetPagoPol")
    ##define.OtrMetodoPagoFecha("Fecha")
    ##define.OtrMetodoPagoBenef("Benef")
    ##define.OtrMetodoPagoRFC("RFC")
    ##define.OtrMetodoPagoMonto("Monto")
    ##define.OtrMetodoPagoMoneda("Moneda")
    ##define.OtrMetodoPagoTipCamb("TipCamb")
    #
    #
    #
    #
    #
  ENDSOURCE
  PROPERTIES
    Origin              #{B493AD36-DC27-4009-AD00-983E683830BA}
  ENDPROPERTIES
  

***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 12

FORM #BankGroup
  PROPERTIES
    Name                #BankGroup
    Origin              #{ACD36CA8-3847-422B-9544-A862634919EE}
  ENDPROPERTIES
  
  METHODS
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #    LogisticsPostalAddressFormHandler addressController;
      #    SysFormSplitter_X m_VSplitter;
      #}
    ENDSOURCE
    SOURCE #enableButtons_RU
      #void enableButtons_RU()
      #{
      #    vendTransBank_RU.enabled(bankGroup.VendAccountNum_RU != '');
      #    vendFunctions_RU.enabled(bankGroup.VendAccountNum_RU != '');
      #}
    ENDSOURCE
    SOURCE #enableFields_RU
      #public void enableFields_RU()
      #{
      #    bankGroup_ds.object(fieldNum(BankGroup, BaseBankId_RU)).enabled(bankGroup.BankType_RU == BankType_RU::Branch);
      #    bankGroup_ds.object(fieldNum(BankGroup, BankBIC_RU)).enabled(bankGroup.BankType_RU != BankType_RU::Foreign);
      #    bankGroup_ds.object(fieldNum(BankGroup, BankBIC_RU)).mandatory(bankGroup.BankType_RU != BankType_RU::Foreign);
      #    bankGroup_ds.object(fieldNum(BankGroup, BankCorrAccount_W)).enabled(bankGroup.BankType_RU != BankType_RU::Foreign);
      #    bankGroup_ds.object(fieldNum(BankGroup, VendAccountNum_RU)).mandatory(bankGroup.BankType_RU == BankType_RU::Foreign);
      #
      #    if (bankGroup.BankType_RU != BankType_RU::Branch)
      #    {
      #        bankGroup.BaseBankId_RU = '';
      #    }
      #
      #    if (bankGroup.BankType_RU == BankType_RU::Foreign)
      #    {
      #        bankGroup.BankBIC_RU = '';
      #        bankGroup.BankCorrAccount_W = '';
      #    }
      #}
    ENDSOURCE
    SOURCE #getAddressController
      #public LogisticsPostalAddressFormHandler getAddressController()
      #{
      #    return addressController;
      #}
    ENDSOURCE
    SOURCE #init
      #public void init()
      #{
      #    super();
      #    addressController = LogisticsPostalAddressFormHandler::newParameters(bankGroup_ds, logisticsPostalAddress_ds);
      #    addressController.callerUpdateQuery(fieldNum(BankGroup,Location));
      #    m_VSplitter = new SysFormSplitter_X(vSplitter, gridContainer, element);
      #    // <GEERU>
      #    element.initDesign_RU();
      #    // </GEERU>
      #}
    ENDSOURCE
    SOURCE #initDesign_RU
      #private void initDesign_RU()
      #{
      #    int controlIdx, controlCnt;
      #
      #    #ISOCountryRegionCodes
      #
      #    if (! SysCountryRegionCode::isLegalEntityInCountryRegion([ #isoRU ]))
      #        return;
      #
      #    bankGroup_ds.object(fieldNum(BankGroup, BankBIC_RU)).mandatory(true);
      #
      #    element.design().caption("@GLS103590");
      #
      #    general.columns(2, AutoMode::Fixed);
      #
      #    controlCnt = element.design().controlCount();
      #    for (controlIdx = 1; controlIdx <= controlCnt; controlIdx ++)
      #    {
      #        element.initDesignControl_RU(element.design().controlNum(controlIdx));
      #    }
      #
      #    // <GEERU>
      #    element.enableFields_RU();
      #    element.enableButtons_RU();
      #    // </GEERU>
      #}
    ENDSOURCE
    SOURCE #initDesignControl_RU
      #private void initDesignControl_RU(FormControl _control)
      #{
      #    FormStringControl stringControl;
      #    Object            containerControl;
      #    int controlIdx, controlCnt;
      #
      #    if (_control is FormStringControl)
      #    {
      #        stringControl = _control as FormStringControl;
      #
      #        if (stringControl.dataFieldName() == fieldStr(BankGroup, BankGroupId) &&
      #            stringControl.dataSource() == bankGroup_DS.id())
      #        {
      #            stringControl.label("@GLS103592");
      #            stringControl.helpText("@GLS103106");
      #        }
      #    }
      #
      #    if (_control is FormTabControl     ||
      #        _control is FormTabPageControl ||
      #        _control is FormGroupControl   ||
      #        _control is FormGridControl)
      #    {
      #        containerControl = _control;
      #        controlCnt       = containerControl.controlCount();
      #        for (controlIdx = 1; controlIdx <= controlCnt; controlIdx ++)
      #        {
      #            element.initDesignControl_RU(containerControl.controlNum(controlIdx));
      #        }
      #    }
      #}
    ENDSOURCE
    SOURCE #lookupTemplate_RU
      #public void lookupTemplate_RU(FormStringControl _formControl, str _filterStr)
      #{
      #    bankGroup.(_formControl.dataField())=  WinAPI::getOpenFileName(element.hWnd(),
      #                                                                   [ "@SYS28577", "@GLS103049" ],
      #                                                                   templateFolder_W(),
      #                                                                   "@SYS28577",
      #                                                                   "@GLS103049",
      #                                                                   _filterStr);
      #    bankGroup_ds.refresh();
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #BankGroup
          Table               #BankGroup
          Index               #BankGroupIdx
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD BankType_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    element.enableFields_RU();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD BaseBankId_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    SysTableLookup       sysTableLookup       = SysTableLookup::newParameters(tableNum(BankGroup), _formControl);
                #    Query                query                = new Query();
                #    QueryBuildDataSource queryBuildDataSource = query.addDataSource(tableNum(BankGroup));
                #    ;
                #
                #    sysTableLookup.addLookupfield(fieldNum(BankGroup, BankGroupId));
                #    sysTableLookup.addLookupfield(fieldNum(BankGroup, Name));
                #    sysTableLookup.addLookupfield(fieldNum(BankGroup, BankBIC_RU));
                #
                #    queryBuildDataSource.addRange(fieldNum(BankGroup, BankType_RU)).value(enum2str(BankType_RU::Main));
                #    queryBuildDataSource.addRange(fieldNum(BankGroup, BankGroupId)).value(SysQuery::valueNot(bankGroup.BankGroupId));
                #    sysTableLookup.parmQuery(query);
                #
                #    sysTableLookup.performFormLookup();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TemplateFileName_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    element.lookuptemplate_RU(_formControl, _filterStr);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CurrencyOrder_TemplateName_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    element.lookuptemplate_RU(_formControl, _filterStr);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #active
          #public int active()
          #{
          #    // <GEERU>
          #    #ISOCountryRegionCodes
          #    //</GEERU>
          #
          #    int ret;
          #
          #    ret = super();
          #
          #    if (ret)
          #    {
          #        addressController.callerActive();
          #        addressController.callerUpdateButtons(newAddress, editAddress, clearAddress, mapButton);
          #    }
          #    // <GEERU>
          #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]))
          #    {
          #        element.enableFields_RU();
          #        element.enableButtons_RU();
          #    }
          #    // </GEERU>
          #
          #    return ret;
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #LogisticsPostalAddress
          Table               #LogisticsPostalAddress
          AllowCheck          #No
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #BankGroup
          LinkType            #OuterJoin
          ValidTimeStateUpdate #Correction
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    return true;
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    //super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #VendTable
          Table               #VendTable
          JoinSource          #BankGroup
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  REFERENCEDATASOURCES
  ENDREFERENCEDATASOURCES
  
  JOINS
    LogisticsPostalAddress BankGroup
    VendTable BankGroup
  ENDJOINS
  
  PARTREFERENCES
  ENDPARTREFERENCES
  
  DESIGN
    PROPERTIES
      Caption             #@SYS54424
      DataSource          #BankGroup
      HideIfEmpty         #No
      Style               #SimpleListDetails
    ENDPROPERTIES
    
    CONTAINER
      CONTROL ACTIONPANE
        PROPERTIES
          Name                #ActionPane
          ElementPosition     #1073741822
          HierarchyParent     #TabAddress
          Style               #Strip
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANE
        PROPERTIES
          Name                #ActionPane1
          ElementPosition     #715827882
          Style               #Strip
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #ActionPaneTab
          ElementPosition     #1073741823
          HierarchyParent     #ActionPane
          DataSource          #LogisticsPostalAddress
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #ActionPaneTab1
          ElementPosition     #1431655764
          HierarchyParent     #ActionPane1
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ActionsButtonGroup
          ElementPosition     #1073741823
          HierarchyParent     #ActionPaneTab
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ButtonGroup
          ElementPosition     #1073741822
          HierarchyParent     #ActionPaneTab1
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #NewDeleteGroup
          ElementPosition     #536870911
          HierarchyParent     #ActionPaneTab1
          DataSource          #BankGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #Grid
          AllowEdit           #No
          Width               #Column width
          Height              #Column height
          ElementPosition     #715827882
          HierarchyParent     #GridContainer
          MultiSelect         #No
          ShowRowLabels       #No
          DataSource          #BankGroup
          GridLinesStyle      #Vertical
          AlternateRowShading #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #AddressDisplay
          Width               #Column width
          Height              #Column height
          ElementPosition     #1610612733
          HierarchyParent     #TabAddress
          FrameType           #None
          DataSource          #LogisticsPostalAddress
          TopMargin           #20
          DataGroup           #AddressDisplay
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #BankDetails
          CountryRegionCodes  #JP
          ElementPosition     #1181116005
          HierarchyParent     #General
          DataSource          #BankGroup
          DataGroup           #BankDetails
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #BankReconciliation
          ElementPosition     #1431655764
          HierarchyParent     #TabBankReconciliationStatement
          FrameType           #None
          DataSource          #BankGroup
          DataGroup           #BankReconciliation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #BankShortAddressing_RU
          ElementPosition     #1879048190
          HierarchyParent     #TabAddress
          DataSource          #BankGroup
          DataGroup           #BankShortAddressing_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #BankType_RU
          ElementPosition     #1503238551
          HierarchyParent     #General
          DataSource          #BankGroup
          DataGroup           #BankType_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Body
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          Style               #MarginlessContainer
          Columns             #3
          Columnspace         #0
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ContactInfo
          ElementPosition     #1431655764
          HierarchyParent     #Communication
          DataSource          #BankGroup
          DataGroup           #ContactInfo
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CorrespondenceAccount_RU
          ElementPosition     #1395864369
          HierarchyParent     #General
          DataSource          #BankGroup
          DataGroup           #CorrespondenceAccount_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Description_RU
          CountryRegionCodes  #RU
          ElementPosition     #1288490187
          HierarchyParent     #General
          DataSource          #BankGroup
          DataGroup           #Description
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DetailsContainer
          Width               #Column width
          Height              #Column height
          ElementPosition     #1288490187
          HierarchyParent     #Body
          Style               #MarginlessContainer
          TopMargin           #5
          RightMargin         #5
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DetailsHeader
          ElementPosition     #536870911
          HierarchyParent     #DetailsContainer
          FrameType           #None
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GridContainer
          AutoDeclaration     #Yes
          Width               #300
          Height              #Column height
          ElementPosition     #429496729
          HierarchyParent     #Body
          Style               #BorderlessGridContainer
          RightMargin         #0
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Identification
          ElementPosition     #680036486
          HierarchyParent     #General
          DataSource          #BankGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Identification_RU
          CountryRegionCodes  #RU
          ElementPosition     #1020054731
          HierarchyParent     #General
          DataSource          #BankGroup
          DataGroup           #Identification_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Overview1
          ElementPosition     #715827882
          HierarchyParent     #DetailsHeader
          FrameType           #None
          BackgroundColor     #Window background
          DataSource          #BankGroup
          DataGroup           #Overview
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PaymentManagement
          ElementPosition     #1717986916
          HierarchyParent     #General
          DataSource          #BankGroup
          DataGroup           #PaymentManagement
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PaymentOrderInCurrency_RU
          ElementPosition     #1073741822
          HierarchyParent     #TabSetup_RU
          DataSource          #BankGroup
          DataGroup           #PaymentOrderInCurrency_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PurchaseOfFundsInHardCurrency_RU
          ElementPosition     #1610612733
          HierarchyParent     #TabSetup_RU
          DataSource          #BankGroup
          DataGroup           #PurchaseOfFundsInHardCurrency_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Setup
          ElementPosition     #1288490187
          HierarchyParent     #General
          DataSource          #BankGroup
          DataGroup           #Setup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #VSplitter
          AutoDeclaration     #Yes
          ElementPosition     #858993458
          HierarchyParent     #Body
          Style               #SplitterVerticalContainer
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #VendFunctions_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          HelpText            #@SYS83637
          ElementPosition     #1968526674
          HierarchyParent     #ButtonGroup
          Text                #@SYS10340
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #Tab
          Width               #Column width
          Height              #Column height
          ElementPosition     #1073741822
          HierarchyParent     #DetailsContainer
          Tabs                #2
          Style               #FastTabs
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #Communication
          Width               #Column width
          ElementPosition     #1717986916
          HierarchyParent     #Tab
          Caption             #@SYS21663
          DataSource          #BankGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #General
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #1503238551
          HierarchyParent     #Tab
          Caption             #@SYS2952
          DataSource          #BankGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabAddress
          Width               #Column width
          ElementPosition     #1288490187
          HierarchyParent     #Tab
          Caption             #@SYS9362
          DataSource          #LogisticsPostalAddress
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabBankReconciliationStatement
          Width               #Column width
          ConfigurationKey    #Bank
          ElementPosition     #1731408689
          HierarchyParent     #Tab
          Caption             #@SYS69067
          DataSource          #BankGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabSetup_RU
          CountryRegionCodes  #RU
          ElementPosition     #1744830462
          HierarchyParent     #Tab
          Caption             #@SYS2186
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Identification_BankCodeType
          ElementPosition     #1073741822
          HierarchyParent     #Identification
          DataSource          #BankGroup
          DataField           #BankCodeType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #DeleteButton
          ElementPosition     #1073741822
          HierarchyParent     #NewDeleteGroup
          Text                #@sys14425
          ButtonDisplay       #Text & Image left
          NormalImage         #10121
          ImageLocation       #EmbeddedResource
          SaveRecord          #No
          Primary             #Yes
          Command             #2832
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #NewButton
          ElementPosition     #536870911
          HierarchyParent     #NewDeleteGroup
          ButtonDisplay       #Text & Image left
          NormalImage         #11045
          ImageLocation       #EmbeddedResource
          Primary             #Yes
          Command             #260
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #BankImport_RU
          ElementPosition     #1372003440
          HierarchyParent     #ButtonGroup
          ButtonDisplay       #Text & Image left
          NormalImage         #11279
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          MenuItemType        #Action
          MenuItemName        #BankImport_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonUpgradeAccounts
          ElementPosition     #1073741823
          HierarchyParent     #ButtonGroup
          DataSource          #BankGroup
          MenuItemType        #Action
          MenuItemName        #BankUpdateFromGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ClearAddress
          AutoDeclaration     #Yes
          ElementPosition     #1700091219
          HierarchyParent     #ActionsButtonGroup
          ButtonDisplay       #Text & Image left
          DataSource          #LogisticsPostalAddress
          MenuItemName        #LogisticsPostalAddressClearBankGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #EditAddress
          AutoDeclaration     #Yes
          ElementPosition     #1386916521
          HierarchyParent     #ActionsButtonGroup
          ButtonDisplay       #Text & Image left
          DataSource          #LogisticsPostalAddress
          MenuItemName        #LogisticsPostalAddressEditBankGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MapButton
          AutoDeclaration     #Yes
          ElementPosition     #1923787432
          HierarchyParent     #ActionsButtonGroup
          ButtonDisplay       #Text & Image left
          DataSource          #LogisticsPostalAddress
          MenuItemName        #LogisticsPostalAddressMap
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #NewAddress
          AutoDeclaration     #Yes
          ElementPosition     #924611014
          HierarchyParent     #ActionsButtonGroup
          ButtonDisplay       #Text & Image left
          MenuItemName        #LogisticsPostalAddressNewBankGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #VendOpenTransBank_RU
          ElementPosition     #1073741822
          HierarchyParent     #VendFunctions_RU
          ButtonDisplay       #Text & Image left
          NormalImage         #10793
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          DataSource          #VendTable
          MenuItemName        #VendOpenTransBank_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #VendOpenTransBankReverse_RU
          ElementPosition     #1610612733
          HierarchyParent     #VendFunctions_RU
          ButtonDisplay       #Text & Image left
          NormalImage         #10495
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          DataSource          #VendTable
          MenuItemName        #VendOpenTransBankReverse_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #VendTransBank_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          ElementPosition     #1670265057
          HierarchyParent     #ButtonGroup
          ButtonDisplay       #Text & Image left
          NormalImage         #10836
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          DataSource          #VendTable
          MenuItemName        #VendTransBank
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #BankGroup_BRN_MY
          ElementPosition     #1879048189
          HierarchyParent     #Identification
          DataSource          #BankGroup
          DataField           #OrganizationNumber_MY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Identification_BankGroupId
          ElementPosition     #1073741822
          HierarchyParent     #Grid
          DataSource          #BankGroup
          DataField           #BankGroupId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Identification_CompanyPaymId
          ElementPosition     #1610612733
          HierarchyParent     #Identification
          DataSource          #BankGroup
          DataField           #CompanyPaymId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Identification_RegistrationNum
          ElementPosition     #1610612733
          HierarchyParent     #Grid
          DataSource          #BankGroup
          DataField           #RegistrationNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
  PERMISSIONS #Permissions
    PROPERTIES
      CorrectPermissions  #Yes
    ENDPROPERTIES
    
    PERMISSIONSET #Read
      PROPERTIES
      ENDPROPERTIES
      
      FORM #Controls
      ENDFORM
      
    TABLES #Tables
    ENDTABLES
    
  SERVERMETHODS #Server Methods
  ENDSERVERMETHODS
  
ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Update
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Create
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Correct
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Delete
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

ENDPERMISSIONS

ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 12

FORM #STF_SATLedgerTrialBalanceLine
  PROPERTIES
    Name                #STF_SATLedgerTrialBalanceLine
    Origin              #{F7076AB5-E9F5-450B-A161-A71E974645AF}
  ENDPROPERTIES
  
  METHODS
    SOURCE #classDeclaration
      #//Project: STF_ElectronicAccounting   Developer: Arly Rubio C.  Date: July/22/2014
      #public class FormRun extends ObjectRun
      #{
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #STF_SATLedgerTrialBalanceLine
          Table               #STF_SATLedgerTrialBalanceLine
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #EndingBalance
          #display real EndingBalance()
          #{
          #    real ret = 0;
          #    FormDataSource   TrialBalanceLine;
          #    Common           common;
          #    STF_SATLedgerTrialBalanceLine SumSTF_SATLedgerTrialBalanceLine;
          #    ;
          #
          #
          #    TrialBalanceLine = STF_SATLedgerTrialBalanceLine_DS;
          #
          #    for(common = TrialBalanceLine.getFirst(); common ; common = TrialBalanceLine.getNext())
          #    {
          #
          #        SumSTF_SATLedgerTrialBalanceLine = common;
          #        ret = ret + SumSTF_SATLedgerTrialBalanceLine.EndingBalance;
          #    }
          #
          #
          #
          #    return ret;
          #
          #}
        ENDSOURCE
        SOURCE #AmountCredit
          #display real AmountCredit()
          #{
          #    real ret = 0;
          #    FormDataSource   TrialBalanceLine;
          #    Common           common;
          #    STF_SATLedgerTrialBalanceLine SumSTF_SATLedgerTrialBalanceLine;
          #    ;
          #
          #
          #
          #    TrialBalanceLine = STF_SATLedgerTrialBalanceLine_DS;
          #
          #    for(common = TrialBalanceLine.getFirst(); common ; common = TrialBalanceLine.getNext())
          #    {
          #
          #        SumSTF_SATLedgerTrialBalanceLine = common;
          #        ret = ret + SumSTF_SATLedgerTrialBalanceLine.AmountCredit;
          #    }
          #
          #
          #
          #    return ret;
          #
          #
          #
          #}
        ENDSOURCE
        SOURCE #AmountDebit
          #display real AmountDebit()
          #{
          #
          #    real ret = 0;
          #    FormDataSource   TrialBalanceLine;
          #    Common           common;
          #    STF_SATLedgerTrialBalanceLine SumSTF_SATLedgerTrialBalanceLine;
          #    ;
          #
          #
          #    TrialBalanceLine = STF_SATLedgerTrialBalanceLine_DS;
          #
          #    for(common = TrialBalanceLine.getFirst(); common ; common = TrialBalanceLine.getNext())
          #    {
          #
          #        SumSTF_SATLedgerTrialBalanceLine = common;
          #        ret = ret + SumSTF_SATLedgerTrialBalanceLine.AmountDebit;
          #    }
          #
          #
          #
          #    return ret;
          #
          #
          #
          #}
        ENDSOURCE
        SOURCE #TotalopeningBalance
          #display real TotalopeningBalance()
          #{
          #   real ret = 0;
          #    FormDataSource   TrialBalanceLine;
          #    Common           common;
          #    STF_SATLedgerTrialBalanceLine SumSTF_SATLedgerTrialBalanceLine;
          #    ;
          #
          #    TrialBalanceLine = STF_SATLedgerTrialBalanceLine_DS;
          #
          #    for(common = TrialBalanceLine.getFirst(); common ; common = TrialBalanceLine.getNext())
          #    {
          #
          #        SumSTF_SATLedgerTrialBalanceLine = common;
          #        ret = ret + SumSTF_SATLedgerTrialBalanceLine.OpeningBalance;
          #    }
          #
          #
          #
          #    return ret;
          #
          #
          #
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  REFERENCEDATASOURCES
  ENDREFERENCEDATASOURCES
  
  JOINS
  ENDJOINS
  
  PARTREFERENCES
  ENDPARTREFERENCES
  
  DESIGN
    PROPERTIES
      Caption             #@FSA59
      TopMargin           #0
      BottomMargin        #0
      LeftMargin          #0
      RightMargin         #0
      StatusBarStyle      #None
    ENDPROPERTIES
    
    CONTAINER
      CONTROL GRID
        PROPERTIES
          Name                #Grid
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #GridGrp
          ShowRowLabels       #No
          DataSource          #STF_SATLedgerTrialBalanceLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DateRangeGrp
          ElementPosition     #858993458
          HierarchyParent     #Panels
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #General
          Width               #Column width
          Height              #Column height
          ElementPosition     #1073741823
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GridGrp
          Width               #Column width
          Height              #Column height
          ElementPosition     #1288490187
          HierarchyParent     #Panels
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Image
          ElementPosition     #858993458
          HierarchyParent     #Overview
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Overview
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #General
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          TopMargin           #0
          BottomMargin        #10
          LeftMargin          #5
          RightMargin         #0
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Panels
          Width               #Column width
          Height              #Column height
          ElementPosition     #1717986916
          HierarchyParent     #Overview
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Separator
          Width               #Column width
          Height              #20
          ElementPosition     #1288490187
          HierarchyParent     #Overview
          FrameType           #Solid background color (long)
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          BottomMargin        #0
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Total
          Width               #Column width
          Height              #Column height
          ElementPosition     #1717986916
          HierarchyParent     #Panels
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #STF_SATLedgerTrialBalanceLine_FromDate
          ElementPosition     #1073741822
          HierarchyParent     #DateRangeGrp
          DataSource          #STF_SATLedgerTrialBalanceLine
          DataField           #FromDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #STF_SATLedgerTrialBalanceLine_ToDate
          ElementPosition     #1610612733
          HierarchyParent     #DateRangeGrp
          DataSource          #STF_SATLedgerTrialBalanceLine
          DataField           #ToDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #AmountCredit
          AllowEdit           #No
          Left                #440
          Top                 #0
          Width               #79
          Height              #22
          ElementPosition     #1073741823
          HierarchyParent     #Total
          ThousandSeparator   #Comma (,)
          DecimalSeparator    #Dot (.)
          NoOfDecimals        #2
          FormatMST           #Yes
          ShowLabel           #No
          DataSource          #STF_SATLedgerTrialBalanceLine
          DataMethod          #AmountCredit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #AmountDebit
          AllowEdit           #No
          Left                #355
          Top                 #0
          Width               #80
          ElementPosition     #1431655764
          HierarchyParent     #Total
          ThousandSeparator   #Comma (,)
          DecimalSeparator    #Dot (.)
          NoOfDecimals        #2
          FormatMST           #Yes
          ShowLabel           #No
          DataSource          #STF_SATLedgerTrialBalanceLine
          DataMethod          #AmountDebit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EndingBalance
          AllowEdit           #No
          Left                #523
          Top                 #0
          ElementPosition     #1789569705
          HierarchyParent     #Total
          ThousandSeparator   #Comma (,)
          DecimalSeparator    #Dot (.)
          NoOfDecimals        #2
          FormatMST           #Yes
          ShowLabel           #No
          DataSource          #STF_SATLedgerTrialBalanceLine
          DataMethod          #EndingBalance
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #STF_SATLedgerTrialBalanceLine_AmountCredit
          ElementPosition     #1610612730
          HierarchyParent     #Grid
          DataSource          #STF_SATLedgerTrialBalanceLine
          DataField           #AmountCredit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #STF_SATLedgerTrialBalanceLine_AmountDebit
          ElementPosition     #1342177275
          HierarchyParent     #Grid
          DataSource          #STF_SATLedgerTrialBalanceLine
          DataField           #AmountDebit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #STF_SATLedgerTrialBalanceLine_EndingBalance
          ElementPosition     #1879048185
          HierarchyParent     #Grid
          DataSource          #STF_SATLedgerTrialBalanceLine
          DataField           #EndingBalance
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #STF_SATLedgerTrialBalanceLine_OpeningBalance
          ElementPosition     #1073741820
          HierarchyParent     #Grid
          DataSource          #STF_SATLedgerTrialBalanceLine
          DataField           #OpeningBalance
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #TotalopeningBalance
          AllowEdit           #No
          Left                #262
          Top                 #0
          Width               #89
          Height              #22
          ElementPosition     #715827882
          HierarchyParent     #Total
          ThousandSeparator   #Comma (,)
          DecimalSeparator    #Dot (.)
          NoOfDecimals        #2
          FormatMST           #Yes
          Label               #Totales
          DataSource          #STF_SATLedgerTrialBalanceLine
          DataMethod          #TotalopeningBalance
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STATICTEXT
        PROPERTIES
          Name                #StaticText
          Width               #Column width
          ElementPosition     #1431655764
          HierarchyParent     #Separator
          Text                #
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STATICTEXT
        PROPERTIES
          Name                #Title
          Left                #80
          Top                 #20
          ElementPosition     #1610612734
          HierarchyParent     #Image
          Text                #Detalles
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          Bold                #Bold
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #STF_SATLedgerTrialBalanceLine_AccountName
          ElementPosition     #805306365
          HierarchyParent     #Grid
          DataSource          #STF_SATLedgerTrialBalanceLine
          DataField           #AccountName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #STF_SATLedgerTrialBalanceLine_AccountNum
          ElementPosition     #536870910
          HierarchyParent     #Grid
          DataSource          #STF_SATLedgerTrialBalanceLine
          DataField           #AccountNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #Window
          Left                #0
          ElementPosition     #1073741822
          HierarchyParent     #Image
          ImageResource       #3184
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
  PERMISSIONS #Permissions
    PROPERTIES
    ENDPROPERTIES
    
    PERMISSIONSET #Read
      PROPERTIES
      ENDPROPERTIES
      
      FORM #Controls
      ENDFORM
      
    TABLES #Tables
    ENDTABLES
    
  SERVERMETHODS #Server Methods
  ENDSERVERMETHODS
  
ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Update
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Create
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Delete
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

ENDPERMISSIONS

ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 12

FORM #STF_SetupDocumentTypeEA
  PROPERTIES
    Name                #STF_SetupDocumentTypeEA
    Origin              #{278F9DB9-1E4E-48F7-B515-0DCFD076F4CD}
  ENDPROPERTIES
  
  METHODS
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #STF_SetupDocumentTypeEATable
          Table               #STF_SetupDocumentTypeEATable
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  REFERENCEDATASOURCES
  ENDREFERENCEDATASOURCES
  
  JOINS
  ENDJOINS
  
  PARTREFERENCES
  ENDPARTREFERENCES
  
  DESIGN
    PROPERTIES
    ENDPROPERTIES
    
    CONTAINER
      CONTROL GRID
        PROPERTIES
          Name                #Grid
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #GridGrp
          ShowRowLabels       #No
          DataSource          #STF_SetupDocumentTypeEATable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Buttons
          ElementPosition     #1431655764
          HierarchyParent     #Overview
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
          Columns             #10
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
              #0
              #0
              #0
              #0
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #General
          Width               #Column width
          Height              #Column height
          ElementPosition     #1073741823
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GridGrp
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #Panels
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Image
          ElementPosition     #715827882
          HierarchyParent     #Overview
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Overview
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #General
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          TopMargin           #0
          BottomMargin        #10
          LeftMargin          #5
          RightMargin         #0
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Panels
          Width               #Column width
          Height              #Column height
          ElementPosition     #1789569705
          HierarchyParent     #Overview
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Separator
          Width               #Column width
          Height              #20
          ElementPosition     #1073741823
          HierarchyParent     #Overview
          FrameType           #Solid background color (long)
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          BottomMargin        #0
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #STF_SetupDocumentTypeEATable_Type
          ElementPosition     #1717986916
          HierarchyParent     #Grid
          DataSource          #STF_SetupDocumentTypeEATable
          DataField           #Type
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #DeleteRecord
          ElementPosition     #1610612733
          HierarchyParent     #Buttons
          Text                #@SYS14425
          ButtonDisplay       #Text & Image left
          NormalImage         #1020
          ImageLocation       #EmbeddedResource
          Border              #None
          SaveRecord          #No
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          Command             #3343
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #NewRecord
          ElementPosition     #1073741822
          HierarchyParent     #Buttons
          Text                #@SYS5480
          ButtonDisplay       #Text & Image left
          NormalImage         #1085
          ImageLocation       #EmbeddedResource
          Border              #None
          ShowShortCut        #No
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          Command             #260
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STATICTEXT
        PROPERTIES
          Name                #StaticText
          Width               #Column width
          ElementPosition     #1431655764
          HierarchyParent     #Separator
          Text                #
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STATICTEXT
        PROPERTIES
          Name                #Title
          Left                #80
          Top                 #20
          ElementPosition     #1610612733
          HierarchyParent     #Image
          Text                #Setup Document Type
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          Bold                #Bold
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #STF_SetupDocumentTypeEATable_Description
          ElementPosition     #1288490187
          HierarchyParent     #Grid
          DataSource          #STF_SetupDocumentTypeEATable
          DataField           #Description
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #STF_SetupDocumentTypeEATable_Id
          ElementPosition     #858993458
          HierarchyParent     #Grid
          DataSource          #STF_SetupDocumentTypeEATable
          DataField           #Id
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #Window
          Left                #0
          ElementPosition     #1073741822
          HierarchyParent     #Image
          ImageResource       #3184
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
  PERMISSIONS #Permissions
    PROPERTIES
    ENDPROPERTIES
    
    PERMISSIONSET #Read
      PROPERTIES
      ENDPROPERTIES
      
      FORM #Controls
      ENDFORM
      
    TABLES #Tables
    ENDTABLES
    
  SERVERMETHODS #Server Methods
  ENDSERVERMETHODS
  
ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Update
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Create
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Delete
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

ENDPERMISSIONS

ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 12

FORM #STF_SATLedgerTrialBalanceTable
  PROPERTIES
    Name                #STF_SATLedgerTrialBalanceTable
    Origin              #{CF9721E3-3088-4B44-AC60-2914E49176CB}
  ENDPROPERTIES
  
  METHODS
    SOURCE #classDeclaration
      #//Project: STF_ElectronicAccounting   Developer: Arly Rubio C.  Date: July/22/2014
      #public class FormRun extends ObjectRun
      #{
      #    NumberSeqFormHandler numberSeqFormHandler;
      #}
    ENDSOURCE
    SOURCE #close
      #public void close()
      #{
      #    ;
      #
      #    if (numberSeqFormHandler)
      #    {
      #        numberSeqFormHandler.formMethodClose();
      #    }
      #
      #    super();
      #}
    ENDSOURCE
    SOURCE #numberSeqFormHandler
      #NumberSeqFormHandler numberSeqFormHandler()
      #{;
      #    if (!numberSeqFormHandler)
      #    {
      #        numberSeqFormHandler = NumberSeqFormHandler::newForm(CompanyInfo::STF_NumRefTrialBalanceId().NumberSequenceId,
      #                                                                                        element,
      #                                                                                        STF_SATLedgerTrialBalanceTable_ds,
      #                                                                                        fieldnum(STF_SATLedgerTrialBalanceTable, TrialBalanceId));
      #    }
      #
      #    return numberSeqFormHandler;
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #STF_SATLedgerTrialBalanceTable
          Table               #STF_SATLedgerTrialBalanceTable
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #create
          #public void create(boolean _append = false, boolean _extern = false)
          #{
          #    ;
          #
          #    element.numberSeqFormHandler().formMethodDataSourceCreatePre();
          #
          #    super(_append);
          #
          #    if (!_extern)
          #    {
          #        element.numberSeqFormHandler().formMethodDataSourceCreate();
          #    }
          #}
        ENDSOURCE
        SOURCE #delete
          #public void delete()
          #{   ;
          #
          #    ttsbegin;
          #
          #    element.numberSeqFormHandler().formMethodDataSourceDelete();
          #
          #    super();
          #
          #    ttscommit;
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    super();
          #
          #    element.numberSeqFormHandler().formMethodDataSourceWrite();
          #}
        ENDSOURCE
        SOURCE #linkActive
          #public void linkActive()
          #{
          #    ;
          #
          #    element.numberSeqFormHandler().formMethodDataSourceLinkActive();
          #
          #    super();
          #}
        ENDSOURCE
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean ret;
          #    STF_SATLedgerTrialBalanceTable balanceTable;
          #
          #    ret = super();
          #
          #    ret = element.numberSeqFormHandler().formMethodDataSourceValidateWrite(ret) && ret;
          #
          #    select * from balanceTable
          #    where balanceTable.FromDate == STF_SATLedgerTrialBalanceTable.FromDate && balanceTable.ToDate == STF_SATLedgerTrialBalanceTable.ToDate;
          #
          #    if(STF_SATLedgerTrialBalanceTable.DocumentTypeId == "BN" && balanceTable)
          #    {
          #        return checkfailed("Ya existe una balanza normal para este periodo, cambie el tipo a complementaria.");
          #    }
          #
          #    if(dayofmth(STF_SATLedgerTrialBalanceTable.FromDate) != 1 || STF_SATLedgerTrialBalanceTable.ToDate != endmth(STF_SATLedgerTrialBalanceTable.FromDate))
          #    {
          #        return checkfailed("Las fechas seleccionadas deben corresponder a un periodo completo.");
          #    }
          #
          #    if(STF_SATLedgerTrialBalanceTable.DocumentTypeId == "BC" && !STF_SATLedgerTrialBalanceTable.ToDate)
          #    {
          #        return checkfailed("@SEA14");
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #active
          #public int active()
          #{
          #    int ret;
          #
          #    ;
          #
          #
          #
          #    ret = super();
          #
          #    return ret;
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  REFERENCEDATASOURCES
  ENDREFERENCEDATASOURCES
  
  JOINS
  ENDJOINS
  
  PARTREFERENCES
  ENDPARTREFERENCES
  
  DESIGN
    PROPERTIES
      Caption             #@FSA54
      TopMargin           #0
      BottomMargin        #0
      LeftMargin          #0
      RightMargin         #0
      StatusBarStyle      #None
    ENDPROPERTIES
    
    CONTAINER
      CONTROL GRID
        PROPERTIES
          Name                #Grid
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #GridGrp
          ShowRowLabels       #No
          DataSource          #STF_SATLedgerTrialBalanceTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Buttons
          ElementPosition     #1431655764
          HierarchyParent     #Overview
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
          Columns             #10
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
              #0
              #0
              #0
              #0
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #General
          Width               #Column width
          Height              #Column height
          ElementPosition     #1073741823
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GridGrp
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #Panels
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Image
          ElementPosition     #715827882
          HierarchyParent     #Overview
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Overview
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #General
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          TopMargin           #0
          BottomMargin        #10
          LeftMargin          #5
          RightMargin         #0
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Panels
          Width               #Column width
          Height              #Column height
          ElementPosition     #1789569705
          HierarchyParent     #Overview
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Separator
          Width               #Column width
          Height              #20
          ElementPosition     #1073741823
          HierarchyParent     #Overview
          FrameType           #Solid background color (long)
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          BottomMargin        #0
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #Separator1
          Width               #1
          HelpText            #@SYS23213
          ElementPosition     #954437176
          HierarchyParent     #Buttons
          Text                #@SYS23213
          Border              #None
          ColorScheme         #RGB
          BackgroundColor     #190 210 241
          ForegroundColor     #190 210 241
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #Separator2
          Width               #1
          HelpText            #@SYS23213
          ElementPosition     #1670265058
          HierarchyParent     #Buttons
          Text                #@SYS23213
          Border              #None
          ColorScheme         #RGB
          BackgroundColor     #190 210 241
          ForegroundColor     #190 210 241
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #DeleteRecord
          ElementPosition     #715827882
          HierarchyParent     #Buttons
          Text                #@SYS14425
          ButtonDisplay       #Text & Image left
          NormalImage         #1020
          ImageLocation       #EmbeddedResource
          Border              #None
          SaveRecord          #No
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          Command             #2832
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #NewRecord
          ElementPosition     #477218588
          HierarchyParent     #Buttons
          Text                #@SYS5480
          ButtonDisplay       #Text & Image left
          NormalImage         #1085
          ImageLocation       #EmbeddedResource
          Border              #None
          ShowShortCut        #No
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          Command             #260
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #STF_SATLedgerTrialBalanceTable_FromDate
          ElementPosition     #858993456
          HierarchyParent     #Grid
          DataSource          #STF_SATLedgerTrialBalanceTable
          DataField           #FromDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #STF_SATLedgerTrialBalanceTable_ToDate
          ElementPosition     #1073741820
          HierarchyParent     #Grid
          DataSource          #STF_SATLedgerTrialBalanceTable
          DataField           #ToDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL INTEDIT
        PROPERTIES
          Name                #STF_SATLedgerTrialBalanceTable_NumberOfLedgerAccountsRetrieved
          ElementPosition     #1717986912
          HierarchyParent     #Grid
          DataSource          #STF_SATLedgerTrialBalanceTable
          DataField           #NumberOfLedgerAccountsRetrieved
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CalculateTrialBalance
          ElementPosition     #1193046470
          HierarchyParent     #Buttons
          ButtonDisplay       #Text & Image left
          NormalImage         #1035
          ImageLocation       #EmbeddedResource
          Border              #None
          MultiSelect         #No
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          DataSource          #STF_SATLedgerTrialBalanceTable
          MenuItemType        #Action
          MenuItemName        #STF_CalculateSATTrialBalance
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ShowDetails
          ElementPosition     #1431655764
          HierarchyParent     #Buttons
          ButtonDisplay       #Text & Image left
          NormalImage         #795
          ImageLocation       #EmbeddedResource
          Border              #None
          MultiSelect         #No
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          DataSource          #STF_SATLedgerTrialBalanceTable
          MenuItemName        #STF_SATLedgerTrialBalanceLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #STF_CreateTrialBalanceXML
          ElementPosition     #1908874352
          HierarchyParent     #Buttons
          ButtonDisplay       #Text & Image left
          NormalImage         #1062
          ImageLocation       #EmbeddedResource
          Border              #None
          MultiSelect         #Yes
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          DataSource          #STF_SATLedgerTrialBalanceTable
          MenuItemType        #Action
          MenuItemName        #STF_CreateTrialBalanceXML
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STATICTEXT
        PROPERTIES
          Name                #StaticText
          Width               #Column width
          ElementPosition     #1431655764
          HierarchyParent     #Separator
          Text                #
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STATICTEXT
        PROPERTIES
          Name                #Title
          Left                #80
          Top                 #20
          ElementPosition     #1610612734
          HierarchyParent     #Image
          Text                #Ledger trial balance
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          Bold                #Bold
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #STF_SATLedgerTrialBalanceTable_ChartId
          ElementPosition     #1288490184
          HierarchyParent     #Grid
          DataSource          #STF_SATLedgerTrialBalanceTable
          DataField           #ChartId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #STF_SATLedgerTrialBalanceTable_createdBy
          ElementPosition     #1932735276
          HierarchyParent     #Grid
          DataSource          #STF_SATLedgerTrialBalanceTable
          DataField           #createdBy
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #STF_SATLedgerTrialBalanceTable_Description
          ElementPosition     #644245092
          HierarchyParent     #Grid
          DataSource          #STF_SATLedgerTrialBalanceTable
          DataField           #Description
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #STF_SATLedgerTrialBalanceTable_DocumentTypeId
          ElementPosition     #1717986912
          HierarchyParent     #Grid
          DataSource          #STF_SATLedgerTrialBalanceTable
          DataField           #DocumentTypeId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #STF_SATLedgerTrialBalanceTable_ElectronicAccountingVersion
          ElementPosition     #1503238548
          HierarchyParent     #Grid
          DataSource          #STF_SATLedgerTrialBalanceTable
          DataField           #ElectronicAccountingVersion
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #STF_SATLedgerTrialBalanceTable_TrialBalanceId
          ElementPosition     #429496728
          HierarchyParent     #Grid
          DataSource          #STF_SATLedgerTrialBalanceTable
          DataField           #TrialBalanceId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #Window
          Left                #0
          ElementPosition     #1073741822
          HierarchyParent     #Image
          ImageResource       #3184
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
  PERMISSIONS #Permissions
    PROPERTIES
    ENDPROPERTIES
    
    PERMISSIONSET #Read
      PROPERTIES
      ENDPROPERTIES
      
      FORM #Controls
      ENDFORM
      
    TABLES #Tables
    ENDTABLES
    
  SERVERMETHODS #Server Methods
  ENDSERVERMETHODS
  
ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Update
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Create
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Delete
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

ENDPERMISSIONS

ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 12

FORM #STF_SATChartOfAccountsTable
  PROPERTIES
    Name                #STF_SATChartOfAccountsTable
    Origin              #{B6A0B168-14CA-42B6-8323-9038A7F22B4B}
  ENDPROPERTIES
  
  METHODS
    SOURCE #classDeclaration
      #//Project: STF_ElectronicAccounting   Developer: Arly Rubio C.  Date: July/22/2014
      #public class FormRun extends ObjectRun
      #{
      #    NumberSeqFormHandler numberSeqFormHandler;
      #}
    ENDSOURCE
    SOURCE #close
      #public void close()
      #{
      #    ;
      #
      #    if (numberSeqFormHandler)
      #    {
      #        numberSeqFormHandler.formMethodClose();
      #    }
      #
      #    super();
      #}
    ENDSOURCE
    SOURCE #numberSeqFormHandler
      #NumberSeqFormHandler numberSeqFormHandler()
      #{;
      #    if (!numberSeqFormHandler)
      #    {
      #       //CompanyInfo::STF_NumRefChartId().NumberSequenceId;
      #      numberSeqFormHandler = NumberSeqFormHandler::newForm(CompanyInfo::STF_NumRefChartId().NumberSequenceId,
      #                                                                                        element,
      #                                                                                        STF_SATChartOfAccountsTable_ds,
      #                                                                                        fieldnum(STF_SATChartOfAccountsTable, ChartId));
      #    }
      #
      #    return numberSeqFormHandler;
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #STF_SATChartOfAccountsTable
          Table               #STF_SATChartOfAccountsTable
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean ret;
          #
          #    ret = super();
          #
          #    ret = element.numberSeqFormHandler().formMethodDataSourceValidateWrite(ret) && ret;
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #linkActive
          #public void linkActive()
          #{
          #    ;
          #
          #    element.numberSeqFormHandler().formMethodDataSourceLinkActive();
          #
          #    super();
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    super();
          #
          #    element.numberSeqFormHandler().formMethodDataSourceWrite();
          #}
        ENDSOURCE
        SOURCE #delete
          #public void delete()
          #{   ;
          #
          #    ttsbegin;
          #
          #    element.numberSeqFormHandler().formMethodDataSourceDelete();
          #
          #    super();
          #
          #    ttscommit;
          #}
        ENDSOURCE
        SOURCE #create
          #public void create(boolean _append = false, boolean _extern = false)
          #{
          #    ;
          #
          #    element.numberSeqFormHandler().formMethodDataSourceCreatePre();
          #
          #    super(_append);
          #
          #    if (!_extern)
          #    {
          #        element.numberSeqFormHandler().formMethodDataSourceCreate();
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  REFERENCEDATASOURCES
  ENDREFERENCEDATASOURCES
  
  JOINS
  ENDJOINS
  
  PARTREFERENCES
  ENDPARTREFERENCES
  
  DESIGN
    PROPERTIES
      Caption             #@FSA25
      TopMargin           #0
      BottomMargin        #0
      LeftMargin          #0
      RightMargin         #0
      StatusBarStyle      #None
    ENDPROPERTIES
    
    CONTAINER
      CONTROL GRID
        PROPERTIES
          Name                #Grid
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #GridGrp
          ShowRowLabels       #No
          DataSource          #STF_SATChartOfAccountsTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Buttons
          ElementPosition     #1431655764
          HierarchyParent     #Overview
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
          Columns             #10
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
              #0
              #0
              #0
              #0
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #General
          Width               #Column width
          Height              #Column height
          ElementPosition     #1073741823
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GridGrp
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #Panels
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Image
          ElementPosition     #715827882
          HierarchyParent     #Overview
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Overview
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #General
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          TopMargin           #0
          BottomMargin        #10
          LeftMargin          #5
          RightMargin         #0
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Panels
          Width               #Column width
          Height              #Column height
          ElementPosition     #1789569705
          HierarchyParent     #Overview
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Separator
          Width               #Column width
          Height              #20
          ElementPosition     #1073741823
          HierarchyParent     #Overview
          FrameType           #Solid background color (long)
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          BottomMargin        #0
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #Separator1
          Width               #1
          HelpText            #@SYS23213
          ElementPosition     #780903144
          HierarchyParent     #Buttons
          Text                #@SYS23213
          Border              #None
          ColorScheme         #RGB
          BackgroundColor     #190 210 241
          ForegroundColor     #190 210 241
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #Separator2
          Width               #1
          HelpText            #@SYS23213
          ElementPosition     #1366580502
          HierarchyParent     #Buttons
          Text                #@SYS23213
          Border              #None
          ColorScheme         #RGB
          BackgroundColor     #190 210 241
          ForegroundColor     #190 210 241
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #Separator3
          Width               #1
          HelpText            #@SYS23213
          ElementPosition     #1757032074
          HierarchyParent     #Buttons
          Text                #@SYS23213
          Border              #None
          ColorScheme         #RGB
          BackgroundColor     #190 210 241
          ForegroundColor     #190 210 241
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #STF_SATChartOfAccountsTable_Active
          ElementPosition     #429496728
          HierarchyParent     #Grid
          BackgroundColor     #Window background
          DataSource          #STF_SATChartOfAccountsTable
          DataField           #Active
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #DeleteRecord
          ElementPosition     #585677358
          HierarchyParent     #Buttons
          Text                #@SYS14425
          ButtonDisplay       #Text & Image left
          NormalImage         #1020
          ImageLocation       #EmbeddedResource
          Border              #None
          SaveRecord          #No
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          Command             #2832
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #NewRecord
          ElementPosition     #390451572
          HierarchyParent     #Buttons
          Text                #@SYS5480
          ButtonDisplay       #Text & Image left
          NormalImage         #1085
          ImageLocation       #EmbeddedResource
          Border              #None
          ShowShortCut        #No
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          Command             #260
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #STF_SATChartOfAccountsTable_ValidityDate
          ElementPosition     #1073741820
          HierarchyParent     #Grid
          DataSource          #STF_SATChartOfAccountsTable
          DataField           #ValidityDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL INTEDIT
        PROPERTIES
          Name                #STF_SATChartOfAccountsTable_NumberOfLedgerAccountsRetrieved
          ElementPosition     #1288490184
          HierarchyParent     #Grid
          DataSource          #STF_SATChartOfAccountsTable
          DataField           #NumberOfLedgerAccountsRetrieved
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CharOfAccountsLine
          ElementPosition     #1171354716
          HierarchyParent     #Buttons
          ButtonDisplay       #Text & Image left
          NormalImage         #795
          ImageLocation       #EmbeddedResource
          Border              #None
          MultiSelect         #No
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          DataSource          #STF_SATChartOfAccountsTable
          MenuItemName        #STF_SATChartOfAccountsLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ChartOfAccountsLine
          ElementPosition     #1171354716
          HierarchyParent     #Buttons
          ButtonDisplay       #Text & Image left
          NormalImage         #795
          ImageLocation       #EmbeddedResource
          Border              #None
          MultiSelect         #No
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          DataSource          #STF_SATChartOfAccountsTable
          MenuItemName        #STF_SATChartOfAccountsLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CompareCharts
          ElementPosition     #1952257860
          HierarchyParent     #Buttons
          ButtonDisplay       #Text & Image left
          NormalImage         #1070
          ImageLocation       #EmbeddedResource
          Border              #None
          MultiSelect         #No
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          DataSource          #STF_SATChartOfAccountsTable
          MenuItemType        #Action
          MenuItemName        #STF_CompareChartOfAccounts
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #RetrieveLedgerAccounts
          ElementPosition     #976128930
          HierarchyParent     #Buttons
          ButtonDisplay       #Text & Image left
          NormalImage         #1035
          ImageLocation       #EmbeddedResource
          Border              #None
          MultiSelect         #No
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          DataSource          #STF_SATChartOfAccountsTable
          MenuItemType        #Action
          MenuItemName        #STF_RetrieveLedgerAccountsWithSATCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #STF_CreateChartAccountXML
          ElementPosition     #1561806288
          HierarchyParent     #Buttons
          ButtonDisplay       #Text & Image left
          NormalImage         #1062
          ImageLocation       #EmbeddedResource
          Border              #None
          MultiSelect         #Yes
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          MenuItemType        #Action
          MenuItemName        #STF_CreateChartAccountXML
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STATICTEXT
        PROPERTIES
          Name                #StaticText
          Width               #Column width
          ElementPosition     #1431655764
          HierarchyParent     #Separator
          Text                #
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STATICTEXT
        PROPERTIES
          Name                #Title
          Left                #80
          Top                 #20
          ElementPosition     #1610612733
          HierarchyParent     #Image
          Text                #Chart of accounts with tax autorithy's grouping codes
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          Bold                #Bold
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #STF_SATChartOfAccountsTable_ChartId
          ElementPosition     #644245092
          HierarchyParent     #Grid
          DataSource          #STF_SATChartOfAccountsTable
          DataField           #ChartId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #STF_SATChartOfAccountsTable_createdBy
          ElementPosition     #1503238548
          HierarchyParent     #Grid
          DataSource          #STF_SATChartOfAccountsTable
          DataField           #createdBy
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #STF_SATChartOfAccountsTable_Description
          ElementPosition     #858993456
          HierarchyParent     #Grid
          DataSource          #STF_SATChartOfAccountsTable
          DataField           #Description
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #STF_SATChartOfAccountsTable_DocumentType
          ElementPosition     #1717986912
          HierarchyParent     #Grid
          DisplayLength       #5
          DataSource          #STF_SATChartOfAccountsTable
          DataField           #DocumentType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #STF_SATChartOfAccountsTable_ElectronicAccountingVersion
          ElementPosition     #1288490184
          HierarchyParent     #Grid
          DataSource          #STF_SATChartOfAccountsTable
          DataField           #ElectronicAccountingVersion
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL UTCDATETIMEEDIT
        PROPERTIES
          Name                #STF_SATChartOfAccountsTable_createdDateTime
          ElementPosition     #1932735276
          HierarchyParent     #Grid
          DataSource          #STF_SATChartOfAccountsTable
          DataField           #createdDateTime
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #Window
          Left                #0
          ElementPosition     #1073741822
          HierarchyParent     #Image
          ImageResource       #3184
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
  PERMISSIONS #Permissions
    PROPERTIES
    ENDPROPERTIES
    
    PERMISSIONSET #Read
      PROPERTIES
      ENDPROPERTIES
      
      FORM #Controls
      ENDFORM
      
    TABLES #Tables
    ENDTABLES
    
  SERVERMETHODS #Server Methods
  ENDSERVERMETHODS
  
ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Update
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Create
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Delete
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

ENDPERMISSIONS

ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 12

FORM #STF_SATVouchersTable
  PROPERTIES
    Name                #STF_SATVouchersTable
    Origin              #{43731CE3-FF19-42E7-922A-59EE86A83E9C}
  ENDPROPERTIES
  
  METHODS
    SOURCE #classDeclaration
      #//Project: STF_ElectronicAccounting   Developer: Arly Rubio C.  Date: July/22/2014
      #public class FormRun extends ObjectRun
      #{
      #    NumberSeqFormHandler numberSeqFormHandler;
      #}
    ENDSOURCE
    SOURCE #close
      #public void close()
      #{
      #    ;
      #
      #    if (numberSeqFormHandler)
      #    {
      #        numberSeqFormHandler.formMethodClose();
      #    }
      #
      #    super();
      #}
    ENDSOURCE
    SOURCE #numberSeqFormHandler
      #NumberSeqFormHandler numberSeqFormHandler()
      #{;
      #    if (!numberSeqFormHandler)
      #    {
      #        numberSeqFormHandler = NumberSeqFormHandler::newForm(CompanyInfo::STF_NumRefVouchersReportId().NumberSequenceId,
      #                                                                                        element,
      #                                                                                        STF_SATVouchersTable_ds,
      #                                                                                        fieldnum(STF_SATVouchersTable, ReportId));
      #    }
      #
      #    return numberSeqFormHandler;
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #STF_SATVouchersTable
          Table               #STF_SATVouchersTable
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD LedgerAccountsRange
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    ;
                #
                #    STF_SATVouchersTable::lookupLadgerAccount(_formControl);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #create
          #public void create(boolean _append = false, boolean _extern = false)
          #{
          #    ;
          #
          #    element.numberSeqFormHandler().formMethodDataSourceCreatePre();
          #
          #    super(_append);
          #
          #    if (!_extern)
          #    {
          #        element.numberSeqFormHandler().formMethodDataSourceCreate();
          #    }
          #}
        ENDSOURCE
        SOURCE #delete
          #public void delete()
          #{   ;
          #
          #    ttsbegin;
          #
          #    element.numberSeqFormHandler().formMethodDataSourceDelete();
          #
          #    super();
          #
          #    ttscommit;
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    super();
          #
          #    element.numberSeqFormHandler().formMethodDataSourceWrite();
          #}
        ENDSOURCE
        SOURCE #linkActive
          #public void linkActive()
          #{
          #    ;
          #
          #    element.numberSeqFormHandler().formMethodDataSourceLinkActive();
          #
          #    super();
          #}
        ENDSOURCE
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean ret;
          #
          #    ret = super();
          #
          #    ret = element.numberSeqFormHandler().formMethodDataSourceValidateWrite(ret) && ret;
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #active
          #public int active()
          #{
          #    int ret;
          #
          #    ret = super();
          #
          #    return ret;
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  REFERENCEDATASOURCES
  ENDREFERENCEDATASOURCES
  
  JOINS
  ENDJOINS
  
  PARTREFERENCES
  ENDPARTREFERENCES
  
  DESIGN
    PROPERTIES
      Caption             #@FSA129
      TopMargin           #0
      BottomMargin        #0
      LeftMargin          #0
      RightMargin         #0
    ENDPROPERTIES
    
    CONTAINER
      CONTROL ACTIONPANE
        PROPERTIES
          Name                #ActionPane
          ElementPosition     #1431655764
          HierarchyParent     #Buttons
          Style               #Strip
          Columns             #10
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
              #0
              #0
              #0
              #0
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #ActionPaneTab
          ElementPosition     #1431655764
          HierarchyParent     #ActionPane
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ActionsButtonGrp
          ElementPosition     #1288490187
          HierarchyParent     #ActionPaneTab
          DataSource          #STF_SATVouchersTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #AddDeleteButtonGrp
          ElementPosition     #858993458
          HierarchyParent     #ActionPaneTab
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #XMLButtonGrp
          ElementPosition     #1717986916
          HierarchyParent     #ActionPaneTab
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #Grid
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #GridGrp
          ShowRowLabels       #No
          DataSource          #STF_SATVouchersTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Buttons
          ElementPosition     #1431655764
          HierarchyParent     #Overview
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
          Columns             #10
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
              #0
              #0
              #0
              #0
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #General
          Width               #Column width
          Height              #Column height
          ElementPosition     #1073741823
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GridGrp
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #Panels
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Image
          ElementPosition     #715827882
          HierarchyParent     #Overview
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Overview
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #General
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          TopMargin           #0
          BottomMargin        #10
          LeftMargin          #5
          RightMargin         #0
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Panels
          Width               #Column width
          Height              #Column height
          ElementPosition     #1789569705
          HierarchyParent     #Overview
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Separator
          Width               #Column width
          Height              #20
          ElementPosition     #1073741823
          HierarchyParent     #Overview
          FrameType           #Solid background color (long)
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          BottomMargin        #0
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #Separator1
          Width               #1
          HelpText            #@SYS23213
          ElementPosition     #858993456
          HierarchyParent     #Buttons
          Text                #@SYS23213
          Border              #None
          ColorScheme         #RGB
          BackgroundColor     #190 210 241
          ForegroundColor     #190 210 241
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #Separator2
          Width               #1
          HelpText            #@SYS23213
          ElementPosition     #1717986912
          HierarchyParent     #Buttons
          Text                #@SYS23213
          Border              #None
          ColorScheme         #RGB
          BackgroundColor     #190 210 241
          ForegroundColor     #190 210 241
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #STF_SATVouchersTable_StepType
          ElementPosition     #1651910490
          HierarchyParent     #Grid
          DataSource          #STF_SATVouchersTable
          DataField           #StepType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #DeleteRecord
          ElementPosition     #644245092
          HierarchyParent     #Buttons
          Text                #@SYS14425
          ButtonDisplay       #Text & Image left
          NormalImage         #1020
          ImageLocation       #EmbeddedResource
          Border              #None
          SaveRecord          #No
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          Command             #2832
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #NewRecord
          ElementPosition     #429496728
          HierarchyParent     #Buttons
          Text                #@SYS5480
          ButtonDisplay       #Text & Image left
          NormalImage         #1085
          ImageLocation       #EmbeddedResource
          Border              #None
          ShowShortCut        #No
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          Command             #260
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #STF_SATVouchersTable_FromDate
          ElementPosition     #660764196
          HierarchyParent     #Grid
          DataSource          #STF_SATVouchersTable
          DataField           #FromDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #STF_SATVouchersTable_ToDate
          ElementPosition     #825955245
          HierarchyParent     #Grid
          DataSource          #STF_SATVouchersTable
          DataField           #ToDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #GetVouchers
          ElementPosition     #1073741820
          HierarchyParent     #Buttons
          ButtonDisplay       #Text & Image left
          NormalImage         #1035
          ImageLocation       #EmbeddedResource
          Border              #None
          MultiSelect         #No
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          DataSource          #STF_SATVouchersTable
          MenuItemType        #Action
          MenuItemName        #STF_CalculateSATVouchersReport
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ShowDetails
          ElementPosition     #1288490184
          HierarchyParent     #Buttons
          Text                #@SYS60132
          ButtonDisplay       #Text & Image left
          NormalImage         #795
          ImageLocation       #EmbeddedResource
          Border              #None
          MultiSelect         #No
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          DataSource          #STF_SATVouchersTable
          MenuItemName        #STF_SATVouchersLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ShowVouchers
          ElementPosition     #1574821338
          HierarchyParent     #Buttons
          Text                #Comprobantes
          ButtonDisplay       #Text & Image left
          NormalImage         #874
          ImageLocation       #EmbeddedResource
          Border              #None
          MultiSelect         #No
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          DataSource          #STF_SATVouchersTable
          MenuItemName        #STF_SATSubVouchersLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #STF_CreateVouchersReportXML
          ElementPosition     #1932735276
          HierarchyParent     #Buttons
          ButtonDisplay       #Text & Image left
          NormalImage         #1062
          ImageLocation       #EmbeddedResource
          Border              #None
          MultiSelect         #Yes
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          MenuItemType        #Action
          MenuItemName        #STF_CreateVouchersReportXML
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STATICTEXT
        PROPERTIES
          Name                #StaticText
          Width               #Column width
          ElementPosition     #1431655764
          HierarchyParent     #Separator
          Text                #
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STATICTEXT
        PROPERTIES
          Name                #Title
          Left                #80
          Top                 #20
          ElementPosition     #1610612734
          HierarchyParent     #Image
          Text                #Pólizas
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          Bold                #Bold
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #STF_SATVouchersTable_createdBy
          ElementPosition     #1321528392
          HierarchyParent     #Grid
          DataSource          #STF_SATVouchersTable
          DataField           #createdBy
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #STF_SATVouchersTable_Description
          ElementPosition     #495573147
          HierarchyParent     #Grid
          DataSource          #STF_SATVouchersTable
          DataField           #Description
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #STF_SATVouchersTable_DocumentTypeId
          ElementPosition     #1486719441
          HierarchyParent     #Grid
          DataSource          #STF_SATVouchersTable
          DataField           #DocumentTypeId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #STF_SATVouchersTable_ElectronicAccountingVersion
          ElementPosition     #1156337343
          HierarchyParent     #Grid
          DataSource          #STF_SATVouchersTable
          DataField           #ElectronicAccountingVersion
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #STF_SATVouchersTable_LedgerAccountsRange
          ElementPosition     #991146294
          HierarchyParent     #Grid
          ReplaceOnLookup     #No
          DataSource          #STF_SATVouchersTable
          DataField           #LedgerAccountsRange
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #STF_SATVouchersTable_ReportId
          ElementPosition     #330382098
          HierarchyParent     #Grid
          DataSource          #STF_SATVouchersTable
          DataField           #ReportId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #STF_SATVouchersTable_StepNumber
          AutoDeclaration     #Yes
          ElementPosition     #1817101539
          HierarchyParent     #Grid
          DataSource          #STF_SATVouchersTable
          DataField           #StepNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL UTCDATETIMEEDIT
        PROPERTIES
          Name                #STF_SATVouchersTable_createdDateTime
          ElementPosition     #1982292588
          HierarchyParent     #Grid
          DataSource          #STF_SATVouchersTable
          DataField           #createdDateTime
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #Window
          Left                #0
          ElementPosition     #1073741822
          HierarchyParent     #Image
          ImageResource       #3184
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
  PERMISSIONS #Permissions
    PROPERTIES
    ENDPROPERTIES
    
    PERMISSIONSET #Read
      PROPERTIES
      ENDPROPERTIES
      
      FORM #Controls
      ENDFORM
      
    TABLES #Tables
    ENDTABLES
    
  SERVERMETHODS #Server Methods
  ENDSERVERMETHODS
  
ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Update
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Create
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Delete
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

ENDPERMISSIONS

ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 12

FORM #STF_SATVouchersLine
  PROPERTIES
    Name                #STF_SATVouchersLine
    Origin              #{82099118-C094-4B6E-BDB3-5BC6871D18D8}
  ENDPROPERTIES
  
  METHODS
    SOURCE #classDeclaration
      #//Project: STF_ElectronicAccounting   Developer: Arly Rubio C.  Date: July/22/2014
      #public class FormRun extends ObjectRun
      #{
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #STF_SATVouchersLine
          Table               #STF_SATVouchersLine
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  REFERENCEDATASOURCES
  ENDREFERENCEDATASOURCES
  
  JOINS
  ENDJOINS
  
  PARTREFERENCES
  ENDPARTREFERENCES
  
  DESIGN
    PROPERTIES
      Caption             #@FSA129
      TopMargin           #0
      BottomMargin        #0
      LeftMargin          #0
      RightMargin         #0
      StatusBarStyle      #None
    ENDPROPERTIES
    
    CONTAINER
      CONTROL GRID
        PROPERTIES
          Name                #Grid
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #GridGrp
          ShowRowLabels       #No
          DataSource          #STF_SATVouchersLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DateRangeGrp
          ElementPosition     #1073741822
          HierarchyParent     #Panels
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          Columns             #5
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #General
          Width               #Column width
          Height              #Column height
          ElementPosition     #1073741823
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GridGrp
          Width               #Column width
          Height              #Column height
          ElementPosition     #1610612733
          HierarchyParent     #Panels
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Image
          ElementPosition     #858993458
          HierarchyParent     #Overview
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Overview
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #General
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          TopMargin           #0
          BottomMargin        #10
          LeftMargin          #5
          RightMargin         #0
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Panels
          Width               #Column width
          Height              #Column height
          ElementPosition     #1717986916
          HierarchyParent     #Overview
          FrameType           #None
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Separator
          Width               #Column width
          Height              #20
          ElementPosition     #1288490187
          HierarchyParent     #Overview
          FrameType           #Solid background color (long)
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          BottomMargin        #0
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #STF_SATVouchersLine_HasSubNodes
          ElementPosition     #1982292588
          HierarchyParent     #Grid
          BackgroundColor     #Window background
          DataSource          #STF_SATVouchersLine
          DataField           #HasSubNodes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #STF_SATVouchersLine_FromDate
          ElementPosition     #858993458
          HierarchyParent     #DateRangeGrp
          DataSource          #STF_SATVouchersLine
          DataField           #FromDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #STF_SATVouchersLine_ToDate
          ElementPosition     #1288490187
          HierarchyParent     #DateRangeGrp
          DataSource          #STF_SATVouchersLine
          DataField           #ToDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #STF_SATVouchersLine_TransDate
          ElementPosition     #825955245
          HierarchyParent     #Grid
          DataSource          #STF_SATVouchersLine
          DataField           #TransDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ShowVouchers
          ElementPosition     #1717986916
          HierarchyParent     #DateRangeGrp
          Text                #@FSA193
          ButtonDisplay       #Text & Image left
          NormalImage         #874
          ImageLocation       #EmbeddedResource
          Border              #None
          MultiSelect         #No
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          DataSource          #STF_SATVouchersLine
          MenuItemName        #STF_SATSubVouchersLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #STF_SATVouchersLine_AmountCredit
          ElementPosition     #1651910490
          HierarchyParent     #Grid
          DataSource          #STF_SATVouchersLine
          DataField           #AmountCredit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #STF_SATVouchersLine_AmountDebit
          ElementPosition     #1486719441
          HierarchyParent     #Grid
          DataSource          #STF_SATVouchersLine
          DataField           #AmountDebit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #STF_SATVouchersLine_ExchRate
          ElementPosition     #1817101539
          HierarchyParent     #Grid
          DataSource          #STF_SATVouchersLine
          DataField           #ExchRate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STATICTEXT
        PROPERTIES
          Name                #StaticText
          Width               #Column width
          ElementPosition     #1431655764
          HierarchyParent     #Separator
          Text                #
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STATICTEXT
        PROPERTIES
          Name                #Title
          Left                #80
          Top                 #20
          ElementPosition     #1610612734
          HierarchyParent     #Image
          Text                #@FSA54
          ColorScheme         #RGB
          BackgroundColor     #255 255 255
          Bold                #Bold
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #STF_SATVouchersLine_AccountName
          ElementPosition     #495573147
          HierarchyParent     #Grid
          DataSource          #STF_SATVouchersLine
          DataField           #AccountName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #STF_SATVouchersLine_AccountNum
          ElementPosition     #330382098
          HierarchyParent     #Grid
          DataSource          #STF_SATVouchersLine
          DataField           #AccountNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #STF_SATVouchersLine_Concept
          ElementPosition     #991146294
          HierarchyParent     #Grid
          DataSource          #STF_SATVouchersLine
          DataField           #Concept
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #STF_SATVouchersLine_CurrencyCode
          ElementPosition     #1321528392
          HierarchyParent     #Grid
          DataSource          #STF_SATVouchersLine
          DataField           #CurrencyCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #STF_SATVouchersLine_TransConcept
          ElementPosition     #1156337343
          HierarchyParent     #Grid
          DataSource          #STF_SATVouchersLine
          DataField           #TransConcept
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #STF_SATVouchersLine_Voucher
          ElementPosition     #660764196
          HierarchyParent     #Grid
          DataSource          #STF_SATVouchersLine
          DataField           #Voucher
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #Window
          Left                #0
          ElementPosition     #1073741822
          HierarchyParent     #Image
          ImageResource       #3184
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
  PERMISSIONS #Permissions
    PROPERTIES
    ENDPROPERTIES
    
    PERMISSIONSET #Read
      PROPERTIES
      ENDPROPERTIES
      
      FORM #Controls
      ENDFORM
      
    TABLES #Tables
    ENDTABLES
    
  SERVERMETHODS #Server Methods
  ENDSERVERMETHODS
  
ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Update
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Create
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Delete
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

ENDPERMISSIONS

ENDFORM


***Element: CLS

; Microsoft Dynamics AX Class: STF_EAccountingSchemaValidation_MX descargados
; --------------------------------------------------------------------------------
  CLSVERSION 1
  
  CLASS #STF_EAccountingSchemaValidation_MX
    PROPERTIES
      Name                #STF_EAccountingSchemaValidation_MX
      Origin              #{10E5F3EB-7572-4EC1-94CC-FACAB968382C}
      LegacyId            #50612
    ENDPROPERTIES
    
    METHODS
      SOURCE #allErrors
        #List allErrors()
        #{
        #    return listOfErrors;
        #}
      ENDSOURCE
      SOURCE #classDeclaration
        #//Project: STF_ElectronicAccounting   Developer: Arly Rubio C.  Date: July/22/2014
        #class STF_EAccountingSchemaValidation_MX
        #{
        #    #define.XMLSchemaCache('Msxml2.XMLSchemaCache.6.0')
        #    #define.DOMDocument('MSXML2.DOMDocument.6.0')
        #    //#define.Namespace('http://www.sat.gob.mx/cfd/2')
        #
        #    str     xsdFile;
        #
        #    List listOfErrors;
        #}
      ENDSOURCE
      SOURCE #errorsFound
        #int errorsFound()
        #{
        #    return listOfErrors.elements();
        #}
      ENDSOURCE
      SOURCE #formatErrorXPath
        #private str formatErrorXPath(str _err)
        #{
        #    str nfeNamespace = @'namespace-uri()="'+this.getNameSpace()+'"';
        #    str localName = 'local-name()=';
        #    str strAnd = ' and ';
        #
        #    _err = strReplace(_err, nfeNamespace, '');
        #    _err = strReplace(_err, localName, '');
        #    _err = strReplace(_err, strAnd, '');
        #    _err = strrem(_err,'*@"()');
        #
        #    return _err;
        #}
      ENDSOURCE
      SOURCE #formatReason
        #private str formatReason(str _err)
        #{
        #    str nfeNamespace = '{'+this.getNameSpace()+'}';
        #
        #    _err = strReplace(_err, nfeNamespace, '');
        #    _err = strReplace(_err, '\n', ' ');
        #
        #    return _err;
        #}
      ENDSOURCE
      SOURCE #getNameSpace
        #str getNameSpace()
        #{
        #    str     ret;
        #    #define.NameSpaceBalanza('www.sat.gob.mx/esquemas/ContabilidadE/1_1/BalanzaComprobacion')
        #    #define.NameSpaceCuentas('www.sat.gob.mx/esquemas/ContabilidadE/1_1/CatalogoCuentas')
        #    #define.NameSpacePoliza('www.sat.gob.mx/esquemas/ContabilidadE/1_1/PolizasPeriodo')
        #    ;
        #
        #
        #
        #
        #    ret = #NameSpacePoliza;
        #
        #    return ret;
        #
        #}
      ENDSOURCE
      SOURCE #new
        #protected void new(str _xsdFile)
        #{
        #    listOfErrors = new List(Types::String);
        #    xsdFile = _xsdFile;
        #}
      ENDSOURCE
      SOURCE #validate
        #public void validate(str _xml)
        #{
        #    COM xmlSchema;
        #    COM xmlDoc;
        #    COM xmlDocParseError;
        #    COM parseErrorCollection;
        #    COM error;
        #    int errorCode;
        #    int errorsFound;
        #    str reason;
        #    str errorXPath;
        #    str namespace;
        #    int i;
        #
        #    #define.NameSpaceBalanza('www.sat.gob.mx/esquemas/ContabilidadE/1_1/BalanzaComprobacion')
        #    #define.NameSpaceCuentas('www.sat.gob.mx/esquemas/ContabilidadE/1_1/CatalogoCuentas')
        #    #define.NameSpacePoliza('www.sat.gob.mx/esquemas/ContabilidadE/1_1/PolizasPeriodo')
        #
        #    ;
        #
        #    new InteropPermission(InteropKind::ComInterop).assert();
        #
        #    xmlSchema = new COM(#XMLSchemaCache);
        #
        #    if(StrScan(_xml,"BalanzaComprobacion",1,1000) > 0)
        #    {
        #        namespace = #NameSpaceBalanza;
        #    }
        #    else if(StrScan(_xml,"CatalogoCuentas",1,1000) > 0)
        #    {
        #        namespace = #NameSpaceCuentas;
        #    }
        #    else
        #    {
        #        namespace = #NameSpacePoliza;
        #    }
        #
        #    // BP Deviation Documented
        #    //xmlSchema.add(this.getNameSpace(), xsdFile); //old
        #    xmlSchema.add(namespace, xsdFile);
        #
        #    xmlDoc = new COM(#DOMDocument);
        #    // BP Deviation Documented
        #    xmlDoc.schemas(xmlSchema);
        #    // BP Deviation Documented
        #    xmlDoc.async(false);
        #    // BP Deviation Documented
        #    xmlDoc.validateOnParse(false);
        #    // BP Deviation Documented
        #    xmlDoc.loadXML(_xml);
        #    // BP Deviation Documented
        #    xmlDoc.setProperty('MultipleErrorMessages', true);
        #
        #    // BP Deviation Documented
        #    xmlDocParseError = xmlDoc.validate();
        #    // BP Deviation Documented
        #    errorCode = xmlDocParseError.errorCode();
        #
        #    if (errorCode != 0)
        #    {
        #        // BP Deviation Documented
        #        errorsFound = xmlDocParseError.errorParametersCount();
        #        // BP Deviation Documented
        #        parseErrorCollection = xmlDocParseError.allErrors();
        #
        #        // BP Deviation Documented
        #        for (i=0; i <= parseErrorCollection.length(); i++)
        #        {
        #            // BP Deviation Documented
        #            error = parseErrorCollection.item(i);
        #
        #            if (error)
        #            {
        #                // BP Deviation Documented
        #                reason          = this.formatReason(error.reason());
        #                // BP Deviation Documented
        #                errorXPath      = this.formatErrorXPath(error.errorXPath());
        #
        #                listOfErrors.addEnd(strfmt("@FSA120", reason, errorXPath));
        #            }
        #        }
        #    }
        #
        #    CodeAccessPermission::revertAssert();
        #
        #}
      ENDSOURCE
      SOURCE #construct
        #public static STF_EAccountingSchemaValidation_MX construct(str _xsdFile)
        #{
        #    return new STF_EAccountingSchemaValidation_MX(_xsdFile);
        #}
        #
      ENDSOURCE
    ENDMETHODS
  ENDCLASS

***Element: CLS

; Microsoft Dynamics AX Class: STF_ElectronicAccountingXMLValidation descargados
; --------------------------------------------------------------------------------
  CLSVERSION 1
  
  CLASS #STF_ElectronicAccountingXMLValidation
    PROPERTIES
      Name                #STF_ElectronicAccountingXMLValidation
      Origin              #{44203199-68A5-468D-8B07-7332AEC58F79}
    ENDPROPERTIES
    
    METHODS
      SOURCE #classDeclaration
        #//Project: STF_ElectronicAccounting   Developer: Arly Rubio C.  Date: July/22/2014
        #class STF_ElectronicAccountingXMLValidation
        #{
        #    str     xsdFileName;
        #    str     xmlFileName;
        #
        #    AifXml  xmlString;
        #
        #}
      ENDSOURCE
      SOURCE #parmXMLFileName
        #str parmXMLFileName(str _xmlFileName = xmlFileName)
        #{
        #    ;
        #
        #    xmlFileName = _xmlFileName;
        #
        #    return xmlFileName;
        #}
      ENDSOURCE
      SOURCE #parmXmlString
        #AifXml parmXmlString(AifXml _xmlString = xmlString)
        #{
        #    ;
        #
        #    xmlString = _xmlString;
        #
        #    return xmlString;
        #}
      ENDSOURCE
      SOURCE #parmXSDFileName
        #str parmXSDFileName(str _xsdFileName = xsdFileName)
        #{
        #    ;
        #
        #    xsdFileName = _xsdFileName;
        #
        #    return xsdFileName;
        #}
      ENDSOURCE
      SOURCE #validateXML
        #//This method returns only the first error found.
        #void validateXML()
        #{
        #    XMLReader                   xmlReader;
        #    XmlSchema                   schema;
        #    XmlSchemaValidationError    validationError;
        #    XmlReaderSettings           readerSettings = new XmlReaderSettings();
        #    ;
        #
        #    // BP deviation documented.
        #    schema = XmlSchema::newFile(this.parmXSDFileName());
        #
        #    if (schema)
        #    {
        #        // BP deviation documented.
        #        xmlReader = XmlReader::newFile(this.parmXMLFileName());
        #
        #        validationError = xmlReader.validate(schema.writeToString());
        #
        #        if (validationError)
        #            warning(strFmt("@FSA112", validationError.message()));
        #        else
        #            info("@FSA113");
        #
        #        xmlReader.close();
        #    }
        #
        #
        #}
      ENDSOURCE
      SOURCE #validateXMLExtended
        #//This method returns all the errors found.
        #void validateXMLExtended()
        #{
        #    STF_EAccountingSchemaValidation_MX  validator;
        #    List                                listOfErrors;
        #    ListEnumerator                      enumerator;
        #    ;
        #
        #
        #    validator = STF_EAccountingSchemaValidation_MX::construct(this.parmXSDFileName());
        #    validator.validate(this.parmXmlString());
        #
        #    if (validator.errorsFound())
        #    {
        #        listOfErrors = validator.allErrors();
        #        enumerator = listOfErrors.getEnumerator();
        #
        #        setprefix("@FSA121");
        #        while (enumerator.moveNext())
        #        {
        #            Error(enumerator.current());
        #        }
        #    }
        #
        #}
      ENDSOURCE
    ENDMETHODS
  ENDCLASS

***Element: CLS

; Microsoft Dynamics AX Class: STF_CreateVouchersReportXML descargados
; --------------------------------------------------------------------------------
  CLSVERSION 1
  
  CLASS #STF_CreateVouchersReportXML
    PROPERTIES
      Name                #STF_CreateVouchersReportXML
      Extends             #RunBase
      Origin              #{A5E7C1E6-1EEA-4BAD-8A2E-8225645339D7}
      LegacyId            #50614
    ENDPROPERTIES
    
    METHODS
      SOURCE #addSubNodes
        #void addSubNodes(STF_SATVouchersLine _vouchersLine, XmlElement _xmlElement, XmlDocument _xmlDoc)
        #{
        #    STF_SATSubVouchersLine  subVouchersLine;
        #    XmlElement              xmlSubNode;
        #    CurrencyCode            baseCurrencyCode;
        #    vendTable                  vendTable;
        #    vendInvoiceJour             vendInvoiceJour;
        #    BankGroup                   BankGroup;
        #    #STF_ElectronicAccountingXmlTags
        #    ;
        #
        #    baseCurrencyCode = SystemParameters::find().SystemCurrencyCode;
        #
        #    if (_vouchersLine.HasSubNodes)
        #    {
        #        subVouchersLine.selectLocked(false);
        #
        #        while select subVouchersLine
        #            index hint VoucherLineRefRecIdIdx
        #            where subVouchersLine.VoucherLineRefRecId == _vouchersLine.RecId
        #        {
        #            switch (subVouchersLine.SubNodeType)
        #            {
        #                case STF_SubNodeType::Voucher :
        #
        #                    select * from vendTable
        #                    where vendTable.VATNum == subVouchersLine.VATNum;
        #
        #                    if(vendTable.VendorType_MX == VendorType_MX::ForeignVendor)
        #                    {
        #                        select * from vendInvoiceJour
        #                        where vendInvoiceJour.LedgerVoucher == subVouchersLine.Voucher;
        #
        #                        xmlSubNode = _xmlDoc.createElement(#CompExt);
        #
        #                        xmlSubNode.setAttribute(#CompExtNumFactExt, vendInvoiceJour.InvoiceId);
        #                        xmlSubNode.setAttribute(#CompExtTaxID, "0");
        #                        xmlSubNode.setAttribute(#CompExtMontoTotal, num2str(subVouchersLine.Amount, 0, 2, 1, 0));
        #                        xmlSubNode.setAttribute(#CompExtMoneda, _vouchersLine.CurrencyCode);
        #                        if(_vouchersLine.CurrencyCode != baseCurrencyCode)
        #                            xmlSubNode.setAttribute(#CompExtTipCamb, num2str(_vouchersLine.ExchRate,0,2,1,0));
        #                    }
        #                    else
        #                    {
        #                        if (!subVouchersLine.UUID)
        #                        continue;
        #
        #                        xmlSubNode = _xmlDoc.createElement(#CompNal);
        #
        #                        xmlSubNode.setAttribute(#CompNalUUID_CFDI, subVouchersLine.UUID);
        #                        xmlSubNode.setAttribute(#CompNalRFC, subVouchersLine.VATNum);
        #                        xmlSubNode.setAttribute(#CompNalMontoTotal, num2str(subVouchersLine.Amount, 0, 2, 1, 0));
        #                        xmlSubNode.setAttribute(#CompNalMoneda, _vouchersLine.CurrencyCode);
        #                        if(_vouchersLine.CurrencyCode != baseCurrencyCode)
        #                            xmlSubNode.setAttribute(#CompNalTipCamb, num2str(_vouchersLine.ExchRate,0,2,1,0));
        #                    }
        #
        #                    _xmlElement.appendChild(xmlSubNode);
        #                    break;
        #
        #                case STF_SubNodeType::Check :
        #                    xmlSubNode = _xmlDoc.createElement(#CheckNode);
        #
        #                    xmlSubNode.setAttribute(#CheckNumAttribute, subVouchersLine.CheckNum);
        #                    select * from BankGroup
        #                    where BankGroup.RegistrationNum == subVouchersLine.BankFrom;
        #
        #                    if(BankGroup.STF_isForeign)
        #                        xmlSubNode.setAttribute(#BankAttributeExt, BankGroup.Name);
        #                    xmlSubNode.setAttribute(#BankAttribute, subVouchersLine.BankFrom);
        #                    xmlSubNode.setAttribute(#BankAccountNumAttribute, subVouchersLine.BankAccountNumFrom);
        #                    xmlSubNode.setAttribute(#CheckDateAttribute, date2str(subVouchersLine.TransDate, 321, 2, 3, 2, 3, 4));
        #                    xmlSubNode.setAttribute(#CheckAmountAttribute, num2str(subVouchersLine.Amount, 0, 2, 1, 0));
        #                    xmlSubNode.setAttribute(#CheckBeneficiaryAttribute, subVouchersLine.Beneficiary);
        #                    xmlSubNode.setAttribute(#CheckBeneficiaryVATNumAttribute, subVouchersLine.VATNum);
        #                    xmlSubNode.setAttribute(#CheckMoneda, _vouchersLine.CurrencyCode);
        #                    if(_vouchersLine.CurrencyCode != baseCurrencyCode)
        #                        xmlSubNode.setAttribute(#CheckTipCamb, num2str(_vouchersLine.ExchRate,0,2,1,0));
        #
        #                    _xmlElement.appendChild(xmlSubNode);
        #                    break;
        #
        #                case STF_SubNodeType::Transfer :
        #                    xmlSubNode = _xmlDoc.createElement(#BankTransferNode);
        #
        #                    xmlSubNode.setAttribute(#TransferAccountNumFromAttribute, subVouchersLine.BankAccountNumFrom);
        #                    select * from BankGroup
        #                    where BankGroup.RegistrationNum == subVouchersLine.BankFrom;
        #                    if(BankGroup.STF_isForeign)
        #                        xmlSubNode.setAttribute(#TransferBankFromAttributeExt, BankGroup.Name);
        #                    xmlSubNode.setAttribute(#TransferBankFromAttribute, subVouchersLine.BankFrom);
        #                    xmlSubNode.setAttribute(#TransferAmountAttribute, num2str(subVouchersLine.Amount, 0, 2, 1, 0));
        #                    xmlSubNode.setAttribute(#TransferAccountNumToAttribute, subVouchersLine.BankAccountNumTo);
        #                    select * from BankGroup
        #                    where BankGroup.RegistrationNum == subVouchersLine.BankTo;
        #                    if(BankGroup.STF_isForeign)
        #                        xmlSubNode.setAttribute(#TransferBankToAttributeExt, BankGroup.Name);
        #                    xmlSubNode.setAttribute(#TransferBankToAttribute, subVouchersLine.BankTo);
        #                    xmlSubNode.setAttribute(#TransferDateAttribute, date2str(subVouchersLine.TransDate, 321, 2, 3, 2, 3, 4));
        #                    xmlSubNode.setAttribute(#TransferBeneficiaryAttribute, subVouchersLine.Beneficiary);
        #                    xmlSubNode.setAttribute(#TransferBeneficiaryVATNumAttribute, subVouchersLine.VATNum);
        #                    xmlSubNode.setAttribute(#TransferMoneda, _vouchersLine.CurrencyCode);
        #                    if(_vouchersLine.CurrencyCode != baseCurrencyCode)
        #                        xmlSubNode.setAttribute(#TransferTipCamb, num2str(_vouchersLine.ExchRate,0,2,1,0));
        #
        #                    _xmlElement.appendChild(xmlSubNode);
        #                    break;
        #
        #
        #            }
        #        }
        #    }
        #}
      ENDSOURCE
      SOURCE #classDeclaration
        #//Project: STF_ElectronicAccounting   Developer: Arly Rubio C.  Date: July/22/2014
        #class STF_CreateVouchersReportXML extends RunBase
        #{
        #    STF_SATVouchersReportId         reportId;
        #    DialogField                     fieldFilePath;
        #    DialogField                     fieldValidateXMLFile;
        #
        #    FilePath                        filePath;
        #    FileName                        fileName;
        #    NoYes                           validateXMLFile;
        #
        #    AifXml                          xmlString;
        #
        #    STF_SATVouchersTable            vouchersReportTable;
        #}
      ENDSOURCE
      SOURCE #createXML
        #void createXML()
        #{
        #    XmlDocument                     xmlDoc;
        #    XmlElement                      xmlRoot;
        #    XmlElement                      xmlVoucher;
        #    XmlElement                      xmlVoucherTrans;
        #    XMLWriter                       xmlWriter;
        #    XmlAttribute                    schemaLocationAttribute;
        #    STF_SATVouchersLine             reportLines;
        #    String30                        monthStr;
        #    Str                             xsi = 'http://www.w3.org/2001/XMLSchema-instance';
        #    Str                             schemaLocation = 'www.sat.gob.mx/esquemas/ContabilidadE/1_1/PolizasPeriodo.xsd';
        #    Str                             defaultNameSpace = 'www.sat.gob.mx/esquemas/ContabilidadE/1_1/PolizasPeriodo';
        #
        #    XmlTextWriter                   textWriter;
        #    SysOperationProgress            processProgress;
        #    Integer                         counter = 0;
        #
        #    boolean                         firstTime;
        #    Voucher                         previousVoucher;
        #
        #    CurrencyCode                    baseCurrencyCode;
        #
        #    DictEnum                        dict;
        #
        #    #AviFiles
        #    #STF_ElectronicAccountingXmlTags
        #    #define.ZeroValue("0")
        #    #define.TotalProgress(1500)
        #    ;
        #
        #    processProgress = new sysOperationProgress();
        #    processProgress.setCaption("@FSA161");
        #    processProgress.setTotal(#TotalProgress);
        #    processProgress.setAnimation(#AviTransfer);
        #
        #    baseCurrencyCode = SystemParameters::find().SystemCurrencyCode;
        #
        #    dict = new DictEnum(enumNum(STF_StepTypeEnum));
        #
        #    monthStr = int2str(mthOfYr(this.parmVouchersReportTable().FromDate));
        #
        #    //Fix format number of month when is one single character.
        #    if (strlen(monthStr) == 1)
        #        monthStr = #ZeroValue+monthStr;
        #
        #    // Create a new object of the XmlDocument class.
        #    xmlDoc = XmlDocument::newBlank();
        #    // Create the root node.
        #    xmlRoot = xmlDoc.createElement(#VouchersNode);
        #
        #    schemaLocationAttribute = xmlDoc.createAttribute2(#schemaLocationAttribute, xsi);
        #    schemaLocationAttribute.value(schemaLocation);
        #    xmlRoot.setAttributeNode(schemaLocationAttribute);
        #    xmlRoot.setAttribute(#xmlnsAttribute, defaultNameSpace);
        #
        #    xmlRoot.setAttribute(#VersionAttribute, this.parmVouchersReportTable().ElectronicAccountingVersion);
        #    xmlRoot.setAttribute(#TaxIdentifierAttribute, CompanyInfo::find().VATNum);
        #    xmlRoot.setAttribute(#MonthAttribute, monthStr);
        #    xmlRoot.setAttribute(#YearAttribute, int2str(year(this.parmVouchersReportTable().FromDate)));
        #    xmlRoot.setAttribute(#VoucherDocumentType, dict.index2Symbol(this.parmVouchersReportTable().StepType));
        #
        #    if(this.parmVouchersReportTable().StepNumber)
        #        if(this.parmVouchersReportTable().StepType == 0 || this.parmVouchersReportTable().StepType == 1)
        #            xmlRoot.setAttribute(#VoucherNumOrden, this.parmVouchersReportTable().StepNumber);
        #        else
        #            xmlRoot.setAttribute(#VoucherNumTramite,this.parmVouchersReportTable().StepNumber);
        #
        #    firstTime = true;
        #
        #    reportLines.selectLocked(false);
        #
        #    while select reportLines
        #        order by voucher
        #        where reportLines.ReportId == this.parmReportId()
        #    {
        #        // Create a XmlElement (Voucher) to hold the contents of the current record.
        #        if (firstTime || reportLines.Voucher != previousVoucher)
        #        {
        #            xmlVoucher = xmlDoc.createElement(#VoucherNode);
        #
        #            //xmlVoucher.setAttribute(#VoucherTypeAttribute, int2str(enum2int(reportLines.Type)));  //Old version.
        #            //xmlVoucher.setAttribute(#VoucherTypeAttribute, int2str(enum2int(this.resolveVoucherType(reportLines.Voucher, reportLines.TransDate))));
        #            xmlVoucher.setAttribute(#VoucherNumAttribute, reportLines.Voucher);
        #            xmlVoucher.setAttribute(#VoucherDateAttribute, date2str(reportLines.TransDate, 321, 2, 3, 2, 3, 4));
        #            xmlVoucher.setAttribute(#VoucherConceptAttribute, reportLines.Concept);
        #
        #            xmlRoot.appendChild(xmlVoucher);
        #        }
        #
        #        xmlVoucherTrans = xmlDoc.createElement(#VoucherTransNode);
        #
        #        xmlVoucherTrans.setAttribute(#VoucherTransNumCtaAttribute, reportLines.AccountNum);
        #        xmlVoucherTrans.setAttribute(#AccountDescAttribute, reportLines.AccountName);
        #        xmlVoucherTrans.setAttribute(#VoucherTransConcepAttribute, reportLines.TransConcept);
        #        xmlVoucherTrans.setAttribute(#VoucherTransDebitAttribute, num2str(reportLines.AmountDebit, 0, 2, 1, 0));
        #        xmlVoucherTrans.setAttribute(#VoucherTransCreditAttribute, num2str(reportLines.AmountCredit, 0, 2, 1, 0));
        #       // xmlVoucherTrans.setAttribute(#VoucherTransCurrencyAttribute, reportLines.CurrencyCode);
        #       // if(reportLines.CurrencyCode != baseCurrencyCode)
        #       //     xmlVoucherTrans.setAttribute(#VoucherTransExchRateAttribute, num2str(reportLines.ExchRate, 0, 2, 1, 0));
        #
        #        xmlVoucher.appendChild(xmlVoucherTrans);
        #
        #        this.addSubNodes(reportLines, xmlVoucherTrans, xmlDoc);
        #
        #        processProgress.setText(strFmt("@FSA162", reportLines.Voucher, reportLines.AccountNum));
        #        counter++;
        #        processProgress.setCount(counter);
        #
        #        previousVoucher = reportLines.Voucher;
        #        firstTime = false;
        #    }
        #
        #    //Add the root to the XmlDocument
        #    xmlDoc.appendChild(xmlRoot);
        #    //Create a new object of the XmlWriter class in order to be able to write the xml to a file.
        #    // BP deviation documented.
        #    xmlWriter = XMLWriter::newFile(this.parmfileName());
        #    //Write the content of the XmlDocument to the file as specified by the XmlWriter.
        #    xmlDoc.writeTo(xmlWriter);
        #
        #    //Convert the xml file to a string.
        #    textWriter = XmlTextWriter::newXml();
        #    //Create a new object of the XmlTextWriter class in order to be able to write the xml to a string.
        #    xmlDoc.writeTo(textWriter);
        #    //Write the content of the XmlDocument to the string as specified by the XmlTextWriter.
        #    this.parmXmlString(textWriter.writeToString());
        #}
      ENDSOURCE
      SOURCE #dialog
        #protected Object dialog()
        #{
        #    Dialog dialog;
        #    ;
        #
        #    dialog = super();
        #    dialog.caption("@FSA200");
        #
        #    fieldFilePath = dialog.addField(extendedTypeStr(FilePath));
        #    fieldValidateXMLFile = dialog.addField(extendedTypeStr(NoYesId), "@FSA111");
        #
        #    fieldValidateXMLFile.value(ledgerParameters::find().STF_EAccountingValidateXMLFiles);
        #
        #
        #
        #    return dialog;
        #}
      ENDSOURCE
      SOURCE #getFromDialog
        #public boolean getFromDialog()
        #{
        #    boolean             ret = true;
        #    STF_SATVouchersTable STF_SATVouchersTable;
        #    str ejercicio, periodo, clave;
        #
        #    #define.ZeroValue("0")
        #
        #    ;
        #
        #    filePath = fieldFilePath.value();
        #
        #    if (!FilePath)
        #        ret = checkFailed("@FSA47");
        #
        #    select firstonly * from STF_SATVouchersTable
        #    where STF_SATVouchersTable.ReportId == this.parmReportId();
        #
        #    ejercicio = int2str(year(STF_SATVouchersTable.FromDate));
        #    periodo = int2Str(mthofyr(STF_SATVouchersTable.FromDate));
        #    clave = STF_SATVouchersTable.DocumentTypeId;
        #
        #    if(strlen(periodo)==1)
        #    {
        #       periodo = strfmt("%1%2",#ZeroValue,periodo);
        #    }
        #
        #    fileName = strfmt("%1\\%2%3%4%5.xml", filePath,CompanyInfo::find().Rfc_MX,ejercicio,periodo,clave);
        #
        #        validateXMLFile = fieldValidateXMLFile.value();
        #
        #    if (validateXMLFile)
        #    {
        #        if (!ledgerParameters::find().STF_VouchersXSDPath)
        #        {
        #            validateXMLFile = NoYes::No;
        #            checkFailed("@FSA160");
        #        }
        #    }
        #
        #    return ret;
        #
        #}
      ENDSOURCE
      SOURCE #pack
        #public container pack()
        #{
        #    return connull();
        #}
      ENDSOURCE
      SOURCE #parmfileName
        #public FileName parmfileName(FileName _fileName = fileName)
        #{;
        #    fileName = _fileName;
        #
        #    return fileName;
        #}
      ENDSOURCE
      SOURCE #parmFilePath
        #public FilePath parmFilePath(FilePath _filePath = filePath)
        #{;
        #    filePath = _filePath;
        #
        #    return filePath;
        #}
      ENDSOURCE
      SOURCE #parmReportId
        #STF_SATVouchersReportId parmReportId(STF_SATVouchersReportId _reportId = reportId)
        #{
        #    ;
        #
        #    reportId = _reportId;
        #
        #    return reportId;
        #}
      ENDSOURCE
      SOURCE #parmValidateXMLFile
        #NoYes parmValidateXMLFile(NoYes _validate = validateXMLFile)
        #{
        #    ;
        #
        #    validateXMLFile = _validate;
        #
        #    return validateXMLFile;
        #}
      ENDSOURCE
      SOURCE #parmVouchersReportTable
        #STF_SATVouchersTable parmVouchersReportTable(STF_SATVouchersTable _reportTable = vouchersReportTable)
        #{
        #    ;
        #
        #    vouchersReportTable = _reportTable;
        #
        #    return vouchersReportTable;
        #}
      ENDSOURCE
      SOURCE #parmXmlString
        #AifXml parmXmlString(AifXml _xmlString = xmlString)
        #{
        #    ;
        #
        #    xmlString = _xmlString;
        #
        #    return xmlString;
        #}
      ENDSOURCE
      SOURCE #resolveVoucherType
        #STF_SATVoucherType resolveVoucherType(Voucher _voucher, TransDate _transDate)
        #{
        #   // LedgerTrans         ledgerTrans;
        #    STF_SATVoucherType  voucherType = STF_SATVoucherType::Journal;
        #    GeneralJournalAccountEntry  generalaccountentry;
        #    ;
        #
        #     /*while   select   generalJournalAccountEntry
        #            join generalJournalEntry
        #            where generalJournalEntry.RecId                                 == generalJournalAccountEntry.GeneralJournalEntry
        #            join  subledgerVoucherGeneralJournalEntry
        #            where subledgerVoucherGeneralJournalEntry.GeneralJournalEntry   == generalJournalEntry.RecId
        #    */
        #
        #    generalaccountentry =   GeneralJournalAccountEntry::STF_FindVoucherDate(_voucher,_transDate,LedgerPostingType::Bank);
        #
        # //   ledgerTrans = LedgerTrans::STF_FindVoucherDate(_voucher, _transDate, LedgerPostingType::Bank);
        #
        #    if (generalaccountentry.RecId)
        #    {
        #        if (generalaccountentry.TransactionCurrencyAmount < 0)
        #            voucherType = STF_SATVoucherType::Expenses;
        #        else
        #            voucherType = STF_SATVoucherType::Income;
        #    }
        #    else
        #    {
        #
        #        generalaccountentry =   GeneralJournalAccountEntry::STF_FindVoucherDate(_voucher,_transDate,LedgerPostingType::VendBalance);
        #      //  ledgerTrans = LedgerTrans::STF_FindVoucherDate(_voucher, _transDate, LedgerPostingType::VendBalance);
        #
        #        if (generalaccountentry.RecId)
        #        {
        #            if (generalaccountentry.TransactionCurrencyAmount < 0)
        #                voucherType = STF_SATVoucherType::Expenses;
        #            else
        #                voucherType = STF_SATVoucherType::Income;
        #        }
        #        else
        #        {
        #            generalaccountentry =   GeneralJournalAccountEntry::STF_FindVoucherDate(_voucher,_transDate,LedgerPostingType::CustBalance);
        #          //  ledgerTrans = LedgerTrans::STF_FindVoucherDate(_voucher, _transDate, LedgerPostingType::CustBalance);
        #
        #            if (generalaccountentry.RecId)
        #            {
        #                if (generalaccountentry.TransactionCurrencyAmount < 0)
        #                    voucherType = STF_SATVoucherType::Expenses;
        #                else
        #                    voucherType = STF_SATVoucherType::Income;
        #            }
        #        }
        #    }
        #
        #    return voucherType;
        #}
      ENDSOURCE
      SOURCE #run
        #void run()
        #{
        #
        #    Ionic.Zip.ZipFile zipFile;
        #    str ZipFileName;
        #    STF_SATVouchersTable STF_SATVouchersTable;
        #
        #    str ejercicio, periodo, clave;
        #
        #    #define.ZeroValue("0")
        #    #define.Path("%1\\%2%3%4%5.zip")
        #
        #    ;
        #
        #    this.parmVouchersReportTable(STF_SATVouchersTable::find(this.parmReportId()));
        #
        #
        #    setprefix("@FSA122");
        #
        #    this.createXML();
        #    this.validateXML();
        #
        #    zipFile = new Ionic.Zip.ZipFile();
        #    zipFile.AddFile(this.parmFileName(), '');
        #
        #    select firstonly * from STF_SATVouchersTable
        #    where STF_SATVouchersTable.ReportId == this.parmReportId();
        #
        #    ejercicio = int2str(year(STF_SATVouchersTable.FromDate));
        #    periodo = int2Str(mthofyr(STF_SATVouchersTable.FromDate));
        #    clave = STF_SATVouchersTable.DocumentTypeId;
        #
        #    if(strlen(periodo)==1)
        #    {
        #       periodo = strfmt("%1%2",#ZeroValue,periodo);
        #    }
        #
        #    zipFileName = strfmt("%1\\%2%3%4%5.zip", filePath,CompanyInfo::find().Rfc_MX,ejercicio,periodo,clave);
        #    zipFile.Save(zipFileName);
        #
        #    winapi::deleteFile(this.parmFileName());
        #
        #    info(strfmt("Se creo el archivo en la siguente ruta: %1", zipFileName));
        #}
      ENDSOURCE
      SOURCE #unpack
        #public boolean unpack(container packedClass)
        #{
        #    return true;
        #}
      ENDSOURCE
      SOURCE #validateXML
        #void validateXML()
        #{
        #    STF_ElectronicAccountingXMLValidation xmlValidation;
        #    ;
        #
        #
        #
        #    if (this.parmValidateXMLFile())
        #    {
        #        xmlValidation = new STF_ElectronicAccountingXMLValidation();
        #
        #        xmlValidation.parmXMLFileName(this.parmfileName());
        #        xmlValidation.parmXSDFileName(ledgerParameters::find().STF_VouchersXSDPath);
        #        xmlValidation.parmXmlString(this.parmXmlString());
        #
        #        //Old version commented.
        #        //xmlValidation.validateXML();
        #        xmlValidation.validateXMLExtended();
        #    }
        #
        #}
      ENDSOURCE
      SOURCE #main
        #static void main(Args _args)
        #{
        #    STF_CreateVouchersReportXML     createVouchersReportXML;
        #    STF_SATVouchersTable            vouchersReportTableLocal;
        #    ;
        #
        #
        #    if (!_args || !_args.caller() || !_args.record().TableId)
        #        throw error(strfmt("@SYS22828", funcname()));
        #
        #
        #    if (_args && _args.dataset() == tablenum(STF_SATVouchersTable))
        #    {
        #
        #        createVouchersReportXML  = new STF_CreateVouchersReportXML();
        #
        #        vouchersReportTableLocal = _args.record();
        #
        #        createVouchersReportXML.parmReportId(vouchersReportTableLocal.ReportId);
        #
        #        if (!STF_SATVouchersLine::exist(vouchersReportTableLocal.ReportId))
        #            throw warning("@FSA43");
        #
        #        if (createVouchersReportXML.prompt())
        #            createVouchersReportXML.run();
        #
        #
        #
        #    }
        #    else
        #        throw error(strfmt("@SYS23396", funcname()));
        #
        #}
      ENDSOURCE
    ENDMETHODS
  ENDCLASS

***Element: CLS

; Microsoft Dynamics AX Class: STF_CreateChartAccountXML descargados
; --------------------------------------------------------------------------------
  CLSVERSION 1
  
  CLASS #STF_CreateChartAccountXML
    PROPERTIES
      Name                #STF_CreateChartAccountXML
      Extends             #RunBase
      Origin              #{6C6E88A8-CF8E-47B5-B9D4-AAEA5B1AECC9}
      LegacyId            #50606
    ENDPROPERTIES
    
    METHODS
      SOURCE #classDeclaration
        #//Project: STF_ElectronicAccounting   Developer: Arly Rubio C.  Date: July/22/2014
        #class STF_CreateChartAccountXML extends RunBase
        #{
        #    STF_SATChartId              chartId;
        #    DialogField                 fieldFilePath;
        #    DialogField                 fieldValidateXMLFile;
        #
        #    FilePath                    filePath;
        #    FileName                    fileName;
        #    NoYes                       validateXMLFile;
        #
        #    AifXml                      xmlString;
        #
        #
        #    STF_SATChartOfAccountsTable chartOfAccountTable;
        #}
      ENDSOURCE
      SOURCE #createXML
        #void createXML()
        #{
        #    XmlDocument                 xmlDoc;
        #    XmlElement                  xmlRoot;
        #    XmlElement                  xmlAccounts;
        #    XMLWriter                   xmlWriter;
        #    XmlAttribute                schemaLocationAttribute;
        #    STF_SATChartOfAccountsLine  chartLines;
        #    STF_DebitCreditType         debitCreditType;
        #    String30                    monthStr;
        #    Str                         xsi = 'http://www.w3.org/2001/XMLSchema-instance';
        #    //Str                         schemaLocation = 'http://grupostaff.com/ Catalogo.xsd';
        #    //Str                         defaultNameSpace = 'http://grupostaff.com/';
        #    Str                         schemaLocation = 'http://www.sat.gob.mx/esquemas/ContabilidadE/1_1/CatalogosParaEsqContE/CatalogosParaEsqContE.xsd';
        #    Str                         defaultNameSpace = 'www.sat.gob.mx/esquemas/ContabilidadE/1_1/CatalogoCuentas';
        #
        #    XmlTextWriter               textWriter;
        #    SysOperationProgress        processProgress;
        #    Integer                     counter = 0;
        #
        #    #AviFiles
        #    #STF_ElectronicAccountingXmlTags
        #    #define.ZeroValue("0")
        #    #define.LevelValue("1")
        #    #define.TotalProgress(1500)
        #    ;
        #
        #
        #
        #    processProgress = new sysOperationProgress();
        #    processProgress.setCaption("@FSA125");
        #    processProgress.setTotal(#TotalProgress);
        #    processProgress.setAnimation(#AviTransfer);
        #
        #
        #    monthStr = int2str(mthOfYr(this.parmChartOfAccountsTable().ValidityDate));
        #
        #    //Fix format number of month when is one single character.
        #    if (strlen(monthStr) == 1)
        #        monthStr = #ZeroValue+monthStr;
        #
        #    // Create a new object of the XmlDocument class.
        #    xmlDoc = XmlDocument::newBlank();
        #    // Create the root node.
        #    xmlRoot = xmlDoc.createElement(#ChartNode);
        #
        #
        #    schemaLocationAttribute = xmlDoc.createAttribute2(#schemaLocationAttribute, xsi);
        #    schemaLocationAttribute.value(schemaLocation);
        #    xmlRoot.setAttributeNode(schemaLocationAttribute);
        #    xmlRoot.setAttribute(#xmlnsAttribute, defaultNameSpace);
        #
        #
        #    xmlRoot.setAttribute(#VersionAttribute, this.parmChartOfAccountsTable().ElectronicAccountingVersion);
        #    xmlRoot.setAttribute(#TaxIdentifierAttribute, CompanyInfo::find().VATNum);
        #    //xmlRoot.setAttribute(#TotalAccountsAttribute, int2Str(this.parmChartOfAccountsTable().NumberOfLedgerAccountsRetrieved));
        #    xmlRoot.setAttribute(#MonthAttribute, monthStr);
        #    xmlRoot.setAttribute(#YearAttribute, int2str(year(this.parmChartOfAccountsTable().ValidityDate)));
        #
        #    while select chartLines
        #        index hint CharIdAccountNumIdx
        #        where chartLines.ChartId == this.parmChartId()
        #    {
        #        // Create a XmlElement (accounts) to hold the contents of the current record.
        #        xmlAccounts = xmlDoc.createElement(#AccountsNode);
        #
        #        xmlAccounts.setAttribute(#GroupingCodeAttribute, chartLines.SATAccountNumLabel);
        #        xmlAccounts.setAttribute(#AccountNumAttribute, chartLines.AccountNum);
        #        xmlAccounts.setAttribute(#DescAttribute, chartLines.AccountName);
        #        xmlAccounts.setAttribute(#LevelAttribute, #LevelValue);
        #
        #        switch (chartLines.DebCredProposal)
        #        {
        #            case DebCredProposal::Debit :
        #                debitCreditType = STF_DebitCreditType::D;
        #                break;
        #
        #            case DebCredProposal::Credit :
        #                debitCreditType = STF_DebitCreditType::A;
        #                break;
        #
        #            default:
        #                debitCreditType = STF_DebitCreditType::None;
        #                break;
        #        }
        #        xmlAccounts.setAttribute(#DebitCreditTypeAttribute, enum2str(debitCreditType));
        #
        #        xmlRoot.appendChild(xmlAccounts);
        #
        #        processProgress.setText(strFmt("@FSA126", chartLines.AccountNum));
        #        counter++;
        #        processProgress.setCount(counter);
        #    }
        #
        #
        #    //Add the root to the XmlDocument
        #    xmlDoc.appendChild(xmlRoot);
        #
        #    //Create a new object of the XmlWriter class in order to be able to write the xml to a file.
        #    // BP deviation documented.
        #    xmlWriter = XMLWriter::newFile(this.parmfileName());
        #    //Write the content of the XmlDocument to the file as specified by the XmlWriter.
        #    xmlDoc.writeTo(xmlWriter);
        #
        #    //Convert the xml file to a string.
        #    textWriter = XmlTextWriter::newXml();
        #    //Create a new object of the XmlTextWriter class in order to be able to write the xml to a string.
        #    xmlDoc.writeTo(textWriter);
        #    //Write the content of the XmlDocument to the string as specified by the XmlTextWriter.
        #    this.parmXmlString(textWriter.writeToString());
        #
        #
        #}
      ENDSOURCE
      SOURCE #dialog
        #protected Object dialog()
        #{
        #    Dialog dialog;
        #    ;
        #
        #    dialog = super();
        #    dialog.caption("@FSA200");
        #
        #    fieldFilePath = dialog.addField(extendedtypestr(FilePath));
        #    fieldValidateXMLFile = dialog.addField(extendedtypestr(NoYesId), "@FSA111");
        #
        #    fieldValidateXMLFile.value(ledgerParameters::find().STF_EAccountingValidateXMLFiles);
        #
        #    return dialog;
        #}
      ENDSOURCE
      SOURCE #getFromDialog
        #public boolean getFromDialog()
        #{
        #    boolean             ret = true;
        #    STF_SATChartOfAccountsTable STF_SATChartOfAccountsTable;
        #    str ejercicio, periodo, clave;
        #
        #    #define.ZeroValue("0")
        #    ;
        #
        #    filePath = fieldFilePath.value();
        #
        #    if (!FilePath)
        #        ret = checkFailed("@FSA47");
        #
        #   select firstonly * from STF_SATChartOfAccountsTable
        #    where STF_SATChartOfAccountsTable.ChartId == this.parmChartId();
        #
        #    ejercicio = int2str(year(STF_SATChartOfAccountsTable.ValidityDate));
        #    periodo = int2Str(mthofyr(STF_SATChartOfAccountsTable.ValidityDate));
        #    clave = STF_SATChartOfAccountsTable.DocumentType;
        #
        #    if(strlen(periodo)==1)
        #    {
        #       periodo = strfmt("%1%2",#ZeroValue,periodo);
        #    }
        #
        #    fileName = strfmt("%1\\%2%3%4%5.xml", filePath,CompanyInfo::find().Rfc_MX,ejercicio,periodo,clave);
        #
        #    validateXMLFile = fieldValidateXMLFile.value();
        #
        #    if (validateXMLFile)
        #    {
        #        if (!ledgerParameters::find().STF_ChartOfAccountsXSDPath)
        #        {
        #            validateXMLFile = NoYes::No;
        #            checkFailed("@FSA109");
        #        }
        #    }
        #
        #    return ret;
        #
        #}
      ENDSOURCE
      SOURCE #pack
        #public container pack()
        #{
        #    return connull();
        #}
      ENDSOURCE
      SOURCE #parmChartId
        #STF_SATChartId parmChartId(STF_SATChartId _chartId = chartId)
        #{
        #    ;
        #
        #    chartId = _chartId;
        #
        #    return chartId;
        #}
      ENDSOURCE
      SOURCE #parmChartOfAccountsTable
        #STF_SATChartOfAccountsTable parmChartOfAccountsTable(STF_SATChartOfAccountsTable _chart = chartOfAccountTable)
        #{
        #    ;
        #
        #    chartOfAccountTable = _chart;
        #
        #    return chartOfAccountTable;
        #}
      ENDSOURCE
      SOURCE #parmfileName
        #public FileName parmfileName(FileName _fileName = fileName)
        #{;
        #    fileName = _fileName;
        #
        #    return fileName;
        #}
      ENDSOURCE
      SOURCE #parmFilePath
        #public FilePath parmFilePath(FilePath _filePath = filePath)
        #{;
        #    filePath = _filePath;
        #
        #    return filePath;
        #}
      ENDSOURCE
      SOURCE #parmValidateXMLFile
        #NoYes parmValidateXMLFile(NoYes _validate = validateXMLFile)
        #{
        #    ;
        #
        #    validateXMLFile = _validate;
        #
        #    return validateXMLFile;
        #}
      ENDSOURCE
      SOURCE #parmXmlString
        #AifXml parmXmlString(AifXml _xmlString = xmlString)
        #{
        #    ;
        #
        #    xmlString = _xmlString;
        #
        #    return xmlString;
        #}
      ENDSOURCE
      SOURCE #run
        #void run()
        #{
        #    Ionic.Zip.ZipFile zipFile;
        #    str ZipFileName;
        #    STF_SATChartOfAccountsTable STF_SATChartOfAccountsTable;
        #
        #    str ejercicio, periodo, clave;
        #
        #    #define.ZeroValue("0")
        #    ;
        #
        #    this.parmChartOfAccountsTable(STF_SATChartOfAccountsTable::find(this.parmChartId()));
        #
        #    setprefix("@FSA122");
        #
        #    this.createXML();
        #    this.validateXML();
        #
        #
        #
        #    zipFile = new Ionic.Zip.ZipFile();
        #    zipFile.AddFile(this.parmFileName(), '');
        #
        #
        #    select firstonly * from STF_SATChartOfAccountsTable
        #    where STF_SATChartOfAccountsTable.ChartId == this.parmChartId();
        #
        #    ejercicio = int2str(year(STF_SATChartOfAccountsTable.ValidityDate));
        #    periodo = int2Str(mthofyr(STF_SATChartOfAccountsTable.ValidityDate));
        #    clave = STF_SATChartOfAccountsTable.DocumentType;
        #
        #    if(strlen(periodo)==1)
        #    {
        #       periodo = strfmt("%1%2",#ZeroValue,periodo);
        #    }
        #
        #    zipFileName = strfmt("%1\\%2%3%4%5.zip", filePath,CompanyInfo::find().Rfc_MX,ejercicio,periodo,clave);
        #    zipFile.Save(zipFileName);
        #
        #    winapi::deleteFile(this.parmFileName());
        #
        #    info(strfmt("@FSA48", zipFileName));
        #}
      ENDSOURCE
      SOURCE #unpack
        #public boolean unpack(container packedClass)
        #{
        #    return true;
        #}
      ENDSOURCE
      SOURCE #validateXML
        #void validateXML()
        #{
        #    STF_ElectronicAccountingXMLValidation xmlValidation;
        #    ;
        #
        #
        #
        #    if (this.parmValidateXMLFile())
        #    {
        #        xmlValidation = new STF_ElectronicAccountingXMLValidation();
        #
        #        xmlValidation.parmXMLFileName(this.parmfileName());
        #        xmlValidation.parmXSDFileName(ledgerParameters::find().STF_ChartOfAccountsXSDPath);
        #        xmlValidation.parmXmlString(this.parmXmlString());
        #
        #        //Old version commented.
        #        //xmlValidation.validateXML();
        #        xmlValidation.validateXMLExtended();
        #    }
        #
        #}
      ENDSOURCE
      SOURCE #main
        #static void main(Args _args)
        #{
        #    STF_CreateChartAccountXML   createChartAccountXML;
        #    STF_SATChartOfAccountsTable chartOfAccountsTableLocal;
        #
        #    ;
        #
        #
        #    if (!_args || !_args.caller() || !_args.record().TableId)
        #        throw error(strfmt("@SYS22828", funcname()));
        #
        #
        #    if (_args && _args.dataset() == tablenum(STF_SATChartOfAccountsTable))
        #    {
        #
        #        createChartAccountXML      = new STF_CreateChartAccountXML();
        #
        #        chartOfAccountsTableLocal   = _args.record();
        #
        #        createChartAccountXML.parmChartId(chartOfAccountsTableLocal.ChartId);
        #
        #        if (!chartOfAccountsTableLocal.NumberOfLedgerAccountsRetrieved || !chartOfAccountsTableLocal.RecId)
        #            throw warning("@FSA43");
        #
        #
        #        if (createChartAccountXML.prompt())
        #            createChartAccountXML.run();
        #
        #
        #    }
        #    else
        #        throw error(strfmt("@SYS23396", funcname()));
        #
        #}
      ENDSOURCE
    ENDMETHODS
  ENDCLASS

***Element: CLS

; Microsoft Dynamics AX Class: STF_CreateTrialBalanceXML descargados
; --------------------------------------------------------------------------------
  CLSVERSION 1
  
  CLASS #STF_CreateTrialBalanceXML
    PROPERTIES
      Name                #STF_CreateTrialBalanceXML
      Extends             #RunBase
      Origin              #{A34A5310-470C-4B55-B28E-16E29545488B}
      LegacyId            #50608
    ENDPROPERTIES
    
    METHODS
      SOURCE #classDeclaration
        #//Project: STF_ElectronicAccounting   Developer: Arly Rubio C.  Date: July/22/2014
        #class STF_CreateTrialBalanceXML extends RunBase
        #{
        #    STF_SATTrialBalanceId           trialBalanceId;
        #    DialogField                     fieldFilePath;
        #    DialogField                     fieldValidateXMLFile;
        #
        #    FilePath                        filePath;
        #    FileName                        fileName;
        #    NoYes                           validateXMLFile;
        #
        #    AifXml                          xmlString;
        #
        #    STF_SATLedgerTrialBalanceTable  trialBalanceTable;
        #}
      ENDSOURCE
      SOURCE #createXML
        #void createXML()
        #{
        #    XmlDocument                     xmlDoc;
        #    XmlElement                      xmlRoot;
        #    XmlElement                      xmlAccounts;
        #    XMLWriter                       xmlWriter;
        #    XmlAttribute                    schemaLocationAttribute;
        #    STF_SATLedgerTrialBalanceLine   trialBalanceLines;
        #    String30                        monthStr;
        #    Str                             xsi = 'http://www.w3.org/2001/XMLSchema-instance';
        #    Str                             schemaLocation = 'www.sat.gob.mx/esquemas/ContabilidadE/1_1/BalanzaComprobacion.xsd';
        #    Str                             defaultNameSpace = 'www.sat.gob.mx/esquemas/ContabilidadE/1_1/BalanzaComprobacion';
        #
        #    XmlTextWriter                   textWriter;
        #    SysOperationProgress            processProgress;
        #    Integer                         counter = 0;
        #
        #    #AviFiles
        #    #STF_ElectronicAccountingXmlTags
        #    #define.ZeroValue("0")
        #    #define.TotalProgress(1500)
        #    ;
        #
        #    processProgress = new sysOperationProgress();
        #    processProgress.setCaption("@FSA127");
        #    processProgress.setTotal(#TotalProgress);
        #    processProgress.setAnimation(#AviTransfer);
        #
        #    monthStr = int2str(mthOfYr(this.parmTrialBalanceTable().FromDate));
        #
        #    //Fix format number of month when is one single character.
        #    if (strlen(monthStr) == 1)
        #        monthStr = #ZeroValue+monthStr;
        #
        #    // Create a new object of the XmlDocument class.
        #    xmlDoc = XmlDocument::newBlank();
        #    // Create the root node.
        #    xmlRoot = xmlDoc.createElement(#TrialBalanceNode);
        #
        #    schemaLocationAttribute = xmlDoc.createAttribute2(#schemaLocationAttribute, xsi);
        #    schemaLocationAttribute.value(schemaLocation);
        #    xmlRoot.setAttributeNode(schemaLocationAttribute);
        #    xmlRoot.setAttribute(#xmlnsAttribute, defaultNameSpace);
        #
        #    xmlRoot.setAttribute(#VersionAttribute, this.parmTrialBalanceTable().ElectronicAccountingVersion);
        #    xmlRoot.setAttribute(#TaxIdentifierAttribute, CompanyInfo::find().VATNum);
        #    //xmlRoot.setAttribute(#TotalAccountsAttribute, int2Str(this.parmTrialBalanceTable().NumberOfLedgerAccountsRetrieved));
        #    xmlRoot.setAttribute(#MonthAttribute, monthStr);
        #    xmlRoot.setAttribute(#YearAttribute, int2str(year(this.parmTrialBalanceTable().FromDate)));
        #    if(this.parmTrialBalanceTable().DocumentTypeId == "BN")
        #        {
        #            xmlRoot.setAttribute(#TipoEnvio, "N");
        #            if(this.parmTrialBalanceTable().ToDate)
        #                xmlRoot.setAttribute(#FechaModBal, date2str(this.parmTrialBalanceTable().FromDate,321,2,3,2,3,4 ));
        #        }
        #    else
        #        {
        #            xmlRoot.setAttribute(#TipoEnvio, "C");
        #            xmlRoot.setAttribute(#FechaModBal, date2str(this.parmTrialBalanceTable().FromDate,321,2,3,2,3,4 ));
        #        }
        #
        #
        #    while select trialBalanceLines
        #        index hint TrialBalanceIdAccountNumIdx
        #        where trialBalanceLines.TrialBalanceId == this.parmTrialBalanceId()
        #    {
        #        // Create a XmlElement (accounts) to hold the contents of the current record.
        #        xmlAccounts = xmlDoc.createElement(#AccountsNode);
        #
        #        xmlAccounts.setAttribute(#AccountNumAttribute, trialBalanceLines.AccountNum);
        #        xmlAccounts.setAttribute(#OpeningBalanceAttribute, num2str(trialBalanceLines.OpeningBalance, 0, 2, 1, 0));
        #        xmlAccounts.setAttribute(#DebitAttribute, num2str(trialBalanceLines.AmountDebit, 0, 2, 1, 0));
        #        xmlAccounts.setAttribute(#CreditAttribute, num2str(trialBalanceLines.AmountCredit, 0, 2, 1, 0));
        #        xmlAccounts.setAttribute(#EndingBalanceAttribute, num2str(trialBalanceLines.EndingBalance, 0, 2, 1, 0));
        #
        #        xmlRoot.appendChild(xmlAccounts);
        #
        #        processProgress.setText(strFmt("@FSA126", trialBalanceLines.AccountNum));
        #        counter++;
        #        processProgress.setCount(counter);
        #    }
        #
        #    //Add the root to the XmlDocument
        #    xmlDoc.appendChild(xmlRoot);
        #    //Create a new object of the XmlWriter class in order to be able to write the xml to a file.
        #    // BP deviation documented.
        #    xmlWriter = XMLWriter::newFile(this.parmfileName());
        #    //Write the content of the XmlDocument to the file as specified by the XmlWriter.
        #    xmlDoc.writeTo(xmlWriter);
        #
        #    //Convert the xml file to a string.
        #    textWriter = XmlTextWriter::newXml();
        #    //Create a new object of the XmlTextWriter class in order to be able to write the xml to a string.
        #    xmlDoc.writeTo(textWriter);
        #    //Write the content of the XmlDocument to the string as specified by the XmlTextWriter.
        #    this.parmXmlString(textWriter.writeToString());
        #}
      ENDSOURCE
      SOURCE #dialog
        #protected Object dialog()
        #{
        #    Dialog dialog;
        #    ;
        #
        #    dialog = super();
        #    dialog.caption("@FSA200");
        #
        #    fieldFilePath = dialog.addField(extendedTypeStr(FilePath));
        #    fieldValidateXMLFile = dialog.addField(extendedTypeStr(NoYesId), "@FSA111");
        #
        #    fieldValidateXMLFile.value(ledgerParameters::find().STF_EAccountingValidateXMLFiles);
        #
        #
        #    return dialog;
        #}
      ENDSOURCE
      SOURCE #getFromDialog
        #public boolean getFromDialog()
        #{
        #    boolean             ret = true;
        #    STF_SATLedgerTrialBalanceTable STF_SATLedgerTrialBalanceTable;
        #    str ejercicio, periodo, clave;
        #
        #    #define.ZeroValue("0")
        #    ;
        #
        #    filePath = fieldFilePath.value();
        #
        #    if (!FilePath)
        #        ret = checkFailed("@FSA47");
        #
        #
        #    select firstonly * from STF_SATLedgerTrialBalanceTable
        #    where STF_SATLedgerTrialBalanceTable.TrialBalanceId == this.parmTrialBalanceId();
        #
        #    ejercicio = int2str(year(STF_SATLedgerTrialBalanceTable.FromDate));
        #    periodo = int2Str(mthofyr(STF_SATLedgerTrialBalanceTable.FromDate));
        #    clave = STF_SATLedgerTrialBalanceTable.DocumentTypeId;
        #
        #    if(strlen(periodo)==1)
        #    {
        #       periodo = strfmt("%1%2",#ZeroValue,periodo);
        #    }
        #
        #    fileName = strfmt("%1\\%2%3%4%5.xml", filePath,CompanyInfo::find().Rfc_MX,ejercicio,periodo,clave);
        #
        #    validateXMLFile = fieldValidateXMLFile.value();
        #
        #    if (validateXMLFile)
        #    {
        #        if (!ledgerParameters::find().STF_TrialBalanceXSDPath)
        #        {
        #            validateXMLFile = NoYes::No;
        #            checkFailed("@FSA110");
        #        }
        #    }
        #
        #    return ret;
        #
        #}
      ENDSOURCE
      SOURCE #pack
        #public container pack()
        #{
        #    return connull();
        #}
      ENDSOURCE
      SOURCE #parmfileName
        #public FileName parmfileName(FileName _fileName = fileName)
        #{;
        #    fileName = _fileName;
        #
        #    return fileName;
        #}
      ENDSOURCE
      SOURCE #parmFilePath
        #public FilePath parmFilePath(FilePath _filePath = filePath)
        #{;
        #    filePath = _filePath;
        #
        #    return filePath;
        #}
      ENDSOURCE
      SOURCE #parmTrialBalanceId
        #STF_SATTrialBalanceId parmTrialBalanceId(STF_SATTrialBalanceId _trialBalanceId = trialBalanceId)
        #{
        #    ;
        #
        #    trialBalanceId = _trialBalanceId;
        #
        #    return trialBalanceId;
        #}
      ENDSOURCE
      SOURCE #parmTrialBalanceTable
        #STF_SATLedgerTrialBalanceTable parmTrialBalanceTable(STF_SATLedgerTrialBalanceTable _trialBalance = trialBalanceTable)
        #{
        #    ;
        #
        #    trialBalanceTable = _trialBalance;
        #
        #    return trialBalanceTable;
        #}
      ENDSOURCE
      SOURCE #parmValidateXMLFile
        #NoYes parmValidateXMLFile(NoYes _validate = validateXMLFile)
        #{
        #    ;
        #
        #    validateXMLFile = _validate;
        #
        #    return validateXMLFile;
        #}
      ENDSOURCE
      SOURCE #parmXmlString
        #AifXml parmXmlString(AifXml _xmlString = xmlString)
        #{
        #    ;
        #
        #    xmlString = _xmlString;
        #
        #    return xmlString;
        #}
      ENDSOURCE
      SOURCE #run
        #void run()
        #{
        #    Ionic.Zip.ZipFile zipFile;
        #    str ZipFileName;
        #   STF_SATLedgerTrialBalanceTable STF_SATLedgerTrialBalanceTable;
        #
        #    str ejercicio, periodo, clave;
        #
        #    #define.ZeroValue("0")
        #
        #    ;
        #
        #    this.parmTrialBalanceTable(STF_SATLedgerTrialBalanceTable::find(this.parmTrialBalanceId()));
        #
        #
        #    setprefix("@FSA122");
        #
        #    this.createXML();
        #    this.validateXML();
        #
        #    zipFile = new Ionic.Zip.ZipFile();
        #    zipFile.AddFile(this.parmFileName(), '');
        #
        #
        #    select firstonly * from STF_SATLedgerTrialBalanceTable
        #    where STF_SATLedgerTrialBalanceTable.TrialBalanceId == this.parmTrialBalanceId();
        #
        #    ejercicio = int2str(year(STF_SATLedgerTrialBalanceTable.FromDate));
        #    periodo = int2Str(mthofyr(STF_SATLedgerTrialBalanceTable.FromDate));
        #    clave = STF_SATLedgerTrialBalanceTable.DocumentTypeId;
        #
        #    if(strlen(periodo)==1)
        #    {
        #       periodo = strfmt("%1%2",#ZeroValue,periodo);
        #    }
        #
        #    zipFileName = strfmt("%1\\%2%3%4%5.zip", filePath,CompanyInfo::find().Rfc_MX,ejercicio,periodo,clave);
        #    zipFile.Save(zipFileName);
        #
        #    winapi::deleteFile(this.parmFileName());
        #
        #    info(strfmt("@FSA48", zipFileName));
        #}
      ENDSOURCE
      SOURCE #unpack
        #public boolean unpack(container packedClass)
        #{
        #    return true;
        #}
      ENDSOURCE
      SOURCE #validateXML
        #void validateXML()
        #{
        #    STF_ElectronicAccountingXMLValidation xmlValidation;
        #    ;
        #
        #
        #
        #    if (this.parmValidateXMLFile())
        #    {
        #        xmlValidation = new STF_ElectronicAccountingXMLValidation();
        #
        #        xmlValidation.parmXMLFileName(this.parmfileName());
        #        xmlValidation.parmXSDFileName(ledgerParameters::find().STF_TrialBalanceXSDPath);
        #        xmlValidation.parmXmlString(this.parmXmlString());
        #
        #        //Old version commented.
        #        //xmlValidation.validateXML();
        #        xmlValidation.validateXMLExtended();
        #    }
        #
        #}
      ENDSOURCE
      SOURCE #main
        #static void main(Args _args)
        #{
        #    STF_CreateTrialBalanceXML       createTrialBalanceXML;
        #    STF_SATLedgerTrialBalanceTable  trialBalanceTableLocal;
        #    ;
        #
        #
        #    if (!_args || !_args.caller() || !_args.record().TableId)
        #        throw error(strfmt("@SYS22828", funcname()));
        #
        #
        #    if (_args && _args.dataset() == tablenum(STF_SATLedgerTrialBalanceTable))
        #    {
        #
        #        createTrialBalanceXML   = new STF_CreateTrialBalanceXML();
        #
        #        trialBalanceTableLocal  = _args.record();
        #
        #        createTrialBalanceXML.parmTrialBalanceId(trialBalanceTableLocal.TrialBalanceId);
        #
        #        if (!trialBalanceTableLocal.NumberOfLedgerAccountsRetrieved || !trialBalanceTableLocal.RecId)
        #            throw warning("@FSA43");
        #
        #        if (createTrialBalanceXML.prompt())
        #            createTrialBalanceXML.run();
        #
        #
        #
        #    }
        #    else
        #        throw error(strfmt("@SYS23396", funcname()));
        #
        #}
      ENDSOURCE
    ENDMETHODS
  ENDCLASS

***Element: CLS

; Microsoft Dynamics AX Class: STF_CalculateSATVouchersReport descargados
; --------------------------------------------------------------------------------
  CLSVERSION 1
  
  CLASS #STF_CalculateSATVouchersReport
    PROPERTIES
      Name                #STF_CalculateSATVouchersReport
      Extends             #RunBase
      Origin              #{43DB3731-9D88-4269-8ED2-249B66176264}
    ENDPROPERTIES
    
    METHODS
      SOURCE #addBankTransfersAndChecksReferences
        #void addBankTransfersAndChecksReferences(BankAccountTrans _bankAccountTrans, RefRecId _refRecId, Voucher _voucher)
        #{
        #    STF_SATSubVouchersLine  subVoucherLine;
        #    BankTransType           bankTransType;
        #
        #    BankGroupId         bankFrom;
        #    BankGroupId         bankTo;
        #    BankAccount         bankAccountNumFrom;
        #    BankAccount         bankAccountNumTo;
        #
        #    Name                beneficiary;
        #    VATNum              vatNum;
        #    ;
        #
        #    bankTransType = BankTransType::find(_bankAccountTrans.BankTransType);
        #
        #    switch (bankTransType.STF_BankTransactionType)
        #    {
        #        case STF_BankTransactionType::Check :
        #            [bankFrom, bankAccountNumFrom, bankTo, bankAccountNumTo, beneficiary, vatNum] = this.resolveCustVendBankTrans(_bankAccountTrans);
        #
        #            subVoucherLine.clear();
        #            subVoucherLine.ReportId             = this.parmReportId();
        #            subVoucherLine.SubNodeType          = STF_SubNodeType::Check;
        #            subVoucherLine.VoucherLineRefRecId  = _refRecId;
        #            subVoucherLine.CheckNum             = _bankAccountTrans.PaymReference;
        #            subVoucherLine.BankFrom             = bankFrom;
        #            subVoucherLine.BankAccountNumFrom   = bankAccountNumFrom;
        #            subVoucherLine.TransDate            = _bankAccountTrans.TransDate;
        #            subVoucherLine.Amount               = _bankAccountTrans.AmountCur;
        #            subVoucherLine.Beneficiary          = beneficiary;
        #            subVoucherLine.VATNum               = vatNum;
        #            subVoucherLine.Voucher              = _voucher;
        #            subVoucherLine.insert();
        #
        #            this.parmSubNodeFound(true);
        #            break;
        #
        #        case STF_BankTransactionType::Transfer :
        #            [bankFrom, bankAccountNumFrom, bankTo, bankAccountNumTo, beneficiary, vatNum] = this.resolveCustVendBankTrans(_bankAccountTrans);
        #
        #            subVoucherLine.clear();
        #            subVoucherLine.ReportId             = this.parmReportId();
        #            subVoucherLine.SubNodeType          = STF_SubNodeType::Transfer;
        #            subVoucherLine.VoucherLineRefRecId  = _refRecId;
        #            subVoucherLine.BankFrom             = bankFrom;
        #            subVoucherLine.BankAccountNumFrom   = bankAccountNumFrom;
        #            subVoucherLine.BankTo               = bankTo;
        #            subVoucherLine.BankAccountNumTo     = bankAccountNumTo;
        #            subVoucherLine.TransDate            = _bankAccountTrans.TransDate;
        #            subVoucherLine.Amount               = _bankAccountTrans.AmountCur;
        #            subVoucherLine.Beneficiary          = beneficiary;
        #            subVoucherLine.VATNum               = vatNum;
        #            subVoucherLine.Voucher              = _voucher;
        #            subVoucherLine.insert();
        #
        #            this.parmSubNodeFound(true);
        #            break;
        #    }
        #}
      ENDSOURCE
      SOURCE #addBreakdownOfInvoices
        #void addBreakdownOfInvoices(RefRecid _invoiceRefRecId, RefRecId _voucherLineRefRecid, Voucher _voucher)
        #{
        #    STF_ElectronicInvoiceReferences electronicInvoiceReferences;
        #    STF_SATSubVouchersLine          subVoucherLine;
        #    ;
        #
        #    while select electronicInvoiceReferences
        #        index hint RefInvoiceRecIdIdx
        #        where electronicInvoiceReferences.RefInvoiceRecId == _invoiceRefRecId
        #    {
        #        subVoucherLine.clear();
        #
        #        subVoucherLine.ReportId                     = this.parmReportId();
        #        subVoucherLine.SubNodeType                  = STF_SubNodeType::Voucher;
        #        subVoucherLine.VoucherLineRefRecId          = _voucherLineRefRecid;
        #        subVoucherLine.UUID                         = electronicInvoiceReferences.UUID;
        #        subVoucherLine.Amount                       = electronicInvoiceReferences.InvoiceAmount;
        #        subVoucherLine.VATNum                       = electronicInvoiceReferences.VATNum;
        #        subVoucherLine.Voucher                      = _voucher;
        #        subVoucherLine.CustVendOrigin               = STF_CustVendOrigin::Vend;
        #        subVoucherLine.CustVendnvoiceJourRefRecId   = _invoiceRefRecId;
        #        subVoucherLine.insert();
        #
        #        if (!subVoucherLine.UUID)
        #            this.parmInvoiceWithoutElectronicId(true);
        #    }
        #}
      ENDSOURCE
      SOURCE #addCheck
        #void addCheck(BankAccountTrans _bankAccountTrans, RefRecId _refRecId, Voucher _voucher)
        #{
        #    STF_SATSubVouchersLine  subVoucherLine;
        #    BankChequeTable         bankChequeTable;
        #    BankAccountTable        bankAccountTable;
        #
        #    CustTable               custTable;
        #    VendTable               vendTable;
        #
        #    Name                    beneficiary;
        #    VATNum                  vatNum;
        #    ;
        #
        #    subVoucherLine.clear();
        #
        #    if (_bankAccountTrans.ChequeNum) //Add Checks
        #    {
        #        bankChequeTable  = BankChequeTable::find(_bankAccountTrans.AccountId, _bankAccountTrans.ChequeNum);
        #        bankAccountTable = BankAccountTable::find(_bankAccountTrans.AccountId);
        #
        #        if (bankChequeTable.RecId && (bankChequeTable.RecipientType == BankChequeRecipientType::Cust || bankChequeTable.RecipientType == BankChequeRecipientType::Vend))
        #        {
        #            subVoucherLine.ReportId             = this.parmReportId();
        #            subVoucherLine.SubNodeType          = STF_SubNodeType::Check;
        #            subVoucherLine.VoucherLineRefRecId  = _refRecId;
        #            subVoucherLine.CheckNum             = _bankAccountTrans.ChequeNum;
        #            subVoucherLine.BankFrom             = bankAccountTable.RegistrationNum;
        #            subVoucherLine.BankAccountNumFrom   = bankAccountTable.AccountNum;
        #            subVoucherLine.TransDate            = _bankAccountTrans.TransDate;
        #            subVoucherLine.Amount               = _bankAccountTrans.AmountCur;
        #
        #            switch (bankChequeTable.RecipientType)
        #            {
        #                case BankChequeRecipientType::Cust :
        #                    custTable   = CustTable::find(bankChequeTable.RecipientAccountNum);
        #                    beneficiary = custTable.Name();
        #                    vatNum      = custTable.VATNum;
        #
        #                case BankChequeRecipientType::Vend :
        #                    vendTable   = VendTable::find(bankChequeTable.RecipientAccountNum);
        #                    beneficiary = vendTable.Name();
        #                    vatNum      = vendTable.VATNum;
        #                    break;
        #            }
        #
        #            subVoucherLine.Beneficiary          = beneficiary;
        #            subVoucherLine.VATNum               = vatNum;
        #            subVoucherLine.Voucher              = _voucher;
        #            subVoucherLine.insert();
        #
        #            this.parmSubNodeFound(true);
        #        }
        #    }
        #}
      ENDSOURCE
      SOURCE #buildQuery
        #public Query buildQuery()
        #{
        #    QueryBuildDataSource    qbds;
        #    Query                   qry = new Query();
        #
        #    qbds = qry.addDataSource(tablenum(STF_SATChartOfAccountsLine));
        #
        #    qbds.addRange(fieldNum(STF_SATChartOfAccountsLine, ChartId)).value(this.parmBufferRecord().ChartId);
        #    if (this.parmBufferRecord().LedgerAccountsRange)
        #        qbds.addRange(fieldnum(STF_SATChartOfAccountsLine, AccountNum)).value(this.parmBufferRecord().LedgerAccountsRange);
        #
        #    return qry;
        #}
      ENDSOURCE
      SOURCE #calculateVouchersReport
        #void calculateVouchersReport()
        #{
        #    QueryRun                    qry = new QueryRun(this.buildQuery());
        #    STF_SATChartOfAccountsLine  chartOfAccountsLine;
        #   // LedgerTrans                 ledgerTrans;
        #    TransactionLog              transLog;
        #    SysOperationProgress        processProgress;
        #    Integer                     counter = 0;
        #
        #    STF_VoucherTypeTable        voucherTypeTable;
        #    STF_SATVoucherType          defaultVoucherType = STF_SATVoucherType::Journal;
        #
        #    #AviFiles
        #    #define.TotalProgress(1500)
        #    #define.NoConcept("@FSA164")
        #
        #    generalJournalAccountEntry          generalJournalAccountEntry;
        #    generalJournalEntry                 generalJournalEntry;
        #    subledgerVoucherGeneralJournalEntry subledgerVoucherGeneralJournalEntry;
        #
        #    DimensionAttributeValueCombination  comb;
        #    FiscalCalendarPeriod                FiscalCalendarPeriod;
        #    ;
        #
        #
        #    processProgress = new sysOperationProgress();
        #    processProgress.setCaption("@FSA147");
        #    processProgress.setTotal(#TotalProgress);
        #    processProgress.setAnimation(#AviTransfer);
        #
        #    includeClosing  = NoYes::No;
        #    opening         = NoYes::Yes;
        #
        #    reportLines.skipDatabaseLog(true);
        #    reportLines.skipEvents(true);
        #
        #    while (qry.next())
        #    {
        #        chartOfAccountsLine = qry.get(tablenum(STF_SATChartOfAccountsLine));
        #
        #        while  select  RecId from comb
        #           index hint mainaccountidx
        #            where comb.MainAccount ==  MainAccount::findByMainAccountId(chartOfAccountsLine.AccountNum).RecId
        #          {
        #
        #
        #            generalJournalAccountEntry.selectLocked(false);
        #            generalJournalAccountentry.concurrencyModel(ConcurrencyModel::Optimistic);
        #
        #                 while   select   generalJournalAccountEntry
        #                    join generalJournalEntry
        #                    where generalJournalEntry.RecId                                 == generalJournalAccountEntry.GeneralJournalEntry
        #                    join  subledgerVoucherGeneralJournalEntry
        #                    where subledgerVoucherGeneralJournalEntry.GeneralJournalEntry   == generalJournalEntry.RecId
        #                    &&  generalJournalAccountEntry.LedgerDimension                  == comb.RecId//CustTable::find(chartOfAccountsLine.AccountNum).Party
        #                    &&  generalJournalEntry.AccountingDate                          >=  this.parmBufferRecord().FromDate
        #                    &&  generalJournalEntry.AccountingDate                          <=  this.parmBufferRecord().ToDate
        #                    &&  generalJournalEntry.PostingLayer                            ==  CurrentOperationsTax::Current
        #                    join FiscalCalendarPeriod
        #                    where    generalJournalEntry.FiscalCalendarPeriod               ==  FiscalCalendarPeriod.RecId
        #                   // &&  ((generalJournalEntry.FiscalCalendarPeriod                  ==  PeriodCode::Opening &&  !opening)
        #                   // ||  (generalJournalEntry.FiscalCalendarPeriod                   ==  PeriodCode::Regular)
        #                   // ||  (generalJournalEntry.FiscalCalendarPeriod                   ==  PeriodCode::Closing &&  includeClosing))
        #
        #                {
        #                    this.parmSubNodeFound(false);
        #                    transLog = TransactionLog::find(generalJournalAccountEntry.createdTransactionId);
        #
        #                    voucherTypeTable = STF_VoucherTypeTable::find(transLog.Type);
        #
        #                    reportLines.clear();
        #                    reportLines.Concept  = transLog.Txt ? transLog.Txt : #NoConcept;
        #                    reportLines.Type     = voucherTypeTable.VoucherType ? voucherTypeTable.VoucherType : defaultVoucherType;
        #                    reportLines.ReportId = this.parmReportId();
        #                    reportLines.intFromLedgerTrans(generalJournalAccountEntry,generalJournalEntry,subledgerVoucherGeneralJournalEntry);
        #                    reportLines.AccountName = chartOfAccountsLine.AccountName;
        #                    reportLines.FromDate    = this.parmBufferRecord().FromDate;
        #                    reportLines.ToDate      = this.parmBufferRecord().ToDate;
        #
        #                    reportLines.insert();
        #
        #                    //Looking for vouchers receipts.
        #                    this.retrieveReceipts(reportLines.RecId, generalJournalAccountEntry,generalJournalEntry,subledgerVoucherGeneralJournalEntry);
        #                    this.retrieveBankTransactions(reportLines.RecId, generalJournalAccountEntry,generalJournalEntry,subledgerVoucherGeneralJournalEntry);
        #
        #                    if (this.parmSubNodeFound())
        #                    {
        #                        reportLines.selectForUpdate(true);
        #                        ttsbegin;
        #                        reportLines.HasSubNodes = NoYes::Yes;
        #                        reportLines.update();
        #                        ttscommit;
        #                    }
        #
        #               //     processProgress.setText(strFmt("@INZ89", ledgerTrans.Voucher, ledgerTrans.AccountNum));
        #                    counter++;
        #                    processProgress.setCount(counter);
        #                }//while generalJournalAccountEntry
        #        }// while comb
        #    }//while Query
        #}
      ENDSOURCE
      SOURCE #classDeclaration
        #//Project: STF_ElectronicAccounting   Developer: Arly Rubio C.  Date: July/22/2014
        #class STF_CalculateSATVouchersReport extends RunBase
        #{
        #    STF_SATVouchersReportId         reportId;
        #
        #    STF_SATVouchersTable            bufferVouchersTable;
        #    STF_SATVouchersLine             reportLines;
        #
        #    NoYes                           opening;
        #    NoYes                           includeClosing;
        #
        #    boolean                         subNodeFound;
        #    boolean                         invoiceWithoutElectronicId;
        #}
      ENDSOURCE
      SOURCE #deletePreviousVouchersReport
        #void deletePreviousVouchersReport()
        #{
        #    STF_SATVouchersLine reportLinesLocal;
        #    ;
        #
        #    reportLinesLocal.skipDatabaseLog();
        #    reportLinesLocal.skipEvents();
        #
        #    delete_from reportLinesLocal
        #        where reportLinesLocal.ReportId == this.parmReportId();
        #}
      ENDSOURCE
      SOURCE #dialog
        #protected Object dialog()
        #{
        #    Dialog dialog;
        #    ;
        #
        #    dialog = super();
        #    dialog.caption("@FSA144");
        #
        #    dialog.addText("@FSA145");
        #
        #    return dialog;
        #}
      ENDSOURCE
      SOURCE #getFromDialog
        #public boolean getFromDialog()
        #{
        #    boolean             ret = true;
        #    ;
        #
        #    return ret;
        #
        #}
      ENDSOURCE
      SOURCE #openForm
        #void openForm()
        #{
        #    Args args = new Args();
        #    ;
        #
        #    args.record(this.parmBufferRecord());
        #
        #    new MenuFunction(MenuItemDisplayStr(STF_SATVouchersLine), MenuItemType::Display).run(args);
        #
        #}
      ENDSOURCE
      SOURCE #pack
        #public container pack()
        #{
        #    return connull();
        #}
      ENDSOURCE
      SOURCE #parmBufferRecord
        #STF_SATVouchersTable parmBufferRecord(STF_SATVouchersTable _record = bufferVouchersTable)
        #{
        #    ;
        #
        #    bufferVouchersTable = _record;
        #
        #    return bufferVouchersTable;
        #}
      ENDSOURCE
      SOURCE #parmInvoiceWithoutElectronicId
        #boolean parmInvoiceWithoutElectronicId(boolean _set = invoiceWithoutElectronicId)
        #{
        #    ;
        #
        #    invoiceWithoutElectronicId = _set;
        #
        #    return invoiceWithoutElectronicId;
        #}
      ENDSOURCE
      SOURCE #parmReportId
        #STF_SATVouchersReportId parmReportId(STF_SATVouchersReportId _reportId = reportId)
        #{
        #    ;
        #
        #    reportId = _reportId;
        #
        #    return reportId;
        #}
      ENDSOURCE
      SOURCE #parmSubNodeFound
        #boolean parmSubNodeFound(boolean _subNodeFound = subNodeFound)
        #{
        #    ;
        #
        #    subNodeFound = _subNodeFound;
        #
        #    return subNodeFound;
        #}
      ENDSOURCE
      SOURCE #resolveCustVendBankTrans
        #container resolveCustVendBankTrans(BankAccountTrans _bankAccountTrans)
        #{
        #    VendTable           vendTable;
        #
        #    CustAccount         custAccount;
        #    VendAccount         vendAccount;
        #
        #    CustBankAccount     custBankAccount;
        #    VendBankAccount     vendBankAccount;
        #
        #    BankAccountTable    bankAccountTable;
        #
        #    BankGroupId         bankFrom;
        #    BankGroupId         bankTo;
        #    BankAccount         bankAccountNumFrom;
        #    BankAccount         bankAccountNumTo;
        #
        #    Name                beneficiary;
        #    VATNum              vatNum;
        #
        #    CompanyInfo         companyInfo;
        #    ;
        #
        #
        #    bankAccountTable    = BankAccountTable::find(_bankAccountTrans.AccountId);
        #    custAccount         = CustTrans::findVoucherDate(_bankAccountTrans.Voucher, _bankAccountTrans.TransDate).AccountNum;
        #
        #    if (custAccount)
        #    {
        #        companyInfo     = CompanyInfo::find();
        #        custBankAccount = CustBankAccount::find(custAccount, _bankAccountTrans.STF_CustVendBankAccountId);
        #
        #        bankFrom            = custBankAccount.RegistrationNum;
        #        bankAccountNumFrom  = custBankAccount.AccountNum;
        #        bankTo              = bankAccountTable.RegistrationNum;
        #        bankAccountNumTo    = bankAccountTable.AccountNum;
        #
        #        beneficiary         = companyInfo.Name;
        #        vatNum              = companyInfo.VATNum;
        #    }
        #    else
        #    {
        #        vendAccount = VendTrans::findVoucherDate(_bankAccountTrans.Voucher, _bankAccountTrans.TransDate).AccountNum;
        #
        #        if (vendAccount)
        #        {
        #            vendTable       = VendTable::find(vendAccount);
        #            vendBankAccount = VendBankAccount::find(vendAccount, _bankAccountTrans.STF_CustVendBankAccountId);
        #
        #            bankFrom            = bankAccountTable.RegistrationNum;
        #            bankAccountNumFrom  = bankAccountTable.AccountNum;
        #            bankTo              = vendBankAccount.RegistrationNum;
        #            bankAccountNumTo    = vendBankAccount.AccountNum;
        #
        #            beneficiary         = vendTable.name();
        #            vatNum              = vendTable.VATNum;
        #        }
        #    }
        #
        #    return [bankFrom, bankAccountNumFrom, bankTo, bankAccountNumTo, beneficiary, vatNum];
        #}
      ENDSOURCE
      SOURCE #retrieveBankTransactions
        #void retrieveBankTransactions(RefRecId _refRecId, generalJournalAccountEntry _generalJournalAccountEntry
        #                              ,generalJournalEntry _generalJournalEntry
        #                              ,subledgerVoucherGeneralJournalEntry _subledgerVoucherGeneralJournalEntry)
        #{
        #    BankAccountTrans        bankAccountTrans;
        #    ;
        #
        #    switch (_generalJournalAccountEntry.PostingType)
        #    {
        #        case ledgerPostingType::Bank :
        #            bankAccountTrans = BankAccountTrans::findByVoucher(_subledgerVoucherGeneralJournalEntry.Voucher,_generalJournalEntry.AccountingDate);
        #
        #            if (bankAccountTrans.Cancel == NoYes::Yes)
        #                return;
        #
        #            if (bankAccountTrans.ChequeNum) //Add Checks
        #                this.addCheck(bankAccountTrans, _refRecId, _subledgerVoucherGeneralJournalEntry.Voucher);
        #            else
        #                this.addBankTransfersAndChecksReferences(bankAccountTrans, _refRecId, _subledgerVoucherGeneralJournalEntry.Voucher); //Add bank transfers and checks references.
        #
        #            break;
        #
        #    }
        #}
      ENDSOURCE
      SOURCE #retrieveReceipts
        #void retrieveReceipts(RefRecId _refRecId, generalJournalAccountEntry _generalJournalAccountEntry
        #                     ,generalJournalEntry _generalJournalEntry
        #                     ,subledgerVoucherGeneralJournalEntry _subledgerVoucherGeneralJournalEntry)
        #{
        #    CustInvoiceJour         custInvoiceJour;
        #    VendInvoiceJour         vendInvoiceJour;
        #    STF_SATSubVouchersLine  subVoucherLine;
        #    ;
        #
        #    subVoucherLine.clear();
        #
        #    switch (_generalJournalAccountEntry.PostingType)
        #    {
        #        case ledgerPostingType::CustBalance :
        #            custInvoiceJour = CustInvoiceJour::STF_FindFromVoucher(_subledgerVoucherGeneralJournalEntry.Voucher
        #                                                                    ,_generalJournalEntry.AccountingDate);
        #            if (custInvoiceJour.RecId)
        #            {
        #                this.parmSubNodeFound(true);
        #
        #                subVoucherLine.ReportId                     = this.parmReportId();
        #                subVoucherLine.SubNodeType                  = STF_SubNodeType::Voucher;
        #                subVoucherLine.VoucherLineRefRecId          = _refRecId;
        #                //TODO: If the client has activated the electronic invoice comment the next line.
        #                subVoucherLine.UUID                         = custInvoiceJour.STF_UUID;
        #                //TODO: If the client has activated the electronic invoice uncomment the next line.
        #                //subVoucherLine.UUID                 = EInvoiceJour_MX::findByRecId(custInvoiceJour.RecId).CFDIUUID;
        #                subVoucherLine.Amount                       = custInvoiceJour.InvoiceAmount;
        #                subVoucherLine.VATNum                       = custInvoiceJour.custTable_InvoiceAccount().VATNum;
        #                subVoucherLine.Voucher                      = _subledgerVoucherGeneralJournalEntry.Voucher;
        #                subVoucherLine.CustVendOrigin               = STF_CustVendOrigin::Cust;
        #                subVoucherLine.CustVendnvoiceJourRefRecId   = custInvoiceJour.RecId;
        #                subVoucherLine.insert();
        #
        #                if (!subVoucherLine.UUID)
        #                    this.parmInvoiceWithoutElectronicId(true);
        #            }
        #
        #            break;
        #
        #        case LedgerPostingType::VendBalance :
        #            vendInvoiceJour = VendInvoiceJour::STF_FindFromVoucher(_subledgerVoucherGeneralJournalEntry.Voucher
        #                                                                   ,_generalJournalEntry.AccountingDate);
        #            if (vendInvoiceJour.RecId)
        #            {
        #                this.parmSubNodeFound(true);
        #
        #                subVoucherLine.ReportId                     = this.parmReportId();
        #                subVoucherLine.SubNodeType                  = STF_SubNodeType::Voucher;
        #                subVoucherLine.VoucherLineRefRecId          = _refRecId;
        #                subVoucherLine.UUID                         = vendInvoiceJour.STF_UUID;
        #                subVoucherLine.Amount                       = vendInvoiceJour.InvoiceAmount;
        #                subVoucherLine.VATNum                       = vendInvoiceJour.vendTable_InvoiceAccount().VATNum;
        #                subVoucherLine.Voucher                      = _subledgerVoucherGeneralJournalEntry.Voucher;
        #                subVoucherLine.CustVendOrigin               = STF_CustVendOrigin::Vend;
        #                subVoucherLine.CustVendnvoiceJourRefRecId   = vendInvoiceJour.RecId;
        #                subVoucherLine.insert();
        #
        #                if (!subVoucherLine.UUID)
        #                    this.parmInvoiceWithoutElectronicId(true);
        #            }
        #            break;
        #
        #    }
        #}
      ENDSOURCE
      SOURCE #run
        #void run()
        #{
        #    Integer     deletePreviousReportLines;
        #    ;
        #
        #    this.parmBufferRecord(STF_SATVouchersTable::find(this.parmReportId()));
        #
        #    if (!this.parmBufferRecord().RecId)
        #        throw error("@FSA35");
        #
        #
        #    if (STF_SATVouchersLine::exist(this.parmReportId()))
        #    {
        #        deletePreviousReportLines = Box::yesNoCancel(strFmt("@FSA146", this.parmReportId()), 1);
        #
        #        switch(deletePreviousReportLines)
        #        {
        #            case DialogButton::Yes :
        #                break;
        #
        #            default:
        #                checkFailed("@FSA37");
        #                return;
        #        }
        #    }
        #
        #    this.deletePreviousVouchersReport();
        #    this.calculateVouchersReport();
        #
        #    if (this.parmInvoiceWithoutElectronicId())
        #        warning("@FSA194");
        #
        #    this.openForm();
        #
        #}
      ENDSOURCE
      SOURCE #unpack
        #public boolean unpack(container packedClass)
        #{
        #    return true;
        #}
      ENDSOURCE
      SOURCE #main
        #static void main(Args _args)
        #{
        #    STF_CalculateSATVouchersReport  calculateSATVouchersReport;
        #    STF_SATVouchersTable            voucherTableLocal;
        #    ;
        #
        #
        #    if (!_args || !_args.caller() || !_args.record().TableId)
        #        throw error(strfmt("@SYS22828", funcname()));
        #
        #
        #    if (_args && _args.dataset() == tablenum(STF_SATVouchersTable))
        #    {
        #
        #        calculateSATVouchersReport = new STF_CalculateSATVouchersReport();
        #
        #        voucherTableLocal   = _args.record();
        #
        #        calculateSATVouchersReport.parmReportId(voucherTableLocal.ReportId);
        #
        #        if (calculateSATVouchersReport.prompt())
        #            calculateSATVouchersReport.run();
        #
        #    }
        #    else
        #        throw error(strfmt("@SYS23396", funcname()));
        #
        #}
      ENDSOURCE
    ENDMETHODS
  ENDCLASS

***Element: UTS

; Microsoft Dynamics AX String: STF_StepNumber descargados
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #STF_StepNumber
  STRING
    PROPERTIES
      Name                #STF_StepNumber
      Origin              #{1EFE40DD-EB10-40D8-BB6B-2458976561CD}
      LegacyId            #50030
      StringSize          #20
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
    ENDTYPEREFERENCES
    
    TYPELOOKUPS
    ENDTYPELOOKUPS
    
  ENDUSERTYPE
  

***Element: UTS

; Microsoft Dynamics AX String: STF_StrLarge descargados
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #STF_StrLarge
  STRING
    PROPERTIES
      Name                #STF_StrLarge
      Origin              #{2665E3C4-195D-4D41-9738-422CC8245A6F}
      LegacyId            #50031
      StringSize          #300
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
    ENDTYPEREFERENCES
    
    TYPELOOKUPS
    ENDTYPELOOKUPS
    
  ENDUSERTYPE
  

***Element: UTS

; Microsoft Dynamics AX String: STF_DocumentTypeId descargados
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #STF_DocumentTypeId
  STRING
    PROPERTIES
      Name                #STF_DocumentTypeId
      Origin              #{43736807-EEE4-4F3C-A496-1110C65D0778}
      LegacyId            #50029
      StringSize          #2
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
    ENDTYPEREFERENCES
    
    TYPELOOKUPS
    ENDTYPELOOKUPS
    
  ENDUSERTYPE
  

***Element: UTS

; Microsoft Dynamics AX String: STF_Description descargados
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #STF_Description
  STRING
    PROPERTIES
      Name                #STF_Description
      Origin              #{D7F6B44D-269D-4E2E-9D53-58A830CDE7CB}
      LegacyId            #50028
      StringSize          #250
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
    ENDTYPEREFERENCES
    
    TYPELOOKUPS
    ENDTYPELOOKUPS
    
  ENDUSERTYPE
  

***Element: DBE

; Microsoft Dynamics AX Enumtype : STF_SubNodeType unloaded
; --------------------------------------------------------------------------------
  ENUMTYPEVERSION 1
  
  ENUMTYPE #STF_SubNodeType
    PROPERTIES
      Name                #STF_SubNodeType
      Label               #@FSA153
      Help                #@FSA9
      UseEnumValue        #Yes
      Origin              #{0DEDC65E-6657-47A4-8358-85CC5785C6BA}
      LegacyId            #50006
    ENDPROPERTIES
    
    TYPEELEMENTS
      #None
      PROPERTIES
        Name                #None
        Label               #@FSA141
        EnumValue           #0
      ENDPROPERTIES
      
      #Check
      PROPERTIES
        Name                #Check
        Label               #@FSA154
        EnumValue           #1
      ENDPROPERTIES
      
      #Transfer
      PROPERTIES
        Name                #Transfer
        Label               #@FSA155
        EnumValue           #2
      ENDPROPERTIES
      
      #Voucher
      PROPERTIES
        Name                #Voucher
        Label               #@FSA156
        EnumValue           #3
      ENDPROPERTIES
      
    ENDTYPEELEMENTS
  ENDENUMTYPE
  

***Element: DBE

; Microsoft Dynamics AX Enumtype : STF_DocumentTypeEnum unloaded
; --------------------------------------------------------------------------------
  ENUMTYPEVERSION 1
  
  ENUMTYPE #STF_DocumentTypeEnum
    PROPERTIES
      Name                #STF_DocumentTypeEnum
      UseEnumValue        #Yes
      Origin              #{14CDB54C-D2A6-4793-8966-D9CBF5EEBB89}
      LegacyId            #50023
    ENDPROPERTIES
    
    TYPEELEMENTS
      #Balanza
      PROPERTIES
        Name                #Balanza
        Label               #Balanza
        EnumValue           #0
      ENDPROPERTIES
      
      #Cuentas
      PROPERTIES
        Name                #Cuentas
        Label               #Cuentas
        EnumValue           #1
      ENDPROPERTIES
      
      #Polizas
      PROPERTIES
        Name                #Polizas
        Label               #Polizas
        EnumValue           #2
      ENDPROPERTIES
      
    ENDTYPEELEMENTS
  ENDENUMTYPE
  

***Element: DBE

; Microsoft Dynamics AX Enumtype : STF_StepTypeEnum unloaded
; --------------------------------------------------------------------------------
  ENUMTYPEVERSION 1
  
  ENUMTYPE #STF_StepTypeEnum
    PROPERTIES
      Name                #STF_StepTypeEnum
      UseEnumValue        #Yes
      Origin              #{8E4BD1B6-642C-4793-ADD4-1DA0ED36C424}
      LegacyId            #50025
    ENDPROPERTIES
    
    TYPEELEMENTS
      #AF
      PROPERTIES
        Name                #AF
        Label               #AF-Acto de Fiscalización
        EnumValue           #0
      ENDPROPERTIES
      
      #FC
      PROPERTIES
        Name                #FC
        Label               #FC-Fiscalización Compulsa
        EnumValue           #1
      ENDPROPERTIES
      
      #DE
      PROPERTIES
        Name                #DE
        Label               #DE-Devolución
        EnumValue           #2
      ENDPROPERTIES
      
      #CO
      PROPERTIES
        Name                #CO
        Label               #CO-Compensación
        EnumValue           #3
      ENDPROPERTIES
      
    ENDTYPEELEMENTS
  ENDENUMTYPE
  

***Element: DBE

; Microsoft Dynamics AX Enumtype : STF_ShippingType unloaded
; --------------------------------------------------------------------------------
  ENUMTYPEVERSION 1
  
  ENUMTYPE #STF_ShippingType
    PROPERTIES
      Name                #STF_ShippingType
      UseEnumValue        #Yes
      Origin              #{8CB05974-9372-45D9-B8DE-3E077BB442B1}
      LegacyId            #50024
    ENDPROPERTIES
    
    TYPEELEMENTS
      #Normal
      PROPERTIES
        Name                #Normal
        Label               #Normal
        EnumValue           #0
      ENDPROPERTIES
      
      #Complementaria
      PROPERTIES
        Name                #Complementaria
        Label               #Complementaria
        EnumValue           #1
      ENDPROPERTIES
      
    ENDTYPEELEMENTS
  ENDENUMTYPE
  

***Element: DBT

; Microsoft Dynamics AX Table : BankGroup unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #BankGroup
    EnforceFKRelation 0
    PROPERTIES
      Name                #BankGroup
      Label               #@SYS54424
      FormRef             #BankGroup
      TitleField1         #RegistrationNum
      TitleField2         #Name
      TableContents       #Default data
      ConfigurationKey    #Bank
      SecurityKey         #BankTables
      CacheLookup         #EntireTable
      TableGroup          #Group
      PrimaryIndex        #BankGroupIdx
      ClusterIndex        #BankGroupIdx
      DeveloperDocumentation  #@SYS127026
      Origin              #{2C090005-0000-1000-127D-7F6B47726F75}
      LegacyId            #5
    ENDPROPERTIES
    
    FIELDS
      FIELD #BankAccountOpenedIn_RU
        STRING
        PROPERTIES
          Name                #BankAccountOpenedIn_RU
          Table               #BankGroup
          Origin              #{2A163E87-0005-1000-25D4-59676EBE8400}
          LegacyId            #16007
          ExtendedDataType    #BankAccountOpenedIn_RU
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #BankArchive_RU
        ENUM
        PROPERTIES
          Name                #BankArchive_RU
          Table               #BankGroup
          Origin              #{2A0E1F49-0005-1000-55DD-2BF079FE6B75}
          LegacyId            #8009
          ExtendedDataType    #BankArchive_RU
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #BankBIC_RU
        STRING
        PROPERTIES
          Name                #BankBIC_RU
          Table               #BankGroup
          Origin              #{2A0A3E84-0005-1000-E8DE-76784249435F}
          LegacyId            #16004
          ExtendedDataType    #BankBIC_RU
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #BankCodeType
        ENUM
        PROPERTIES
          Name                #BankCodeType
          Table               #BankGroup
          Origin              #{AE2586AA-7FE5-4214-B53B-2D9C6510A659}
          LegacyId            #30
          EnumType            #BankCodeType
        ENDPROPERTIES
        
      FIELD #BankContractAccount
        STRING
        PROPERTIES
          Name                #BankContractAccount
          Label               #@SYS60305
          HelpText            #@SYS68960
          Table               #BankGroup
          Origin              #{642BD42E-3885-4446-AF81-A469444C7235}
          LegacyId            #25
          ExtendedDataType    #GiroContractAccount
          StringSize          #11
        ENDPROPERTIES
        
      FIELD #BankCorrAccount_W
        STRING
        PROPERTIES
          Name                #BankCorrAccount_W
          Table               #BankGroup
          Origin              #{2A113E83-0005-1000-4A0A-164F9EF98D40}
          LegacyId            #16003
          ExtendedDataType    #BankCorrAccount_W
          StringSize          #35
        ENDPROPERTIES
        
      FIELD #BankDescription_RU
        STRING
        PROPERTIES
          Name                #BankDescription_RU
          Table               #BankGroup
          Origin              #{2A123E81-0005-1000-EE5B-62E020361247}
          LegacyId            #16001
          ExtendedDataType    #BankDescription_RU
          StringSize          #(Memo)
        ENDPROPERTIES
        
      FIELD #BankGroupId
        STRING
        PROPERTIES
          Name                #BankGroupId
          Mandatory           #Yes
          AllowEdit           #No
          Table               #BankGroup
          Origin              #{6DA55F48-A25D-40A3-AB15-FB74C51E1273}
          LegacyId            #1
          ExtendedDataType    #BankGroupId
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #BankShortAddressing_RU
        STRING
        PROPERTIES
          Name                #BankShortAddressing_RU
          Table               #BankGroup
          Origin              #{2A163E8E-0005-1000-9198-B419E8141841}
          LegacyId            #16014
          ExtendedDataType    #BankShortAddressing_RU
          StringSize          #250
        ENDPROPERTIES
        
      FIELD #BankStatementFormat
        INT64
        PROPERTIES
          Name                #BankStatementFormat
          Table               #BankGroup
          Origin              #{2A130000-0005-1000-682F-E94A7E9FD979}
          ExtendedDataType    #BankStatementFormatRefRecId
        ENDPROPERTIES
        
      FIELD #BankStatementName
        STRING
        PROPERTIES
          Name                #BankStatementName
          Table               #BankGroup
          Origin              #{2A110000-0005-1000-90BB-DA836C7798D0}
          ExtendedDataType    #BankStatementName
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #BankSuffix
        STRING
        PROPERTIES
          Name                #BankSuffix
          Table               #BankGroup
          Origin              #{45D40BA6-A62A-4E67-B161-5EAF0080FC47}
          LegacyId            #21
          ExtendedDataType    #BankSuffix
          StringSize          #3
        ENDPROPERTIES
        
      FIELD #BankTransferCode
        STRING
        PROPERTIES
          Name                #BankTransferCode
          Table               #BankGroup
          Origin              #{3BB016E6-601C-4093-B30A-A71793A13ECD}
          LegacyId            #22
          ExtendedDataType    #BankTransferCode
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #BankType_RU
        ENUM
        PROPERTIES
          Name                #BankType_RU
          Table               #BankGroup
          Origin              #{2A0B3E82-0005-1000-478A-FA7361797065}
          LegacyId            #16002
          EnumType            #BankType_RU
        ENDPROPERTIES
        
      FIELD #BaseBankId_RU
        STRING
        PROPERTIES
          Name                #BaseBankId_RU
          Label               #@GLS103109
          HelpText            #@GLS103110
          Table               #BankGroup
          CountryRegionCodes  #RU
          IgnoreEDTRelation   #Yes
          Origin              #{2A0D3E85-0005-1000-F513-CA9DCE697B6B}
          LegacyId            #16005
          ExtendedDataType    #BankGroupId
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #BranchCode_JP
        STRING
        PROPERTIES
          Name                #BranchCode_JP
          Table               #BankGroup
          Origin              #{2A0D1F43-0005-1000-CE5F-E3CE2FAC4F6F}
          LegacyId            #8003
          ExtendedDataType    #BranchCode_JP
          StringSize          #3
        ENDPROPERTIES
        
      FIELD #BranchName_JP
        STRING
        PROPERTIES
          Name                #BranchName_JP
          Table               #BankGroup
          Origin              #{2A0D1F44-0005-1000-C1BF-E4CE2FAC5A61}
          LegacyId            #8004
          ExtendedDataType    #BranchName_JP
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #BranchNameKana_JP
        STRING
        PROPERTIES
          Name                #BranchNameKana_JP
          Table               #BankGroup
          Origin              #{2A111F45-0005-1000-31F8-D42DDA7F35C1}
          LegacyId            #8005
          ExtendedDataType    #BranchNameKana_JP
          StringSize          #25
        ENDPROPERTIES
        
      FIELD #CellularPhone
        STRING
        PROPERTIES
          Name                #CellularPhone
          Table               #BankGroup
          Origin              #{865334ED-CB6D-4208-87A8-CE4E3D472CC4}
          LegacyId            #17
          ExtendedDataType    #PhoneMobile
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #Code_JP
        STRING
        PROPERTIES
          Name                #Code_JP
          Table               #BankGroup
          Origin              #{2A071F41-0005-1000-436F-64655F4A5000}
          LegacyId            #8001
          ExtendedDataType    #BankCode_JP
          StringSize          #4
        ENDPROPERTIES
        
      FIELD #CompanyPaymId
        STRING
        PROPERTIES
          Name                #CompanyPaymId
          Table               #BankGroup
          Origin              #{12844E36-6283-44D8-A92E-7275178F6166}
          LegacyId            #31
          ExtendedDataType    #CompanyPaymId
          StringSize          #35
        ENDPROPERTIES
        
      FIELD #ContactPerson
        STRING
        PROPERTIES
          Name                #ContactPerson
          HelpText            #@SYS13368
          Table               #BankGroup
          Origin              #{687C6F83-2ED0-4235-A011-C2FCA24246DB}
          LegacyId            #19
          ExtendedDataType    #PersonName
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #CurrencyCode
        STRING
        PROPERTIES
          Name                #CurrencyCode
          Table               #BankGroup
          Origin              #{617CA51D-4118-468C-93BB-C2C8331C177D}
          LegacyId            #12
          ExtendedDataType    #CurrencyCode
          StringSize          #3
        ENDPROPERTIES
        
      FIELD #CurrencyOrder_TemplateName_RU
        STRING
        PROPERTIES
          Name                #CurrencyOrder_TemplateName_RU
          Label               #@GLS102339
          HelpText            #@GLS102988
          Table               #BankGroup
          CountryRegionCodes  #RU
          Origin              #{2A1D3E90-0005-1000-9650-887592639A38}
          LegacyId            #16016
          ExtendedDataType    #Filename
          StringSize          #259
        ENDPROPERTIES
        
      FIELD #DiscNoticeDelayDays
        INT
        PROPERTIES
          Name                #DiscNoticeDelayDays
          Table               #BankGroup
          Origin              #{A5CEE518-E8B9-402D-AC4A-3BE46C30B25A}
          LegacyId            #20
          ExtendedDataType    #BankDiscNoticeDelayDays
        ENDPROPERTIES
        
      FIELD #Email
        STRING
        PROPERTIES
          Name                #Email
          Table               #BankGroup
          Origin              #{CB1EA93B-F63D-4D2C-A154-A94902821339}
          LegacyId            #9
          ExtendedDataType    #Email
          StringSize          #80
        ENDPROPERTIES
        
      FIELD #Location
        INT64
        PROPERTIES
          Name                #Location
          Visible             #No
          Table               #BankGroup
          Origin              #{022B42C5-A537-4D64-8182-0ED6DB3454E3}
          LegacyId            #13
          ExtendedDataType    #LogisticsLocationRecId
        ENDPROPERTIES
        
      FIELD #Name
        STRING
        PROPERTIES
          Name                #Name
          HelpText            #@SYS23241
          Table               #BankGroup
          Origin              #{9427C4EB-8053-4C81-BEA0-F5AA3DAA5289}
          LegacyId            #3
          ExtendedDataType    #Name
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #NameKana_JP
        STRING
        PROPERTIES
          Name                #NameKana_JP
          Table               #BankGroup
          Origin              #{2A0B1F42-0005-1000-53B2-39A957616E61}
          LegacyId            #8002
          ExtendedDataType    #BankNameKana_JP
          StringSize          #25
        ENDPROPERTIES
        
      FIELD #OrganizationNumber_MY
        STRING
        PROPERTIES
          Name                #OrganizationNumber_MY
          Table               #BankGroup
          CountryRegionCodes  #MY
          Origin              #{9A883692-3B82-4D09-B2B1-63F566EDB3B7}
          ExtendedDataType    #DirOrganizationNumber
          StringSize          #25
        ENDPROPERTIES
        
      FIELD #Pager
        STRING
        PROPERTIES
          Name                #Pager
          Table               #BankGroup
          Origin              #{B43E3A6B-93FB-43E5-BA5D-F8653FA40461}
          LegacyId            #26
          ExtendedDataType    #Pager
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #Phone
        STRING
        PROPERTIES
          Name                #Phone
          HelpText            #@SYS24869
          Table               #BankGroup
          Origin              #{8152D2C5-4CFB-4887-9BD4-6C6B1F4B798F}
          LegacyId            #11
          ExtendedDataType    #Phone
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #PhoneLocal
        STRING
        PROPERTIES
          Name                #PhoneLocal
          Table               #BankGroup
          Origin              #{C9FBB292-5E96-4807-901F-4CA60B85B97B}
          LegacyId            #18
          ExtendedDataType    #PhoneLocal
        ENDPROPERTIES
        
      FIELD #RegistrationNum
        STRING
        PROPERTIES
          Name                #RegistrationNum
          Table               #BankGroup
          Origin              #{4567C545-DBA4-4EA1-AA15-2104AFA1B4D4}
          LegacyId            #8
          ExtendedDataType    #BankRegNum
          StringSize          #12
        ENDPROPERTIES
        
      FIELD #SMS
        STRING
        PROPERTIES
          Name                #SMS
          Table               #BankGroup
          Origin              #{4BFF4D1F-66A8-4C08-8ED1-5CE59F8CC508}
          LegacyId            #27
          ExtendedDataType    #SMS
          StringSize          #80
        ENDPROPERTIES
        
      FIELD #STF_isForeign
        ENUM
        PROPERTIES
          Name                #STF_isForeign
          Label               #Es extranjero?
          HelpText            #Se activa cuando el grupo es extranjero
          Table               #BankGroup
          Origin              #{FA624113-AFF1-40F5-9F49-CC59D8E811D0}
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #SWIFTNo_EE
        STRING
        PROPERTIES
          Name                #SWIFTNo_EE
          Table               #BankGroup
          CountryRegionCodes  #EE
          Origin              #{2A0A3E91-0005-1000-9A28-DE50544E6F5F}
          LegacyId            #16017
          ExtendedDataType    #SWIFTNo
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #Telefax
        STRING
        PROPERTIES
          Name                #Telefax
          HelpText            #@SYS24866
          Table               #BankGroup
          Origin              #{CDA8EA0B-CF84-4784-B06B-D5CCC7CBC6B0}
          LegacyId            #10
          ExtendedDataType    #TeleFax
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #Telex
        STRING
        PROPERTIES
          Name                #Telex
          HelpText            #@SYS25202
          Table               #BankGroup
          Origin              #{2FD95CE6-BA3E-4B3C-90EB-EB067FE350DC}
          LegacyId            #15
          ExtendedDataType    #Telex
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #TemplateFileName_RU
        STRING
        PROPERTIES
          Name                #TemplateFileName_RU
          Label               #@GLS102339
          HelpText            #@GLS102340
          Table               #BankGroup
          CountryRegionCodes  #RU
          Origin              #{2A133E8F-0005-1000-BB52-72AF3196D0C1}
          LegacyId            #16015
          ExtendedDataType    #Filename
          StringSize          #259
        ENDPROPERTIES
        
      FIELD #URL
        STRING
        PROPERTIES
          Name                #URL
          Table               #BankGroup
          Origin              #{809A8C3A-F1D5-4FED-9050-431E41CC98E6}
          LegacyId            #16
          ExtendedDataType    #URL
          StringSize          #255
        ENDPROPERTIES
        
      FIELD #VendAccountNum_RU
        STRING
        PROPERTIES
          Name                #VendAccountNum_RU
          HelpText            #@GLS114402
          Table               #BankGroup
          CountryRegionCodes  #RU
          IgnoreEDTRelation   #Yes
          Origin              #{2A111F4A-0005-1000-A4DA-966794CD20A9}
          LegacyId            #8010
          ExtendedDataType    #VendAccount
          StringSize          #20
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoReport
        PROPERTIES
          Name                #AutoReport
        ENDPROPERTIES
        
        GROUPFIELDS
          #BankGroupId
          #Name
          #BankDescription_RU
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #AutoLookup
        PROPERTIES
          Name                #AutoLookup
        ENDPROPERTIES
        
        GROUPFIELDS
          #BankGroupId
          #Name
          #BankBIC_RU
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #BankDetails
        PROPERTIES
          Name                #BankDetails
          Label               #@GLS60008
        ENDPROPERTIES
        
        GROUPFIELDS
          #Code_JP
          #NameKana_JP
          #BranchCode_JP
          #BranchName_JP
          #BranchNameKana_JP
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #BankReconciliation
        PROPERTIES
          Name                #BankReconciliation
          Label               #@SYS69067
        ENDPROPERTIES
        
        GROUPFIELDS
          #BankStatementName
          #BankStatementFormat
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #BankShortAddressing_RU
        PROPERTIES
          Name                #BankShortAddressing_RU
          Label               #@GLS103103
        ENDPROPERTIES
        
        GROUPFIELDS
          #BankShortAddressing_RU
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #BankType_RU
        PROPERTIES
          Name                #BankType_RU
          Label               #@GLS103099
        ENDPROPERTIES
        
        GROUPFIELDS
          #BankType_RU
          #BankArchive_RU
          #BaseBankId_RU
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ContactInfo
        PROPERTIES
          Name                #ContactInfo
          Label               #@SYS21663
        ENDPROPERTIES
        
        GROUPFIELDS
          #ContactPerson
          #Phone
          #PhoneLocal
          #CellularPhone
          #Pager
          #Telefax
          #Email
          #SMS
          #URL
          #Telex
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #CorrespondenceAccount_RU
        PROPERTIES
          Name                #CorrespondenceAccount_RU
          Label               #@GLS103604
        ENDPROPERTIES
        
        GROUPFIELDS
          #BankCorrAccount_W
          #BankAccountOpenedIn_RU
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Description
        PROPERTIES
          Name                #Description
          Label               #@SYS7576
        ENDPROPERTIES
        
        GROUPFIELDS
          #Name
          #BankDescription_RU
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Identification
        PROPERTIES
          Name                #Identification
          Label               #@SYS5711
        ENDPROPERTIES
        
        GROUPFIELDS
          #BankGroupId
          #BankCodeType
          #RegistrationNum
          #CompanyPaymId
          #BankBIC_RU
          #BankShortAddressing_RU
          #STF_isForeign
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Identification_RU
        PROPERTIES
          Name                #Identification_RU
          Label               #@SYS5711
        ENDPROPERTIES
        
        GROUPFIELDS
          #BankGroupId
          #RegistrationNum
          #Name
          #BankBIC_RU
          #BankShortAddressing_RU
          #VendAccountNum_RU
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Overview
        PROPERTIES
          Name                #Overview
          Label               #@SYS9039
        ENDPROPERTIES
        
        GROUPFIELDS
          #BankGroupId
          #RegistrationNum
          #Name
          #BankBIC_RU
          #BankCorrAccount_W
          #BankAccountOpenedIn_RU
          #BankType_RU
          #BaseBankId_RU
          #OrganizationNumber_MY
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #PaymentManagement
        PROPERTIES
          Name                #PaymentManagement
          Label               #@SYS57540
        ENDPROPERTIES
        
        GROUPFIELDS
          #DiscNoticeDelayDays
          #BankSuffix
          #BankTransferCode
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #PaymentOrderInCurrency_RU
        PROPERTIES
          Name                #PaymentOrderInCurrency_RU
          Label               #@GLS102327
        ENDPROPERTIES
        
        GROUPFIELDS
          #TemplateFileName_RU
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #PurchaseOfFundsInHardCurrency_RU
        PROPERTIES
          Name                #PurchaseOfFundsInHardCurrency_RU
          Label               #@GLS102989
        ENDPROPERTIES
        
        GROUPFIELDS
          #CurrencyOrder_TemplateName_RU
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Setup
        PROPERTIES
          Name                #Setup
          Label               #@SYS2186
        ENDPROPERTIES
        
        GROUPFIELDS
          #CurrencyCode
          #BankContractAccount
          #SWIFTNo_EE
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #BankGroupIdx
      PROPERTIES
        Name                #BankGroupIdx
        AllowDuplicates     #No
        Origin              #{2B0C0001-0005-1000-1230-3265AB846F75}
        LegacyId            #1
      ENDPROPERTIES
      
      INDEXFIELDS
        #BankGroupId
      ENDINDEXFIELDS
      
    ENDINDICES
    FULLTEXTINDICES
    ENDFULLTEXTINDICES
    REFERENCES
      REFERENCE #BankGroup_FK
        PROPERTIES
          Name                #BankGroup_FK
          Table               #BankGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #BankGroup_FK
          Role                #BranchBankGroup_FK
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #BaseBankId_RU
            RelatedField        #BankGroupId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #BankStatementFormat
        PROPERTIES
          Name                #BankStatementFormat
          Table               #BankStatementFormat
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #BankStatementFormat
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #Currency
        PROPERTIES
          Name                #Currency
          Table               #Currency
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #CurrencyCode
            RelatedField        #CurrencyCode
            SourceEDT           #CurrencyCode
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #Location_FK
        PROPERTIES
          Name                #Location_FK
          Table               #LogisticsLocation
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #Location_FK
          Role                #BankGroup
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #Location
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #VendTable_FK
        PROPERTIES
          Name                #VendTable_FK
          Table               #VendTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #VendTable_FK
          Role                #BankGroup
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #VendAccountNum_RU
            RelatedField        #AccountNum
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
    ENDREFERENCES
    
    DELETEACTIONS
      #BankAccountTable
      PROPERTIES
        Table               #BankAccountTable
        DeleteAction        #Restricted
      ENDPROPERTIES
      
      #CustBankAccount
      PROPERTIES
        Table               #CustBankAccount
        DeleteAction        #Restricted
      ENDPROPERTIES
      
      #HcmWorkerBankAccount(BankGroup_FK)
      PROPERTIES
        Table               #HcmWorkerBankAccount
        DeleteAction        #Restricted
        Relation            #BankGroup_FK
      ENDPROPERTIES
      
      #LogisticsLocation
      PROPERTIES
        Table               #LogisticsLocation
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #VendBankAccount
      PROPERTIES
        Table               #VendBankAccount
        DeleteAction        #Restricted
      ENDPROPERTIES
      
    ENDDELETEACTIONS
    
    METHODS
      SOURCE #checkRegistrationNum
        #public boolean checkRegistrationNum()
        #{
        #    BankAccountMap  bankAccountMap;
        #
        #    Bank bank = Bank::construct(SysCountryRegionCode::locationCountryInfo(this.Location));
        #
        #    bankAccountMap.initFromBankGroup(this);
        #
        #    return bank.checkBankRegNum(this.RegistrationNum, this.BankCodeType);
        #}
      ENDSOURCE
      SOURCE #checkVendAccountNum_RU
        #/// <summary>
        #/// Checks vendor account num correctness.
        #/// </summary>
        #/// <param name="_vendAccountFrom">
        #/// The old vendor account num value.
        #/// </param>
        #/// <param name="_vendAccountTo">
        #/// The new vendor account num value; optional.
        #/// </param>
        #/// <returns>
        #/// true if vendor account num is correct; false otherwise.
        #/// </returns>
        #// <GEERU>
        #public boolean checkVendAccountNum_RU(
        #    VendAccount _vendAccountFrom,
        #    VendAccount _vendAccountTo = '')
        #{
        #    boolean     ret = true;
        #    VendTrans   vendTrans;
        #    VendTrans_W vendTrans_W;
        #    BankGroup   bankGroup;
        #
        #    select firstonly RecId from vendTrans
        #            where vendTrans.AccountNum == _vendAccountFrom
        #        exists join vendTrans_W
        #            where vendTrans_W.VendTrans == vendTrans.RecId &&
        #                  vendTrans_W.BankCurrencyTransferId_RU;
        #
        #    if (vendTrans.RecId)
        #    {
        #        ret = checkFailed(strFmt("@GLS114408", _vendAccountFrom));
        #    }
        #
        #    if (ret && _vendAccountTo)
        #    {
        #        select firstonly BankGroupId, Name, RecId from bankGroup
        #            where bankGroup.VendAccountNum_RU == _vendAccountTo &&
        #                  bankGroup.RecId             != this.RecId;
        #
        #        if (bankGroup.RecId)
        #        {
        #            ret = checkFailed(strFmt("@GLS114409", _vendAccountTo,  bankGroup.BankGroupId, bankGroup.Name));
        #        }
        #    }
        #
        #    return ret;
        #}
        #// </GEERU>
      ENDSOURCE
      SOURCE #initFromBaseBank_RU
        #/// <summary>
        #/// Initializes current record from the main bank.
        #/// </summary>
        #// <GEERU>
        #public void initFromBaseBank_RU()
        #{
        #    BankGroup bankGroup = BankGroup::find(this.BaseBankId_RU);
        #
        #    this.BankBIC_RU        = bankGroup.BankBIC_RU;
        #    this.BankCorrAccount_W = bankGroup.BankCorrAccount_W;
        #}
        #// </GEERU>
      ENDSOURCE
      SOURCE #modifiedField
        #public void modifiedField(FieldId _fieldId)
        #{
        #    //<GEERU>
        #    #isoCountryRegionCodes
        #    //</GEERU>
        #    super(_fieldId);
        #
        #    // <GEERU>
        #    if(SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]))
        #    {
        #        switch (_fieldId)
        #        {
        #            case fieldNum(BankGroup, BankType_RU)   :
        #                if (this.BankType_RU == BankType_RU::Main)
        #                {
        #                    this.BaseBankId_RU = '';
        #                    this.initFromBaseBank_RU();
        #                }
        #                break;
        #
        #            case fieldNum(BankGroup, BaseBankId_RU) :
        #                this.initFromBaseBank_RU();
        #                break;
        #        }
        #    }
        #    // </GEERU>
        #}
      ENDSOURCE
      SOURCE #shortAddressing_RU
        #/// <summary>
        #/// Gets the bank location (in abbreviated form).
        #/// </summary>
        #/// <returns>
        #/// Bank location (in abbreviated form).
        #/// </returns>
        #// <GEERU>
        #public BankShortAddressing_RU shortAddressing_RU()
        #{
        #    return this.BankShortAddressing_RU ? this.BankShortAddressing_RU : LogisticsPostalAddress::findByLocation(this.Location).City;
        #}
        #//</GEERU>
      ENDSOURCE
      SOURCE #validateField
        #public boolean validateField(FieldId _fieldIdToCheck)
        #{
        #    boolean             ret;
        #    // <GEERU>
        #    BankGroup           bankGroupLocal;
        #    #isoCountryRegionCodes
        #    // </GEERU>
        #    ;
        #
        #    ret = super(_fieldIdToCheck);
        #    if (ret)
        #    {
        #        switch (_fieldIdToCheck)
        #        {
        #            case fieldNum(BankGroup, url) :
        #
        #                if (this.url)
        #                {
        #                    ret = isValidURL(this.url);
        #                    if (!ret)
        #                    {
        #                        ret = checkFailed("@SYS91305");
        #                    }
        #                }
        #
        #                break;
        #            case fieldNum(BankGroup, RegistrationNum) :
        #                ret = this.checkRegistrationNum();
        #                break;
        #            // <GEERU>
        #            case fieldNum(BankGroup, BankType_RU) :
        #                if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]))
        #                {
        #                    select firstonly BankGroupId from bankGroupLocal
        #                        where bankGroupLocal.BaseBankId_RU == this.BankGroupId;
        #
        #                    if (bankGroupLocal.BankGroupId)
        #                    {
        #                        ret = checkFailed(strFmt("@GLS103484", bankGroupLocal.BankGroupId));
        #                    }
        #                }
        #                break;
        #
        #            case fieldNum(BankGroup, VendAccountNum_RU) :
        #                ret = ret && this.checkVendAccountNum_RU(this.orig().VendAccountNum_RU, this.VendAccountNum_RU);
        #                break;
        #            // </GEERU>
        #        }
        #    }
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #validateWrite
        #public boolean validateWrite()
        #{
        #    boolean ret;
        #    // <GEERU>
        #    #isoCountryRegionCodes
        #    // </GEERU>
        #
        #    ret = super();
        #    if (ret)
        #    {
        #        ret = this.checkRegistrationNum();
        #    }
        #
        #    // <GEERU>
        #    if (ret && SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]))
        #    {
        #        if (this.BankGroupId == this.BaseBankId_RU)
        #        {
        #            ret = checkFailed("@GLS103481");
        #        }
        #        if (this.BankType_RU == BankType_RU::Branch && ! this.BaseBankId_RU)
        #        {
        #            ret = checkFailed("@GLS103482");
        #        }
        #        if (this.BankType_RU                                == BankType_RU::Branch &&
        #            BankGroup::find(this.BaseBankId_RU).BankType_RU == BankType_RU::Branch)
        #        {
        #            ret = checkFailed("@GLS103483");
        #        }
        #    }
        #    // </GEERU>
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #checkExist
        #public static boolean checkExist(BankGroupId _bankGroupId )
        #{
        #    boolean ret = true;
        #    ;
        #
        #    if (!BankGroup::exist(_bankGroupId))
        #    {
        #        ret = checkFailed(strfmt(BankGroup::txtNotExist(), _bankGroupId));
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #exist
        #public static boolean exist(BankGroupId _bankGroupId )
        #{
        #    boolean found;
        #    ;
        #
        #    found = (select firstonly
        #                 RecId
        #            from
        #                 bankGroup
        #             where
        #                 bankGroup.BankGroupId == _bankGroupId).RecId != 0;
        #
        #    return found;
        #}
      ENDSOURCE
      SOURCE #find
        #public static BankGroup find(
        #    BankGroupId _bankGroupId ,
        #    boolean                 _forupdate = false,
        #    ConcurrencyModel        _concurrencyModel = ConcurrencyModel::Auto)
        #{
        #    BankGroup bankGroup;
        #    ;
        #
        #    bankGroup.selectForUpdate(_forupdate);
        #    if (_forupdate  && _concurrencyModel != ConcurrencyModel::Auto)
        #    {
        #        bankGroup.concurrencyModel(_concurrencyModel);
        #    }
        #
        #    select firstonly
        #        bankGroup
        #        where
        #        bankGroup.BankGroupId == _bankGroupId;
        #
        #    return bankGroup;
        #}
      ENDSOURCE
      SOURCE #findByBic_RU
        #/// <summary>
        #/// Finds <c>BankGroup</c> record by the specified BIC.
        #/// </summary>
        #/// <param name="_bic">
        #/// Bank identification number.
        #/// </param>
        #/// <param name="_forupdate">
        #/// A <c>Boolean</c> determining whether to select the record for update.
        #/// </param>
        #/// <returns>
        #/// <c>BankGroup</c> record found by the given BIC.
        #/// </returns>
        #// <GEERU>
        #public static BankGroup findByBic_RU(
        #    BankBIC_RU _bic,
        #    boolean    _forupdate = false)
        #{
        #    BankGroup bankGroup;
        #
        #    bankGroup.selectForUpdate(_forupdate);
        #
        #    select firstonly bankGroup
        #        where bankGroup.BankBIC_RU == _bic;
        #
        #    return bankGroup;
        #}
        #// <GEERU>
      ENDSOURCE
      SOURCE #findByCompany_W
        #public static BankGroup findByCompany_W(
        #    CompanyId        _companyId,
        #    BankGroupId      _bankGroupId,
        #    boolean          _forupdate        = false,
        #    ConcurrencyModel _concurrencyModel = ConcurrencyModel::Auto)
        #{
        #    BankGroup bankGroup;
        #
        #    changecompany(_companyId)
        #    {
        #        bankGroup = BankGroup::find(_bankGroupId, _forupdate, _concurrencyModel);
        #    }
        #
        #    return bankGroup;
        #}
      ENDSOURCE
      SOURCE #lookupBankGroup
        #/// <summary>
        #/// Provides a lookup for the <c>BankGroup</c> table.
        #/// </summary>
        #/// <param name="_ctrl">
        #/// The form string control object with which to perform the lookup.
        #/// </param>
        #public client static void lookupBankGroup(FormStringControl _ctrl)
        #{
        #    SysTableLookup          sysTableLookup = SysTableLookup::newParameters(tablenum(BankGroup),_ctrl);
        #    Query                   query = new Query();
        #    QueryBuildDataSource    queryBuildDataSource = query.addDataSource(tablenum(BankGroup));
        #
        #    sysTableLookup.addLookupfield(fieldnum(BankGroup,BankGroupId));
        #    sysTableLookup.addLookupfield(fieldnum(BankGroup,Name));
        #
        #    sysTableLookup.parmQuery(query);
        #    sysTableLookup.performFormLookup();
        #}
        #
        #
      ENDSOURCE
      SOURCE #lookupBankType_RU
        #/// <summary>
        #/// Performs Bank group lookup fileted by bank type.
        #/// </summary>
        #/// <param name="_bankType">
        #/// Bank type to filter by.
        #/// </param>
        #/// <param name="_lookupControl">
        #/// The control which called the lookup.
        #/// </param>
        #// <GEERU>
        #public static void lookupBankType_RU(BankType_RU _bankType, FormControl _lookupControl)
        #{
        #    SysTableLookup       sysTableLookup = SysTableLookup::newParameters(tablenum(BankGroup), _lookupControl, true);
        #    Query                query          = new Query();
        #    QueryBuildDataSource qbds           = query.addDataSource(tablenum(BankGroup));
        #    ;
        #
        #    sysTableLookup.addLookupfield(fieldnum(BankGroup, BankGroupId), true);
        #    sysTableLookup.addLookupfield(fieldnum(BankGroup, Name));
        #    sysTableLookup.addLookupfield(fieldnum(BankGroup, BankType_RU));
        #
        #    findOrCreateRange_W(qbds, fieldnum(BankGroup, BankType_RU), queryValue(_bankType));
        #
        #    sysTableLookup.parmQuery(query);
        #    sysTableLookup.performFormLookup();
        #}
        #//</GEERU>
      ENDSOURCE
      SOURCE #txtNotExist
        #public static TxtNotExist txtNotExist()
        #{
        #    return "@SYS28261";
        #}
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : STF_SATChartOfAccountsLine unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #STF_SATChartOfAccountsLine
    EnforceFKRelation 0
    PROPERTIES
      Name                #STF_SATChartOfAccountsLine
      Label               #@FSA27
      TitleField1         #ChartId
      TitleField2         #AccountNum
      DeveloperDocumentation  #@FSA28
      Origin              #{C48F66A6-35AB-487D-B0A5-BD4BE0CE53AC}
    ENDPROPERTIES
    
    FIELDS
      FIELD #AccountName
        STRING
        PROPERTIES
          Name                #AccountName
          Table               #STF_SATChartOfAccountsLine
          Origin              #{C57DAA7C-7AED-4FB1-9D03-B52FF7E9417C}
          ExtendedDataType    #AccountName
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #AccountNum
        STRING
        PROPERTIES
          Name                #AccountNum
          Mandatory           #Yes
          AllowEdit           #No
          Table               #STF_SATChartOfAccountsLine
          Origin              #{3EBFBE45-39AA-42D7-B74F-62E0258BF7D0}
          ExtendedDataType    #LedgerAccount
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #AccountPlType
        ENUM
        PROPERTIES
          Name                #AccountPlType
          Table               #STF_SATChartOfAccountsLine
          Origin              #{A2718CCB-2003-46B3-B9A4-B0993A540FA3}
          EnumType            #DimensionLedgerAccountType
        ENDPROPERTIES
        
      FIELD #ChartId
        STRING
        PROPERTIES
          Name                #ChartId
          Mandatory           #Yes
          Table               #STF_SATChartOfAccountsLine
          Origin              #{2FF8E0FD-C584-400F-8E13-7B99D3302ECB}
          ExtendedDataType    #STF_SATChartId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #DebCredProposal
        ENUM
        PROPERTIES
          Name                #DebCredProposal
          Label               #@SYS6991
          HelpText            #@SYS3159
          Table               #STF_SATChartOfAccountsLine
          Origin              #{C2F43F41-24EA-4277-A7D3-80F8BBB9CC61}
          EnumType            #DebCredProposal
        ENDPROPERTIES
        
      FIELD #SATAccountNum
        REAL
        PROPERTIES
          Name                #SATAccountNum
          Table               #STF_SATChartOfAccountsLine
          Origin              #{B8CF9479-2781-4ADE-BD7E-F86C9298F458}
          ExtendedDataType    #STF_SATSubLedgerAccountNum
        ENDPROPERTIES
        
      FIELD #SATAccountNumLabel
        STRING
        PROPERTIES
          Name                #SATAccountNumLabel
          Mandatory           #Yes
          Table               #STF_SATChartOfAccountsLine
          Origin              #{F56BCD27-363B-402C-ACA8-1EC59018B85A}
          ExtendedDataType    #STF_SATAccountNumDescription
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoReport
        PROPERTIES
          Name                #AutoReport
        ENDPROPERTIES
        
        GROUPFIELDS
          #DebCredProposal
          #AccountName
          #SATAccountNum
          #AccountPlType
          #AccountNum
          #ChartId
          #SATAccountNumLabel
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #General
        PROPERTIES
          Name                #General
          Label               #@SYS55776
        ENDPROPERTIES
        
        GROUPFIELDS
          #AccountNum
          #AccountName
          #AccountPlType
          #SATAccountNum
          #DebCredProposal
          #SATAccountNumLabel
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Identifier
        PROPERTIES
          Name                #Identifier
          Label               #@SYS76640
        ENDPROPERTIES
        
        GROUPFIELDS
          #ChartId
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #CharIdAccountNumIdx
      PROPERTIES
        Name                #CharIdAccountNumIdx
        AllowDuplicates     #No
        Origin              #{3AC14596-910E-4359-8F2F-F0D556480ACC}
      ENDPROPERTIES
      
      INDEXFIELDS
        #ChartId
        #AccountNum
      ENDINDEXFIELDS
      
    ENDINDICES
    FULLTEXTINDICES
    ENDFULLTEXTINDICES
    REFERENCES
      REFERENCE #STF_SATChartOfAccountsTable
        PROPERTIES
          Name                #STF_SATChartOfAccountsTable
          Table               #STF_SATChartOfAccountsTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #ChartId
            RelatedField        #ChartId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
    METHODS
      SOURCE #exist
        #static boolean exist(STF_SATChartId  _chartId)
        #{
        #    return _chartId && (select RecId from STF_SATChartOfAccountsLine
        #                index hint CharIdAccountNumIdx
        #                where STF_SATChartOfAccountsLine.ChartId == _chartId
        #           ).RecId != 0;
        #}
      ENDSOURCE
      SOURCE #existAccountNum
        #static boolean existAccountNum(STF_SATChartId  _chartId, LedgerAccount _accountNum)
        #{
        #    return _chartId && _accountNum && (select RecId from STF_SATChartOfAccountsLine
        #                index hint CharIdAccountNumIdx
        #                where STF_SATChartOfAccountsLine.ChartId == _chartId &&
        #                      STF_SATChartOfAccountsLine.AccountNum == _accountNum
        #           ).RecId != 0;
        #}
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : STF_SATSubLedgerTable unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #STF_SATSubLedgerTable
    EnforceFKRelation 0
    PROPERTIES
      Name                #STF_SATSubLedgerTable
      Label               #@INZ181
      TitleField1         #ParentAccountNum
      TitleField2         #AccountNum
      SaveDataPerCompany  #No
      DeveloperDocumentation  #@INZ190
      Origin              #{45D4E59B-2F6C-4620-9054-5403DDF164AC}
    ENDPROPERTIES
    
    FIELDS
      FIELD #AccountNum
        REAL
        PROPERTIES
          Name                #AccountNum
          Mandatory           #Yes
          AllowEdit           #No
          Table               #STF_SATSubLedgerTable
          Origin              #{73FE6220-CD71-4057-9044-2AD6D8D444AF}
          ExtendedDataType    #STF_SATAccountNum
        ENDPROPERTIES
        
      FIELD #AccountNumLabel
        STRING
        PROPERTIES
          Name                #AccountNumLabel
          Mandatory           #Yes
          Table               #STF_SATSubLedgerTable
          Origin              #{74B5D523-78E8-4976-9294-1A227478E436}
          ExtendedDataType    #STF_SATAccountNumDescription
        ENDPROPERTIES
        
      FIELD #Description
        STRING
        PROPERTIES
          Name                #Description
          Label               #@SYS25589
          HelpText            #@FSA5
          Table               #STF_SATSubLedgerTable
          Origin              #{EF8F93B1-4B26-4A6A-8EFC-074ADED148BD}
          ExtendedDataType    #Str60
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #ParentAccountNum
        REAL
        PROPERTIES
          Name                #ParentAccountNum
          Mandatory           #Yes
          Table               #STF_SATSubLedgerTable
          Origin              #{D4C75FC4-223F-44A6-925B-32C8B3E1188C}
          ExtendedDataType    #STF_SATAccountNum
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoReport
        PROPERTIES
          Name                #AutoReport
        ENDPROPERTIES
        
        GROUPFIELDS
          #Description
          #AccountNumLabel
          #AccountNum
          #ParentAccountNum
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #AutoLookup
        PROPERTIES
          Name                #AutoLookup
        ENDPROPERTIES
        
        GROUPFIELDS
          #Description
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #General
        PROPERTIES
          Name                #General
          Label               #@SYS55776
        ENDPROPERTIES
        
        GROUPFIELDS
          #AccountNum
          #AccountNumLabel
          #Description
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Parent
        PROPERTIES
          Name                #Parent
          Label               #@FSA8
        ENDPROPERTIES
        
        GROUPFIELDS
          #ParentAccountNum
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #ParentAccountNumIdx
      PROPERTIES
        Name                #ParentAccountNumIdx
        AllowDuplicates     #No
        Origin              #{9776102F-BD99-49E4-8510-5EC84F82294C}
      ENDPROPERTIES
      
      INDEXFIELDS
        #ParentAccountNum
        #AccountNum
      ENDINDEXFIELDS
      
    ENDINDICES
    FULLTEXTINDICES
    ENDFULLTEXTINDICES
    REFERENCES
      REFERENCE #STF_SATLedgerTable
        PROPERTIES
          Name                #STF_SATLedgerTable
          Table               #STF_SATLedgerTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #ParentAccountNum
            RelatedField        #AccountNum
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #STF_SATLedgerTableExtended
        PROPERTIES
          Name                #STF_SATLedgerTableExtended
          Table               #STF_SATLedgerTableExtended
          Validate            #No
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #AccountNum
            RelatedField        #AccountNum
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
    METHODS
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : STF_SATLedgerTable unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #STF_SATLedgerTable
    EnforceFKRelation 0
    PROPERTIES
      Name                #STF_SATLedgerTable
      Label               #@INZ181
      TitleField1         #AccountNum
      TitleField2         #AccountNumLabel
      SaveDataPerCompany  #No
      DeveloperDocumentation  #@INZ190
      Origin              #{5962A180-E5AB-42EE-A0C8-BB843B9ACEEE}
    ENDPROPERTIES
    
    FIELDS
      FIELD #AccountNum
        REAL
        PROPERTIES
          Name                #AccountNum
          Mandatory           #Yes
          AllowEdit           #No
          Table               #STF_SATLedgerTable
          Origin              #{73DE2B5E-8BD3-442C-8D8B-6C8A6E5158B7}
          ExtendedDataType    #STF_SATAccountNum
        ENDPROPERTIES
        
      FIELD #AccountNumLabel
        STRING
        PROPERTIES
          Name                #AccountNumLabel
          Mandatory           #Yes
          Table               #STF_SATLedgerTable
          Origin              #{22535908-E0E3-4755-AB94-AE2F292C8499}
          ExtendedDataType    #STF_SATAccountNumDescription
        ENDPROPERTIES
        
      FIELD #Description
        STRING
        PROPERTIES
          Name                #Description
          Label               #@SYS25589
          HelpText            #@FSA5
          Table               #STF_SATLedgerTable
          Origin              #{D4B0126B-73F4-4185-846E-49D84EB03ED7}
          ExtendedDataType    #Str60
          StringSize          #60
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoReport
        PROPERTIES
          Name                #AutoReport
        ENDPROPERTIES
        
        GROUPFIELDS
          #Description
          #AccountNumLabel
          #AccountNum
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #General
        PROPERTIES
          Name                #General
          Label               #@SYS55776
        ENDPROPERTIES
        
        GROUPFIELDS
          #AccountNum
          #AccountNumLabel
          #Description
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #AccountNumIdx
      PROPERTIES
        Name                #AccountNumIdx
        AllowDuplicates     #No
        Origin              #{5FCAB9CB-3300-475A-893E-5F2219F6D081}
      ENDPROPERTIES
      
      INDEXFIELDS
        #AccountNum
      ENDINDEXFIELDS
      
    ENDINDICES
    FULLTEXTINDICES
    ENDFULLTEXTINDICES
    REFERENCES
      REFERENCE #STF_SATLedgerTableExtended
        PROPERTIES
          Name                #STF_SATLedgerTableExtended
          Table               #STF_SATLedgerTableExtended
          Validate            #No
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #AccountNum
            RelatedField        #ParentAccountNum
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
    ENDREFERENCES
    
    DELETEACTIONS
      #STF_SATSubLedgerTable
      PROPERTIES
        Table               #STF_SATSubLedgerTable
        DeleteAction        #Cascade + Restricted
      ENDPROPERTIES
      
    ENDDELETEACTIONS
    
    METHODS
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : STF_SATSubVouchersLine unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #STF_SATSubVouchersLine
    EnforceFKRelation 0
    PROPERTIES
      Name                #STF_SATSubVouchersLine
      Label               #@FSA168
      TitleField1         #SubNodeType
      TitleField2         #TransDate
      DeveloperDocumentation  #@FSA136
      Origin              #{2B30189C-9F29-4A2C-9875-C2AD2ED63723}
    ENDPROPERTIES
    
    FIELDS
      FIELD #Amount
        REAL
        PROPERTIES
          Name                #Amount
          Table               #STF_SATSubVouchersLine
          Origin              #{47DE4E19-BF68-48D6-80E0-E307049238B7}
          ExtendedDataType    #AmountMSTDebCred
        ENDPROPERTIES
        
      FIELD #BankAccountNumFrom
        STRING
        PROPERTIES
          Name                #BankAccountNumFrom
          HelpText            #@SYS27791
          Table               #STF_SATSubVouchersLine
          Origin              #{8B8021C2-2A08-4BD4-82D4-77B0143CE4B1}
          ExtendedDataType    #BankAccount
          StringSize          #35
        ENDPROPERTIES
        
      FIELD #BankAccountNumTo
        STRING
        PROPERTIES
          Name                #BankAccountNumTo
          HelpText            #@SYS27791
          Table               #STF_SATSubVouchersLine
          Origin              #{2A439FE0-0E06-4986-9C42-4FD0C0860C8B}
          ExtendedDataType    #BankAccount
          StringSize          #35
        ENDPROPERTIES
        
      FIELD #BankFrom
        STRING
        PROPERTIES
          Name                #BankFrom
          Table               #STF_SATSubVouchersLine
          Origin              #{5E487223-693B-4B55-9065-4AB232B1A834}
          ExtendedDataType    #BankGroupId
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #BankTo
        STRING
        PROPERTIES
          Name                #BankTo
          Table               #STF_SATSubVouchersLine
          Origin              #{98CD4ED7-83D8-4CED-BB6B-44F01FA07466}
          ExtendedDataType    #BankGroupId
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #Beneficiary
        STRING
        PROPERTIES
          Name                #Beneficiary
          Table               #STF_SATSubVouchersLine
          Origin              #{A6D48B8A-7E03-4815-BDF4-4F02B9778B0C}
          ExtendedDataType    #Name
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #CheckNum
        STRING
        PROPERTIES
          Name                #CheckNum
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #STF_SATSubVouchersLine
          Origin              #{D991CFE4-024B-4258-8FD1-85E012ECCA81}
          ExtendedDataType    #BankChequeNum
          StringSize          #20
          Adjustment          #Right
        ENDPROPERTIES
        
      FIELD #CustVendnvoiceJourRefRecId
        INT64
        PROPERTIES
          Name                #CustVendnvoiceJourRefRecId
          Table               #STF_SATSubVouchersLine
          Origin              #{1F97C4F3-ACD0-441F-810F-2E308A729AC3}
          ExtendedDataType    #RefRecId
        ENDPROPERTIES
        
      FIELD #CustVendOrigin
        ENUM
        PROPERTIES
          Name                #CustVendOrigin
          Table               #STF_SATSubVouchersLine
          Origin              #{D022999F-81BB-4DEF-B0FD-042DC410E6AE}
          EnumType            #STF_CustVendOrigin
        ENDPROPERTIES
        
      FIELD #ReportId
        STRING
        PROPERTIES
          Name                #ReportId
          Mandatory           #Yes
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #STF_SATSubVouchersLine
          Origin              #{706DA60A-D7D0-4211-9583-0B3540EE5386}
          ExtendedDataType    #STF_SATVouchersReportId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #SubNodeType
        ENUM
        PROPERTIES
          Name                #SubNodeType
          Table               #STF_SATSubVouchersLine
          Origin              #{6200F670-364B-41BF-9407-FA9D9CCBBCCB}
          EnumType            #STF_SubNodeType
        ENDPROPERTIES
        
      FIELD #TransDate
        DATE
        PROPERTIES
          Name                #TransDate
          HelpText            #@SYS16696
          AllowEdit           #No
          Table               #STF_SATSubVouchersLine
          Origin              #{AF0DA0FE-8588-471A-B3A1-5CDEFC11EC81}
          ExtendedDataType    #TransDate
        ENDPROPERTIES
        
      FIELD #UUID
        STRING
        PROPERTIES
          Name                #UUID
          Table               #STF_SATSubVouchersLine
          Origin              #{C6DB9C54-5D42-4444-8C84-861E5DA90596}
          ExtendedDataType    #STF_UUID
          StringSize          #36
        ENDPROPERTIES
        
      FIELD #VATNum
        STRING
        PROPERTIES
          Name                #VATNum
          Table               #STF_SATSubVouchersLine
          Origin              #{B11538FD-FB94-4F8F-9925-4FC0575CC86F}
          ExtendedDataType    #VATNum
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #Voucher
        STRING
        PROPERTIES
          Name                #Voucher
          HelpText            #@SYS2090
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #STF_SATSubVouchersLine
          Origin              #{7B259ABA-2618-4146-8173-3A80BBE0E3E8}
          ExtendedDataType    #Voucher
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #VoucherLineRefRecId
        INT64
        PROPERTIES
          Name                #VoucherLineRefRecId
          Table               #STF_SATSubVouchersLine
          Origin              #{5FE07B18-E3EF-42E9-AADD-83551D0B0A44}
          ExtendedDataType    #RefRecId
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoReport
        PROPERTIES
          Name                #AutoReport
        ENDPROPERTIES
        
        GROUPFIELDS
          #Beneficiary
          #TransDate
          #CheckNum
          #BankFrom
          #BankTo
          #BankAccountNumFrom
          #BankAccountNumTo
          #UUID
          #Amount
          #VATNum
          #SubNodeType
          #VoucherLineRefRecId
          #ReportId
          #Voucher
          #CustVendOrigin
          #CustVendnvoiceJourRefRecId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #General
        PROPERTIES
          Name                #General
          Label               #@SYS55776
        ENDPROPERTIES
        
        GROUPFIELDS
          #Beneficiary
          #TransDate
          #CheckNum
          #BankFrom
          #BankTo
          #BankAccountNumFrom
          #BankAccountNumTo
          #UUID
          #Amount
          #VATNum
          #SubNodeType
          #VoucherLineRefRecId
          #ReportId
          #Voucher
          #CustVendOrigin
          #CustVendnvoiceJourRefRecId
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #ReportIdIdx
      PROPERTIES
        Name                #ReportIdIdx
        Origin              #{F2D80EE9-0F41-4B3C-978F-23D12AC75A9B}
      ENDPROPERTIES
      
      INDEXFIELDS
        #ReportId
      ENDINDEXFIELDS
      
      #VoucherLineRefRecIdIdx
      PROPERTIES
        Name                #VoucherLineRefRecIdIdx
        Origin              #{26C9CF28-3FE6-40B7-BA6B-0EE33C842E07}
      ENDPROPERTIES
      
      INDEXFIELDS
        #VoucherLineRefRecId
      ENDINDEXFIELDS
      
    ENDINDICES
    FULLTEXTINDICES
    ENDFULLTEXTINDICES
    REFERENCES
      REFERENCE #STF_SATVouchersLine
        PROPERTIES
          Name                #STF_SATVouchersLine
          Table               #STF_SATVouchersLine
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #VoucherLineRefRecId
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #STF_SATVouchersTable
        PROPERTIES
          Name                #STF_SATVouchersTable
          Table               #STF_SATVouchersTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #ReportId
            RelatedField        #ReportId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
    METHODS
      SOURCE #exist
        #static boolean exist(STF_SATVouchersReportId  _reportId)
        #{
        #    return _reportId && (select RecId from STF_SATVouchersLine
        #                index hint STF_ReportIdIdx
        #                where STF_SATVouchersLine.ReportId == _reportId
        #           ).RecId != 0;
        #}
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : STF_SATVouchersLine unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #STF_SATVouchersLine
    EnforceFKRelation 0
    PROPERTIES
      Name                #STF_SATVouchersLine
      Label               #@INZ103
      TitleField1         #ReportId
      TitleField2         #AccountNum
      DeveloperDocumentation  #@INZ104
      Origin              #{4E707719-2B9E-42FD-B39A-A84DFBC5356F}
    ENDPROPERTIES
    
    FIELDS
      FIELD #AccountName
        STRING
        PROPERTIES
          Name                #AccountName
          Table               #STF_SATVouchersLine
          Origin              #{7A548DC0-8DFD-441F-9DCD-F9B51C3D9EB1}
          ExtendedDataType    #AccountName
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #AccountNum
        STRING
        PROPERTIES
          Name                #AccountNum
          Mandatory           #Yes
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #STF_SATVouchersLine
          Origin              #{C48391B8-1E16-4E60-8129-127FB2A433F6}
          ExtendedDataType    #LedgerAccount
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #AmountCredit
        REAL
        PROPERTIES
          Name                #AmountCredit
          Label               #@FSA63
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #STF_SATVouchersLine
          Origin              #{0127EA67-9D66-4C65-9D20-83AFEF1D1CA7}
          ExtendedDataType    #AmountMSTLong
        ENDPROPERTIES
        
      FIELD #AmountDebit
        REAL
        PROPERTIES
          Name                #AmountDebit
          Label               #@FSA62
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #STF_SATVouchersLine
          Origin              #{3A69BA1A-7B73-4914-A52C-7EDBF2341257}
          ExtendedDataType    #AmountMSTLong
        ENDPROPERTIES
        
      FIELD #Concept
        STRING
        PROPERTIES
          Name                #Concept
          Label               #@SYS5206
          HelpText            #@SYS5206
          Table               #STF_SATVouchersLine
          Origin              #{A7375956-7BFA-4A72-BA87-5EF9D71715B5}
          ExtendedDataType    #TransTxt
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #CurrencyCode
        STRING
        PROPERTIES
          Name                #CurrencyCode
          Mandatory           #Yes
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #STF_SATVouchersLine
          Origin              #{A107F778-79D7-405C-977D-CE03BBB4EAE4}
          ExtendedDataType    #CurrencyCode
          StringSize          #3
        ENDPROPERTIES
        
      FIELD #ExchRate
        REAL
        PROPERTIES
          Name                #ExchRate
          Table               #STF_SATVouchersLine
          Origin              #{F50E79A3-E1A5-41BF-86F1-2F7EF0C18BF6}
          ExtendedDataType    #ExchRate
        ENDPROPERTIES
        
      FIELD #FromDate
        DATE
        PROPERTIES
          Name                #FromDate
          Mandatory           #Yes
          Table               #STF_SATVouchersLine
          Origin              #{6C5602BA-BC19-4A53-A5BC-D79828728AE1}
          ExtendedDataType    #FromDate
        ENDPROPERTIES
        
      FIELD #HasSubNodes
        ENUM
        PROPERTIES
          Name                #HasSubNodes
          Label               #@FSA151
          HelpText            #@FSA152
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #STF_SATVouchersLine
          Origin              #{706C1C03-5B7E-40D3-8291-33DF561989B6}
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ReportId
        STRING
        PROPERTIES
          Name                #ReportId
          Mandatory           #Yes
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #STF_SATVouchersLine
          Origin              #{212F4399-55A5-4718-AEAA-251EAB3548E8}
          ExtendedDataType    #STF_SATVouchersReportId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ToDate
        DATE
        PROPERTIES
          Name                #ToDate
          Mandatory           #Yes
          Table               #STF_SATVouchersLine
          Origin              #{939F460B-52C1-4689-8641-3C0A90DEB403}
          ExtendedDataType    #ToDate
        ENDPROPERTIES
        
      FIELD #TransConcept
        STRING
        PROPERTIES
          Name                #TransConcept
          Label               #@FSA138
          Table               #STF_SATVouchersLine
          Origin              #{8D658802-22D4-43C2-B06A-07A0B8BE3A9C}
          ExtendedDataType    #TransTxt
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #TransDate
        DATE
        PROPERTIES
          Name                #TransDate
          Mandatory           #Yes
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #STF_SATVouchersLine
          Origin              #{0C9133C8-4453-492D-BF1F-D0EDC47FA13C}
          ExtendedDataType    #TransDate
        ENDPROPERTIES
        
      FIELD #Type
        ENUM
        PROPERTIES
          Name                #Type
          Table               #STF_SATVouchersLine
          Origin              #{78720FE0-B471-47F0-BFE8-FCB56035C80C}
          EnumType            #STF_SATVoucherType
        ENDPROPERTIES
        
      FIELD #Voucher
        STRING
        PROPERTIES
          Name                #Voucher
          HelpText            #@SYS2090
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #STF_SATVouchersLine
          Origin              #{C9D886E5-1B09-408C-9A4D-33EDD6D257DE}
          ExtendedDataType    #Voucher
          StringSize          #20
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoReport
        PROPERTIES
          Name                #AutoReport
        ENDPROPERTIES
        
        GROUPFIELDS
          #ExchRate
          #AmountCredit
          #AmountDebit
          #CurrencyCode
          #TransConcept
          #Concept
          #Voucher
          #Type
          #AccountNum
          #ReportId
          #TransDate
          #ToDate
          #FromDate
          #AccountName
          #HasSubNodes
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #General
        PROPERTIES
          Name                #General
          Label               #@SYS55776
        ENDPROPERTIES
        
        GROUPFIELDS
          #ExchRate
          #AmountCredit
          #AmountDebit
          #CurrencyCode
          #TransConcept
          #Concept
          #Voucher
          #Type
          #AccountNum
          #ReportId
          #TransDate
          #ToDate
          #FromDate
          #AccountName
          #HasSubNodes
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #STF_ReportIdIdx
      PROPERTIES
        Name                #STF_ReportIdIdx
        Origin              #{978252F6-C313-4DF6-B806-C2D8085C6D95}
      ENDPROPERTIES
      
      INDEXFIELDS
        #ReportId
      ENDINDEXFIELDS
      
    ENDINDICES
    FULLTEXTINDICES
    ENDFULLTEXTINDICES
    REFERENCES
      REFERENCE #STF_SATVouchersTable
        PROPERTIES
          Name                #STF_SATVouchersTable
          Table               #STF_SATVouchersTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #ReportId
            RelatedField        #ReportId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
    ENDREFERENCES
    
    DELETEACTIONS
      #STF_SATSubVouchersLine
      PROPERTIES
        Table               #STF_SATSubVouchersLine
        DeleteAction        #Cascade
      ENDPROPERTIES
      
    ENDDELETEACTIONS
    
    METHODS
      SOURCE #intFromLedgerTrans
        #void intFromLedgerTrans(generalJournalAccountEntry  _generalJournalAccountEntry
        #                        ,generalJournalEntry    _generalJournalEntry
        #                        ,subledgerVoucherGeneralJournalEntry    _subledgerVoucherGeneralJournalEntry)
        #{
        #    #define.NoConcept("@FSA164")
        #    ;
        #
        #    this.AccountNum     = CustTable::findByPartyRecId(_generalJournalAccountEntry.ledgerdimension).AccountNum;
        #    this.TransDate      = _generalJournalEntry.AccountingDate;
        #    this.Voucher        = _subledgerVoucherGeneralJournalEntry.Voucher;
        #    this.TransConcept   = _generalJournalAccountEntry.Text ? _generalJournalAccountEntry.Text : #NoConcept;
        #    this.CurrencyCode   = _generalJournalAccountEntry.TransactionCurrencyCode;
        #
        #    if ((_generalJournalAccountEntry.AccountingCurrencyAmount > 0 && !_generalJournalAccountEntry.IsCorrection)
        #    || (_generalJournalAccountEntry.AccountingCurrencyAmount < 0 &&  _generalJournalAccountEntry.IsCorrection))
        #        this.AmountDebit = _generalJournalAccountEntry.TransactionCurrencyAmount;
        #    else
        #        this.AmountCredit = _generalJournalAccountEntry.TransactionCurrencyAmount * -1;
        #
        #    this.ExchRate       = _generalJournalAccountEntry.displayAccountingExchangeRate();
        #
        #}
      ENDSOURCE
      SOURCE #exist
        #static boolean exist(STF_SATVouchersReportId  _reportId)
        #{
        #    return _reportId && (select RecId from STF_SATVouchersLine
        #                index hint STF_ReportIdIdx
        #                where STF_SATVouchersLine.ReportId == _reportId
        #           ).RecId != 0;
        #}
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : STF_SetupDocumentTypeEATable unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #STF_SetupDocumentTypeEATable
    EnforceFKRelation 0
    PROPERTIES
      Name                #STF_SetupDocumentTypeEATable
      Origin              #{F65E0456-4D21-4658-80D4-E3A0EE573D22}
      LegacyId            #50033
    ENDPROPERTIES
    
    FIELDS
      FIELD #Description
        STRING
        PROPERTIES
          Name                #Description
          Label               #Descripción
          Table               #STF_SetupDocumentTypeEATable
          Origin              #{DE7813EE-C11D-4180-AD9A-B93103703B81}
          LegacyId            #50002
          ExtendedDataType    #STF_Description
          StringSize          #250
        ENDPROPERTIES
        
      FIELD #Id
        STRING
        PROPERTIES
          Name                #Id
          Label               #Clave
          Table               #STF_SetupDocumentTypeEATable
          Origin              #{3F018730-B62C-471C-977B-5D05DDBBCC36}
          LegacyId            #50001
          ExtendedDataType    #STF_DocumentTypeId
          StringSize          #2
        ENDPROPERTIES
        
      FIELD #Type
        ENUM
        PROPERTIES
          Name                #Type
          Label               #Tipo de documentos
          Table               #STF_SetupDocumentTypeEATable
          Origin              #{A7861877-42E7-4C26-852A-5A0401463119}
          LegacyId            #50003
          EnumType            #STF_DocumentTypeEnum
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoLookup
        PROPERTIES
          Name                #AutoLookup
        ENDPROPERTIES
        
        GROUPFIELDS
          #Id
          #Description
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #IdUnique
      PROPERTIES
        Name                #IdUnique
        AllowDuplicates     #No
        Origin              #{F03CE66E-9618-46D2-80F9-0C14FE0F97F0}
        LegacyId            #50001
      ENDPROPERTIES
      
      INDEXFIELDS
        #Id
      ENDINDEXFIELDS
      
    ENDINDICES
    FULLTEXTINDICES
    ENDFULLTEXTINDICES
    REFERENCES
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
    METHODS
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : STF_SATLedgerTrialBalanceLine unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #STF_SATLedgerTrialBalanceLine
    EnforceFKRelation 0
    PROPERTIES
      Name                #STF_SATLedgerTrialBalanceLine
      Label               #@INZ180
      TitleField1         #TrialBalanceId
      TitleField2         #AccountNum
      DeveloperDocumentation  #@INZ182
      Origin              #{867C12F2-00C7-43A7-82AE-EDCA0B770668}
    ENDPROPERTIES
    
    FIELDS
      FIELD #AccountName
        STRING
        PROPERTIES
          Name                #AccountName
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #STF_SATLedgerTrialBalanceLine
          Origin              #{47CC0D33-52BD-4F81-AC14-E36E2715C916}
          ExtendedDataType    #AccountName
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #AccountNum
        STRING
        PROPERTIES
          Name                #AccountNum
          Mandatory           #Yes
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #STF_SATLedgerTrialBalanceLine
          Origin              #{ED1A4810-8728-4461-BA44-8C5C21D51AF4}
          ExtendedDataType    #LedgerAccount
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #AmountCredit
        REAL
        PROPERTIES
          Name                #AmountCredit
          Label               #@FSA63
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #STF_SATLedgerTrialBalanceLine
          Origin              #{5B34C54F-8A34-42BB-AB37-812F14B04DD5}
          ExtendedDataType    #AmountMSTLong
        ENDPROPERTIES
        
      FIELD #AmountDebit
        REAL
        PROPERTIES
          Name                #AmountDebit
          Label               #@FSA62
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #STF_SATLedgerTrialBalanceLine
          Origin              #{189A4BEE-4637-45AA-9504-91A3A6066FDF}
          ExtendedDataType    #AmountMSTLong
        ENDPROPERTIES
        
      FIELD #EndingBalance
        REAL
        PROPERTIES
          Name                #EndingBalance
          Label               #@SYS50986
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #STF_SATLedgerTrialBalanceLine
          Origin              #{C9587516-F28C-4464-A7F2-8D15C254EE88}
          ExtendedDataType    #AmountMSTLong
        ENDPROPERTIES
        
      FIELD #FromDate
        DATE
        PROPERTIES
          Name                #FromDate
          Mandatory           #Yes
          Table               #STF_SATLedgerTrialBalanceLine
          Origin              #{1C8A8ED6-7057-4800-A154-A8568CF42490}
          ExtendedDataType    #FromDate
        ENDPROPERTIES
        
      FIELD #GrouperCode
        REAL
        PROPERTIES
          Name                #GrouperCode
          Table               #STF_SATLedgerTrialBalanceLine
          Origin              #{82BE4BD0-8DBE-4723-88EC-A56EA72F5655}
          ExtendedDataType    #STF_SATSubLedgerAccountNum
        ENDPROPERTIES
        
      FIELD #OpeningBalance
        REAL
        PROPERTIES
          Name                #OpeningBalance
          Label               #@FSA61
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #STF_SATLedgerTrialBalanceLine
          Origin              #{F2D4655C-C603-4C21-A1E4-26965D6E7C7C}
          ExtendedDataType    #AmountMSTLong
        ENDPROPERTIES
        
      FIELD #ToDate
        DATE
        PROPERTIES
          Name                #ToDate
          Mandatory           #Yes
          Table               #STF_SATLedgerTrialBalanceLine
          Origin              #{118AE69C-0374-4536-8FA7-451972713539}
          ExtendedDataType    #ToDate
        ENDPROPERTIES
        
      FIELD #TrialBalanceId
        STRING
        PROPERTIES
          Name                #TrialBalanceId
          Mandatory           #Yes
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #STF_SATLedgerTrialBalanceLine
          Origin              #{B2A092A7-421D-495A-8B14-E481607487F7}
          ExtendedDataType    #STF_SATTrialBalanceId
          StringSize          #20
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoReport
        PROPERTIES
          Name                #AutoReport
        ENDPROPERTIES
        
        GROUPFIELDS
          #OpeningBalance
          #EndingBalance
          #AmountCredit
          #AmountDebit
          #TrialBalanceId
          #AccountNum
          #AccountName
          #ToDate
          #FromDate
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #General
        PROPERTIES
          Name                #General
          Label               #@SYS55776
        ENDPROPERTIES
        
        GROUPFIELDS
          #OpeningBalance
          #AmountCredit
          #EndingBalance
          #AmountDebit
          #TrialBalanceId
          #AccountNum
          #AccountName
          #ToDate
          #FromDate
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #TrialBalanceIdAccountNumIdx
      PROPERTIES
        Name                #TrialBalanceIdAccountNumIdx
        AllowDuplicates     #No
        Origin              #{47142F1F-051C-469D-8D48-14F4FB1B24F4}
      ENDPROPERTIES
      
      INDEXFIELDS
        #AccountNum
        #TrialBalanceId
      ENDINDEXFIELDS
      
    ENDINDICES
    FULLTEXTINDICES
    ENDFULLTEXTINDICES
    REFERENCES
      REFERENCE #STF_SATLedgerTrialBalanceTable
        PROPERTIES
          Name                #STF_SATLedgerTrialBalanceTable
          Table               #STF_SATLedgerTrialBalanceTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #TrialBalanceId
            RelatedField        #TrialBalanceId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
    METHODS
      SOURCE #exist
        #static boolean exist(STF_SATTrialBalanceId  _trialBalanceId)
        #{
        #    return _trialBalanceId && (select RecId from STF_SATLedgerTrialBalanceLine
        #                index hint TrialBalanceIdAccountNumIdx
        #                where STF_SATLedgerTrialBalanceLine.TrialBalanceId == _trialBalanceId
        #           ).RecId != 0;
        #}
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : STF_SATChartOfAccountsTable unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #STF_SATChartOfAccountsTable
    EnforceFKRelation 0
    PROPERTIES
      Name                #STF_SATChartOfAccountsTable
      Label               #@INZ156
      TitleField1         #ChartId
      TitleField2         #Description
      CreatedDateTime     #Yes
      CreatedBy           #Yes
      DeveloperDocumentation  #@INZ157
      Origin              #{5E59886E-EEBC-4429-B1CC-45743AFE5B57}
    ENDPROPERTIES
    
    FIELDS
      FIELD #Active
        ENUM
        PROPERTIES
          Name                #Active
          Label               #@SYS39462
          HelpText            #@FSA24
          Table               #STF_SATChartOfAccountsTable
          Origin              #{17839F16-6AC9-408E-B4CC-770EA34BE638}
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ChartId
        STRING
        PROPERTIES
          Name                #ChartId
          Mandatory           #Yes
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #STF_SATChartOfAccountsTable
          Origin              #{5AF45FA1-5C4E-4EE2-BB31-D4FB329E7334}
          ExtendedDataType    #STF_SATChartId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #Description
        STRING
        PROPERTIES
          Name                #Description
          Table               #STF_SATChartOfAccountsTable
          Origin              #{85E79C10-68CF-41E0-A46D-9591DF89411A}
          ExtendedDataType    #Description
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #DocumentType
        STRING
        PROPERTIES
          Name                #DocumentType
          Label               #Clave
          HelpText            #@SEA5
          Mandatory           #Yes
          Table               #STF_SATChartOfAccountsTable
          Origin              #{A5754BF5-82C4-4575-A7FF-0C387C0C207C}
          ExtendedDataType    #STF_DocumentTypeId
          StringSize          #2
        ENDPROPERTIES
        
      FIELD #ElectronicAccountingVersion
        STRING
        PROPERTIES
          Name                #ElectronicAccountingVersion
          Mandatory           #Yes
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #STF_SATChartOfAccountsTable
          Origin              #{33432353-7E98-4090-993A-38AB8844FD81}
          ExtendedDataType    #STF_ElectronicAccountingVersion
          StringSize          #5
        ENDPROPERTIES
        
      FIELD #NumberOfLedgerAccountsRetrieved
        INT
        PROPERTIES
          Name                #NumberOfLedgerAccountsRetrieved
          Label               #@FSA39
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #STF_SATChartOfAccountsTable
          Origin              #{96DFC6F2-445E-45EA-BB41-69F2DA81FF9E}
          ExtendedDataType    #NumberOf
        ENDPROPERTIES
        
      FIELD #ValidityDate
        DATE
        PROPERTIES
          Name                #ValidityDate
          Label               #@FSA50
          Mandatory           #Yes
          AllowEdit           #No
          Table               #STF_SATChartOfAccountsTable
          Origin              #{A93245CF-51DE-4396-AF43-2DB3A092D0BA}
          ExtendedDataType    #DatePhysical
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoReport
        PROPERTIES
          Name                #AutoReport
        ENDPROPERTIES
        
        GROUPFIELDS
          #Active
          #ChartId
          #Description
          #NumberOfLedgerAccountsRetrieved
          #ValidityDate
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #General
        PROPERTIES
          Name                #General
          Label               #@SYS55776
        ENDPROPERTIES
        
        GROUPFIELDS
          #ChartId
          #Description
          #Active
          #NumberOfLedgerAccountsRetrieved
          #ValidityDate
          #ElectronicAccountingVersion
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #RecIdIdx
      PROPERTIES
        Name                #RecIdIdx
        AllowDuplicates     #No
        Origin              #{F8108EB0-3F14-441D-B4C7-3B77BD23C959}
      ENDPROPERTIES
      
      INDEXFIELDS
        #RecId
      ENDINDEXFIELDS
      
      #ChartIdIdx
      PROPERTIES
        Name                #ChartIdIdx
        AllowDuplicates     #No
        Origin              #{AE709D11-F7D4-4DF9-B648-D3336C600E9E}
      ENDPROPERTIES
      
      INDEXFIELDS
        #ChartId
      ENDINDEXFIELDS
      
    ENDINDICES
    FULLTEXTINDICES
    ENDFULLTEXTINDICES
    REFERENCES
      REFERENCE #DocumentTypeId
        PROPERTIES
          Name                #DocumentTypeId
          Table               #STF_SetupDocumentTypeEATable
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #DocumentType
            RelatedField        #Id
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
    ENDREFERENCES
    
    DELETEACTIONS
      #STF_SATChartOfAccountsLine
      PROPERTIES
        Table               #STF_SATChartOfAccountsLine
        DeleteAction        #Cascade
      ENDPROPERTIES
      
    ENDDELETEACTIONS
    
    METHODS
      SOURCE #initValue
        #public void initValue()
        #{
        #    super();
        #
        #    this.ElectronicAccountingVersion = LedgerParameters::find().STF_ElectronicAccountingVersion;
        #}
      ENDSOURCE
      SOURCE #validateDelete
        #public boolean validateDelete()
        #{
        #    boolean ret;
        #
        #    ret = super();
        #
        #    if (STF_SATChartOfAccountsTable::existsInTrialBalance(this.ChartId))
        #        ret = checkFailed("@FSA86");
        #
        #    if (STF_SATChartOfAccountsTable::existsInVocuherReport(this.ChartId))
        #        ret = checkFailed("@FSA157");
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #validateField
        #public boolean validateField(fieldId _fieldIdToCheck)
        #{
        #    boolean                     ret;
        #    STF_SATChartOfAccountsTable chartOfAccountsTableOrig;
        #    STF_SATChartOfAccountsTable chartOfAccountsTableLocal;
        #    ;
        #
        #    chartOfAccountsTableOrig = this.orig();
        #
        #    ret = super(_fieldIdToCheck);
        #
        #
        #    if (ret)
        #    {
        #        switch (_fieldIdToCheck)
        #        {
        #            case fieldnum(STF_SATChartOfAccountsTable, Active) :
        #                if (!chartOfAccountsTableOrig.Active && this.Active)
        #                {
        #                    select firstOnly chartOfAccountsTableLocal
        #                        where chartOfAccountsTableLocal.Active &&
        #                              chartOfAccountsTableLocal.RecId != this.RecId;
        #
        #                    if (chartOfAccountsTableLocal.RecId)
        #                        ret = checkFailed("@FSA42");
        #
        #                    if (ret)
        #                    {
        #                        if (!STF_SATChartOfAccountsLine::exist(this.ChartId))
        #                            ret = checkFailed("@FSA87");
        #                    }
        #                }
        #                break;
        #        }
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #existsInTrialBalance
        #static boolean existsInTrialBalance(STF_SATChartId _chartId)
        #{
        #    ;
        #
        #    return _chartId && (select firstOnly STF_SATLedgerTrialBalanceTable
        #            index hint ChartIdIdx
        #            where STF_SATLedgerTrialBalanceTable.ChartId == _chartId).RecId != 0;
        #}
      ENDSOURCE
      SOURCE #existsInVocuherReport
        #static boolean existsInVocuherReport(STF_SATChartId _chartId)
        #{
        #    ;
        #
        #    return _chartId && (select firstOnly STF_SATVouchersTable
        #            index hint ChartIdIdx
        #            where STF_SATVouchersTable.ChartId == _chartId).RecId != 0;
        #}
      ENDSOURCE
      SOURCE #find
        #static STF_SATChartOfAccountsTable find(STF_SATChartId _chartId, boolean _update = false)
        #{
        #    STF_SATChartOfAccountsTable  chartOfAccountsTable;
        #    ;
        #
        #    chartOfAccountsTable.selectForUpdate(_update);
        #
        #    if (_chartId)
        #    {
        #        select firstonly chartOfAccountsTable
        #            index hint ChartIdIdx
        #            where chartOfAccountsTable.ChartId == _chartId;
        #    }
        #
        #    return chartOfAccountsTable;
        #}
      ENDSOURCE
      SOURCE #findChartOfAccountActive
        #static STF_SATChartOfAccountsTable findChartOfAccountActive(boolean _update = false)
        #{
        #    STF_SATChartOfAccountsTable  chartOfAccountsTable;
        #    ;
        #
        #    chartOfAccountsTable.selectForUpdate(_update);
        #
        #
        #    select firstonly chartOfAccountsTable
        #        index hint ChartIdIdx
        #        where chartOfAccountsTable.Active == NoYes::Yes;
        #
        #    return chartOfAccountsTable;
        #}
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : STF_SATVouchersTable unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #STF_SATVouchersTable
    EnforceFKRelation 0
    PROPERTIES
      Name                #STF_SATVouchersTable
      Label               #@INZ97
      TitleField1         #ReportId
      TitleField2         #Description
      CreatedDateTime     #Yes
      CreatedBy           #Yes
      DeveloperDocumentation  #@INZ93
      Origin              #{8065BCB6-7610-4E6B-93E5-D0AFB36B26B1}
    ENDPROPERTIES
    
    FIELDS
      FIELD #ChartId
        STRING
        PROPERTIES
          Name                #ChartId
          Label               #@FSA85
          Mandatory           #Yes
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #STF_SATVouchersTable
          Origin              #{F3B05DE0-1831-4D93-A7F4-D4339DE02E98}
          ExtendedDataType    #STF_SATChartId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #Description
        STRING
        PROPERTIES
          Name                #Description
          Table               #STF_SATVouchersTable
          Origin              #{590CF641-0301-4C14-BEE4-F73BCB099CB7}
          ExtendedDataType    #Description
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #DocumentTypeId
        STRING
        PROPERTIES
          Name                #DocumentTypeId
          Label               #Clave
          Mandatory           #Yes
          Table               #STF_SATVouchersTable
          Origin              #{24C2470A-F1A6-421E-8168-7F359EBCFF52}
          ExtendedDataType    #STF_DocumentTypeId
          StringSize          #2
        ENDPROPERTIES
        
      FIELD #ElectronicAccountingVersion
        STRING
        PROPERTIES
          Name                #ElectronicAccountingVersion
          Mandatory           #Yes
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #STF_SATVouchersTable
          Origin              #{72A5C853-5DD1-448F-8BBC-926E239DD45A}
          ExtendedDataType    #STF_ElectronicAccountingVersion
          StringSize          #5
        ENDPROPERTIES
        
      FIELD #FromDate
        DATE
        PROPERTIES
          Name                #FromDate
          Mandatory           #Yes
          Table               #STF_SATVouchersTable
          Origin              #{D6699400-ADF6-4541-BDB2-C096B232C71E}
          ExtendedDataType    #FromDate
        ENDPROPERTIES
        
      FIELD #LedgerAccountsRange
        STRING
        PROPERTIES
          Name                #LedgerAccountsRange
          Label               #@FSA142
          Table               #STF_SATVouchersTable
          Origin              #{29612BB6-AA92-44EC-82A9-5A10DECDBC92}
          ExtendedDataType    #STF_Str200
          StringSize          #200
        ENDPROPERTIES
        
      FIELD #ReportId
        STRING
        PROPERTIES
          Name                #ReportId
          Mandatory           #Yes
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #STF_SATVouchersTable
          Origin              #{CC8C7597-9338-49A5-8B19-56BB343E00C5}
          ExtendedDataType    #STF_SATVouchersReportId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #StepNumber
        STRING
        PROPERTIES
          Name                #StepNumber
          Label               #Número de trámite
          Table               #STF_SATVouchersTable
          Origin              #{CB3C2BC3-5E47-403B-A5DC-2C0A7A7EF775}
          ExtendedDataType    #STF_StepNumber
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #StepType
        ENUM
        PROPERTIES
          Name                #StepType
          Label               #Tipo de trámite
          Table               #STF_SATVouchersTable
          Origin              #{E3EB8FC7-6B92-40EB-BC43-1FA4202C6C61}
          EnumType            #STF_StepTypeEnum
        ENDPROPERTIES
        
      FIELD #ToDate
        DATE
        PROPERTIES
          Name                #ToDate
          Mandatory           #Yes
          Table               #STF_SATVouchersTable
          Origin              #{AE620175-4C1C-4A46-8DF6-F8ADC04E0F8E}
          ExtendedDataType    #ToDate
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoReport
        PROPERTIES
          Name                #AutoReport
        ENDPROPERTIES
        
        GROUPFIELDS
          #ReportId
          #ToDate
          #FromDate
          #Description
          #ElectronicAccountingVersion
          #ChartId
          #LedgerAccountsRange
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #General
        PROPERTIES
          Name                #General
          Label               #@SYS55776
        ENDPROPERTIES
        
        GROUPFIELDS
          #ReportId
          #ToDate
          #FromDate
          #Description
          #ElectronicAccountingVersion
          #ChartId
          #LedgerAccountsRange
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #ReportIdIdx
      PROPERTIES
        Name                #ReportIdIdx
        AllowDuplicates     #No
        Origin              #{91FF6F80-EE44-49CA-8387-85C2B8DDAA89}
      ENDPROPERTIES
      
      INDEXFIELDS
        #ReportId
      ENDINDEXFIELDS
      
      #RecIdIdx
      PROPERTIES
        Name                #RecIdIdx
        AllowDuplicates     #No
        Origin              #{2CF54DD6-1A0F-421B-832B-46ED782BFE13}
      ENDPROPERTIES
      
      INDEXFIELDS
        #RecId
      ENDINDEXFIELDS
      
      #ChartIdIdx
      PROPERTIES
        Name                #ChartIdIdx
        Origin              #{2B14434B-8E5D-49C3-AF80-719495DDD5FB}
      ENDPROPERTIES
      
      INDEXFIELDS
        #ChartId
      ENDINDEXFIELDS
      
    ENDINDICES
    FULLTEXTINDICES
    ENDFULLTEXTINDICES
    REFERENCES
      REFERENCE #DocumentTypeId
        PROPERTIES
          Name                #DocumentTypeId
          Table               #STF_SetupDocumentTypeEATable
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE EXTERNFIXED
          PROPERTIES
            Value               #2
            Table               #STF_SetupDocumentTypeEATable
            RelatedField        #Type
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #DocumentTypeId
            RelatedField        #Id
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
    ENDREFERENCES
    
    DELETEACTIONS
      #STF_SATVouchersLine
      PROPERTIES
        Table               #STF_SATVouchersLine
        DeleteAction        #Cascade
      ENDPROPERTIES
      
    ENDDELETEACTIONS
    
    METHODS
      SOURCE #initValue
        #public void initValue()
        #{
        #    super();
        #
        #    this.ElectronicAccountingVersion    = LedgerParameters::find().STF_ElectronicAccountingVersion;
        #    this.ChartId                        = STF_SATChartOfAccountsTable::findChartOfAccountActive().ChartId;
        #}
      ENDSOURCE
      SOURCE #validateField
        #public boolean validateField(fieldId _fieldIdToCheck)
        #{
        #    boolean                     ret;
        #    ;
        #
        #    ret = super(_fieldIdToCheck);
        #
        #
        #    if (ret)
        #    {
        #        switch (_fieldIdToCheck)
        #        {
        #            case fieldnum(STF_SATVouchersTable, FromDate) :
        #                if (this.ReportId && STF_SATVouchersLine::exist(this.ReportId))
        #                    ret = checkFailed("@FSA158");
        #                break;
        #
        #            case fieldnum(STF_SATVouchersTable, ToDate) :
        #                if (this.ReportId && STF_SATVouchersLine::exist(this.ReportId))
        #                    ret = checkFailed("@FSA158");
        #                break;
        #
        #            case fieldnum(STF_SATVouchersTable, LedgerAccountsRange) :
        #                if (this.ReportId && STF_SATVouchersLine::exist(this.ReportId))
        #                    ret = checkFailed("@FSA159");
        #                break;
        #        }
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #find
        #static STF_SATVouchersTable find(STF_SATVouchersReportId _reportId, boolean _update = false)
        #{
        #    STF_SATVouchersTable  vouchersTable;
        #    ;
        #
        #    vouchersTable.selectForUpdate(_update);
        #
        #    if (_reportId)
        #    {
        #        select firstonly vouchersTable
        #            index hint ReportIdIdx
        #            where vouchersTable.ReportId == _reportId;
        #    }
        #
        #    return vouchersTable;
        #}
      ENDSOURCE
      SOURCE #lookupLadgerAccount
        #public static void lookupLadgerAccount(FormControl _callingControl)
        #{
        #    Query                   query;
        #    QueryBuildDataSource    qbds;
        #    SysTableLookup          lookup;
        #    ;
        #
        #    query = new Query();
        #    qbds = query.addDataSource(tablenum(MainAccount));
        #
        #    lookup = SysTableLookup::newParameters(tablenum(MainAccount), _callingControl, true);
        #
        #    lookup.parmQuery(query);
        #    lookup.addLookupField(fieldnum(MainAccount, mainaccountid), true);
        #    lookup.addLookupField(fieldnum(MainAccount, name));
        #    lookup.performFormLookup();
        #}
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : STF_SATLedgerTrialBalanceTable unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #STF_SATLedgerTrialBalanceTable
    EnforceFKRelation 0
    PROPERTIES
      Name                #STF_SATLedgerTrialBalanceTable
      Label               #@INZ178
      TitleField1         #TrialBalanceId
      TitleField2         #FromDate
      CreatedBy           #Yes
      DeveloperDocumentation  #@INZ179
      Origin              #{F05D5838-B56B-4A1B-9DC2-8B87605E107C}
    ENDPROPERTIES
    
    FIELDS
      FIELD #ChartId
        STRING
        PROPERTIES
          Name                #ChartId
          Label               #@FSA85
          Mandatory           #Yes
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #STF_SATLedgerTrialBalanceTable
          Origin              #{7A05AD71-BE84-4AF1-8C8F-CE9D527B43B4}
          ExtendedDataType    #STF_SATChartId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #Description
        STRING
        PROPERTIES
          Name                #Description
          Table               #STF_SATLedgerTrialBalanceTable
          Origin              #{3A094C1F-A6B3-45D7-BE41-9929DD4549D8}
          ExtendedDataType    #Description
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #DocumentTypeId
        STRING
        PROPERTIES
          Name                #DocumentTypeId
          Label               #Clave
          Mandatory           #Yes
          Table               #STF_SATLedgerTrialBalanceTable
          Origin              #{1D1D1377-51F5-4986-8CF1-053192404879}
          ExtendedDataType    #STF_DocumentTypeId
          StringSize          #2
        ENDPROPERTIES
        
      FIELD #ElectronicAccountingVersion
        STRING
        PROPERTIES
          Name                #ElectronicAccountingVersion
          Mandatory           #Yes
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #STF_SATLedgerTrialBalanceTable
          Origin              #{3676BED2-4BC0-48F8-8ED2-AA38ED46C10C}
          ExtendedDataType    #STF_ElectronicAccountingVersion
          StringSize          #5
        ENDPROPERTIES
        
      FIELD #FromDate
        DATE
        PROPERTIES
          Name                #FromDate
          Mandatory           #Yes
          Table               #STF_SATLedgerTrialBalanceTable
          Origin              #{D07E665E-4150-43CB-A8A7-E72CD857C619}
          ExtendedDataType    #FromDate
        ENDPROPERTIES
        
      FIELD #NumberOfLedgerAccountsRetrieved
        INT
        PROPERTIES
          Name                #NumberOfLedgerAccountsRetrieved
          Label               #@FSA39
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #STF_SATLedgerTrialBalanceTable
          Origin              #{7FF52F24-FB24-401E-8D04-B55D6EC27E52}
          ExtendedDataType    #NumberOf
        ENDPROPERTIES
        
      FIELD #ToDate
        DATE
        PROPERTIES
          Name                #ToDate
          Mandatory           #Yes
          Table               #STF_SATLedgerTrialBalanceTable
          Origin              #{C545296D-0693-4E9F-BE15-DC040FBBE297}
          ExtendedDataType    #ToDate
        ENDPROPERTIES
        
      FIELD #TrialBalanceId
        STRING
        PROPERTIES
          Name                #TrialBalanceId
          Mandatory           #Yes
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #STF_SATLedgerTrialBalanceTable
          Origin              #{8CA37F1C-E32D-4816-8302-B676C8585C3E}
          ExtendedDataType    #STF_SATTrialBalanceId
          StringSize          #20
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoReport
        PROPERTIES
          Name                #AutoReport
        ENDPROPERTIES
        
        GROUPFIELDS
          #TrialBalanceId
          #ToDate
          #FromDate
          #Description
          #NumberOfLedgerAccountsRetrieved
          #ElectronicAccountingVersion
          #ChartId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #General
        PROPERTIES
          Name                #General
          Label               #@SYS55776
        ENDPROPERTIES
        
        GROUPFIELDS
          #TrialBalanceId
          #ToDate
          #FromDate
          #Description
          #NumberOfLedgerAccountsRetrieved
          #ElectronicAccountingVersion
          #ChartId
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #TrialBalanceIdIdx
      PROPERTIES
        Name                #TrialBalanceIdIdx
        AllowDuplicates     #No
        Origin              #{50F5B3C2-DA53-4791-8897-56C716D9DF7A}
      ENDPROPERTIES
      
      INDEXFIELDS
        #TrialBalanceId
      ENDINDEXFIELDS
      
      #ChartIdIdx
      PROPERTIES
        Name                #ChartIdIdx
        Origin              #{3C64711E-5997-4D5C-89F8-279E9CE7F632}
      ENDPROPERTIES
      
      INDEXFIELDS
        #ChartId
      ENDINDEXFIELDS
      
    ENDINDICES
    FULLTEXTINDICES
    ENDFULLTEXTINDICES
    REFERENCES
      REFERENCE #DocumentTypeId
        PROPERTIES
          Name                #DocumentTypeId
          Table               #STF_SetupDocumentTypeEATable
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #DocumentTypeId
            RelatedField        #Id
          ENDPROPERTIES
          
          REFERENCETYPE EXTERNFIXED
          PROPERTIES
            Table               #STF_SetupDocumentTypeEATable
            RelatedField        #Type
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
    ENDREFERENCES
    
    DELETEACTIONS
      #STF_SATLedgerTrialBalanceLine
      PROPERTIES
        Table               #STF_SATLedgerTrialBalanceLine
        DeleteAction        #Cascade
      ENDPROPERTIES
      
    ENDDELETEACTIONS
    
    METHODS
      SOURCE #initValue
        #public void initValue()
        #{
        #    super();
        #
        #    this.ElectronicAccountingVersion    = LedgerParameters::find().STF_ElectronicAccountingVersion;
        #    this.ChartId                        = STF_SATChartOfAccountsTable::findChartOfAccountActive().ChartId;
        #}
      ENDSOURCE
      SOURCE #validateField
        #public boolean validateField(fieldId _fieldIdToCheck)
        #{
        #    boolean                     ret;
        #    ;
        #
        #    ret = super(_fieldIdToCheck);
        #
        #
        #    if (ret)
        #    {
        #        switch (_fieldIdToCheck)
        #        {
        #            case fieldnum(STF_SATLedgerTrialBalanceTable, FromDate) :
        #                if (this.TrialBalanceId && STF_SATLedgerTrialBalanceLine::exist(this.TrialBalanceId))
        #                    ret = checkFailed("@FSA68");
        #                break;
        #
        #            case fieldnum(STF_SATLedgerTrialBalanceTable, ToDate) :
        #                if (this.TrialBalanceId && STF_SATLedgerTrialBalanceLine::exist(this.TrialBalanceId))
        #                    ret = checkFailed("@FSA68");
        #                break;
        #        }
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #find
        #static STF_SATLedgerTrialBalanceTable find(STF_SATTrialBalanceId _trialBalanceId, boolean _update = false)
        #{
        #    STF_SATLedgerTrialBalanceTable  trialBalanceTable;
        #    ;
        #
        #    trialBalanceTable.selectForUpdate(_update);
        #
        #    if (_trialBalanceId)
        #    {
        #        select firstonly trialBalanceTable
        #            index hint TrialBalanceIdIdx
        #            where trialBalanceTable.TrialBalanceId == _trialBalanceId;
        #    }
        #
        #    return trialBalanceTable;
        #}
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: FTM

; Microsoft Dynamics AX MENUITEM : STF_SetupDocumentTypeEA unloaded
; --------------------------------------------------------------------------------
  VERSION 1
  
  MENUITEM #STF_SetupDocumentTypeEA
    Type: 1
    PROPERTIES
      Name                #STF_SetupDocumentTypeEA
      Label               #Configuración de tipos de documentos
      Object              #Stf_setupDocumentTypeEA
      Origin              #{499B7793-4FF4-4EDA-AFD9-F2DD14C2F9D4}
    ENDPROPERTIES
    
  ENDMENUITEM
  

***Element: PRN

; Microsoft Dynamics AX Project : STF_ElectronicAccountingAdd2015 unloaded
; --------------------------------------------------------------------------------
  PROJECTVERSION 2
  
  PROJECT #STF_ElectronicAccountingAdd2015
  SHARED
  PROPERTIES
    Name                #STF_ElectronicAccountingAdd2015
    Origin              #{B1867762-AF6A-47B6-9C0C-A9A8EBD646A9}
  ENDPROPERTIES
  
    PROJECTCLASS ProjectNode
    GROUP #References
      PROPERTIES
        Name                #References
        ProjectGroupType    #References
        GroupMask           #
        PreventEditProperties #No
      ENDPROPERTIES
      
      GROUP #References
        PROPERTIES
          Name                #References
          ProjectGroupType    #References
          GroupMask           #
          PreventEditProperties #No
        ENDPROPERTIES
        
        BEGINNODE
          FILETYPE 0
          UTILTYPE 53
          UTILOBJECTID 0
          NODETYPE 822
          NAME #Ionic.Zip
        ENDNODE
        ENDGROUP
        
      ENDGROUP
      
    GROUP #Jobs
      PROPERTIES
        Name                #Jobs
        ProjectGroupType    #Jobs
        GroupMask           #
        PreventEditProperties #No
      ENDPROPERTIES
      
      BEGINNODE
        FILETYPE 0
        UTILTYPE 5
        UTILOBJECTID 0
        NODETYPE 215
        NAME #EspaciosBlanco
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 5
        UTILOBJECTID 0
        NODETYPE 215
        NAME #Stf_UploadChartsOfAccount
      ENDNODE
      ENDGROUP
      
    GROUP #Menues
      PROPERTIES
        Name                #Menues
        ProjectGroupType    #
        GroupMask           #
        PreventEditProperties #No
      ENDPROPERTIES
      
      BEGINNODE
        FILETYPE 0
        UTILTYPE 16
        UTILOBJECTID 0
        NODETYPE 205
        NAME #STF_ElectronicAccounting
      ENDNODE
      ENDGROUP
      
    GROUP #Macros
      PROPERTIES
        Name                #Macros
        ProjectGroupType    #Macros
        GroupMask           #
        PreventEditProperties #No
      ENDPROPERTIES
      
      BEGINNODE
        FILETYPE 0
        UTILTYPE 4
        UTILOBJECTID 0
        NODETYPE 218
        NAME #STF_ElectronicAccountingXmlTags
      ENDNODE
      ENDGROUP
      
    GROUP #Forms
      PROPERTIES
        Name                #Forms
        ProjectGroupType    #Forms
        GroupMask           #
        PreventEditProperties #No
      ENDPROPERTIES
      
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #BankGroup
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #STF_SATLedgerTrialBalanceLine
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #STF_SetupDocumentTypeEA
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #STF_SATLedgerTrialBalanceTable
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #STF_SATChartOfAccountsTable
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #STF_SATVouchersTable
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #STF_SATVouchersLine
      ENDNODE
      ENDGROUP
      
    GROUP #Classes
      PROPERTIES
        Name                #Classes
        ProjectGroupType    #Classes
        GroupMask           #
        PreventEditProperties #No
      ENDPROPERTIES
      
      BEGINNODE
        FILETYPE 0
        UTILTYPE 45
        UTILOBJECTID 50612
        NODETYPE 329
        NAME #STF_EAccountingSchemaValidation_MX
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 45
        UTILOBJECTID 1028021
        NODETYPE 329
        NAME #STF_ElectronicAccountingXMLValidation
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 45
        UTILOBJECTID 50614
        NODETYPE 329
        NAME #STF_CreateVouchersReportXML
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 45
        UTILOBJECTID 50606
        NODETYPE 329
        NAME #STF_CreateChartAccountXML
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 45
        UTILOBJECTID 50608
        NODETYPE 329
        NAME #STF_CreateTrialBalanceXML
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 45
        UTILOBJECTID 1028006
        NODETYPE 329
        NAME #STF_CalculateSATVouchersReport
      ENDNODE
      ENDGROUP
      
    GROUP #DataDictionary
      PROPERTIES
        Name                #DataDictionary
        ProjectGroupType    #DataDictionary
        GroupMask           #
        PreventEditProperties #No
      ENDPROPERTIES
      
      GROUP #ExtendedDataTypes
        PROPERTIES
          Name                #ExtendedDataTypes
          ProjectGroupType    #ExtendedDataTypes
          GroupMask           #
          PreventEditProperties #No
        ENDPROPERTIES
        
        BEGINNODE
          FILETYPE 0
          UTILTYPE 41
          UTILOBJECTID 50030
          NODETYPE 234
          NAME #STF_StepNumber
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 41
          UTILOBJECTID 50031
          NODETYPE 234
          NAME #STF_StrLarge
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 41
          UTILOBJECTID 50029
          NODETYPE 234
          NAME #STF_DocumentTypeId
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 41
          UTILOBJECTID 50028
          NODETYPE 234
          NAME #STF_Description
        ENDNODE
        ENDGROUP
        
      GROUP #BaseEnums
        PROPERTIES
          Name                #BaseEnums
          ProjectGroupType    #BaseEnums
          GroupMask           #
          PreventEditProperties #No
        ENDPROPERTIES
        
        BEGINNODE
          FILETYPE 0
          UTILTYPE 40
          UTILOBJECTID 50006
          NODETYPE 209
          NAME #STF_SubNodeType
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 40
          UTILOBJECTID 50023
          NODETYPE 209
          NAME #STF_DocumentTypeEnum
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 40
          UTILOBJECTID 50025
          NODETYPE 209
          NAME #STF_StepTypeEnum
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 40
          UTILOBJECTID 50024
          NODETYPE 209
          NAME #STF_ShippingType
        ENDNODE
        ENDGROUP
        
      GROUP #Tables
        PROPERTIES
          Name                #Tables
          ProjectGroupType    #Tables
          GroupMask           #
          PreventEditProperties #No
        ENDPROPERTIES
        
        BEGINNODE
          FILETYPE 0
          UTILTYPE 44
          UTILOBJECTID 5
          NODETYPE 204
          NAME #BankGroup
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 44
          UTILOBJECTID 105718
          NODETYPE 204
          NAME #STF_SATChartOfAccountsLine
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 44
          UTILOBJECTID 105723
          NODETYPE 204
          NAME #STF_SATSubLedgerTable
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 44
          UTILOBJECTID 105720
          NODETYPE 204
          NAME #STF_SATLedgerTable
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 44
          UTILOBJECTID 105724
          NODETYPE 204
          NAME #STF_SATSubVouchersLine
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 44
          UTILOBJECTID 105725
          NODETYPE 204
          NAME #STF_SATVouchersLine
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 44
          UTILOBJECTID 50033
          NODETYPE 204
          NAME #STF_SetupDocumentTypeEATable
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 44
          UTILOBJECTID 105721
          NODETYPE 204
          NAME #STF_SATLedgerTrialBalanceLine
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 44
          UTILOBJECTID 105719
          NODETYPE 204
          NAME #STF_SATChartOfAccountsTable
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 44
          UTILOBJECTID 105726
          NODETYPE 204
          NAME #STF_SATVouchersTable
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 44
          UTILOBJECTID 105722
          NODETYPE 204
          NAME #STF_SATLedgerTrialBalanceTable
        ENDNODE
        ENDGROUP
        
      ENDGROUP
      
    BEGINNODE
      FILETYPE 0
      UTILTYPE 1
      UTILOBJECTID 0
      NODETYPE 296
      NAME #STF_SetupDocumentTypeEA
    ENDNODE
  ENDPROJECT
  

***Element: END
